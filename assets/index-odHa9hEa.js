var _Q=Object.defineProperty;var u3=n=>{throw TypeError(n)};var bQ=(n,e,t)=>e in n?_Q(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ye=(n,e,t)=>bQ(n,typeof e!="symbol"?e+"":e,t),D2=(n,e,t)=>e.has(n)||u3("Cannot "+t);var y=(n,e,t)=>(D2(n,e,"read from private field"),t?t.call(n):e.get(n)),G=(n,e,t)=>e.has(n)?u3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),O=(n,e,t,i)=>(D2(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),W=(n,e,t)=>(D2(n,e,"access private method"),t);var ua=(n,e,t,i)=>({set _(s){O(n,e,s,t)},get _(){return y(n,e,i)}});function wQ(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var N2={exports:{}},mb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function xQ(){if(h3)return mb;h3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var a=null;if(r!==void 0&&(a=""+r),s.key!==void 0&&(a=""+s.key),"key"in s){r={};for(var l in s)l!=="key"&&(r[l]=s[l])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:a,ref:s!==void 0?s:null,props:r}}return mb.Fragment=e,mb.jsx=t,mb.jsxs=t,mb}var d3;function EQ(){return d3||(d3=1,N2.exports=xQ()),N2.exports}var b=EQ(),L2={exports:{}},pb={},O2={exports:{}},j2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function AQ(){return f3||(f3=1,function(n){function e(ee,se){var ie=ee.length;ee.push(se);e:for(;0<ie;){var Te=ie-1>>>1,J=ee[Te];if(0<s(J,se))ee[Te]=se,ee[ie]=J,ie=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var se=ee[0],ie=ee.pop();if(ie!==se){ee[0]=ie;e:for(var Te=0,J=ee.length,ce=J>>>1;Te<ce;){var ge=2*(Te+1)-1,ue=ee[ge],De=ge+1,$e=ee[De];if(0>s(ue,ie))De<J&&0>s($e,ue)?(ee[Te]=$e,ee[De]=ie,Te=De):(ee[Te]=ue,ee[ge]=ie,Te=ge);else if(De<J&&0>s($e,ie))ee[Te]=$e,ee[De]=ie,Te=De;else break e}}return se}function s(ee,se){var ie=ee.sortIndex-se.sortIndex;return ie!==0?ie:ee.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],h=[],f=1,p=null,v=3,w=!1,E=!1,S=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function z(ee){for(var se=t(h);se!==null;){if(se.callback===null)i(h);else if(se.startTime<=ee)i(h),se.sortIndex=se.expirationTime,e(c,se);else break;se=t(h)}}function V(ee){if(S=!1,z(ee),!E)if(t(c)!==null)E=!0,H||(H=!0,ne());else{var se=t(h);se!==null&&Le(V,se.startTime-ee)}}var H=!1,B=-1,j=5,q=-1;function Y(){return C?!0:!(n.unstable_now()-q<j)}function Z(){if(C=!1,H){var ee=n.unstable_now();q=ee;var se=!0;try{e:{E=!1,S&&(S=!1,N(B),B=-1),w=!0;var ie=v;try{t:{for(z(ee),p=t(c);p!==null&&!(p.expirationTime>ee&&Y());){var Te=p.callback;if(typeof Te=="function"){p.callback=null,v=p.priorityLevel;var J=Te(p.expirationTime<=ee);if(ee=n.unstable_now(),typeof J=="function"){p.callback=J,z(ee),se=!0;break t}p===t(c)&&i(c),z(ee)}else i(c);p=t(c)}if(p!==null)se=!0;else{var ce=t(h);ce!==null&&Le(V,ce.startTime-ee),se=!1}}break e}finally{p=null,v=ie,w=!1}se=void 0}}finally{se?ne():H=!1}}}var ne;if(typeof I=="function")ne=function(){I(Z)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,_e=Q.port2;Q.port1.onmessage=Z,ne=function(){_e.postMessage(null)}}else ne=function(){k(Z,0)};function Le(ee,se){B=k(function(){ee(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var ie=v;v=se;try{return ee()}finally{v=ie}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(ee,se){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ie=v;v=ee;try{return se()}finally{v=ie}},n.unstable_scheduleCallback=function(ee,se,ie){var Te=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Te+ie:Te):ie=Te,ee){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,ee={id:f++,callback:se,priorityLevel:ee,startTime:ie,expirationTime:J,sortIndex:-1},ie>Te?(ee.sortIndex=ie,e(h,ee),t(c)===null&&ee===t(h)&&(S?(N(B),B=-1):S=!0,Le(V,ie-Te))):(ee.sortIndex=J,e(c,ee),E||w||(E=!0,H||(H=!0,ne()))),ee},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(ee){var se=v;return function(){var ie=v;v=se;try{return ee.apply(this,arguments)}finally{v=ie}}}}(j2)),j2}var m3;function TQ(){return m3||(m3=1,O2.exports=AQ()),O2.exports}var F2={exports:{}},ln={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3;function SQ(){if(p3)return ln;p3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function v(J){return J===null||typeof J!="object"?null:(J=p&&J[p]||J["@@iterator"],typeof J=="function"?J:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function C(J,ce,ge){this.props=J,this.context=ce,this.refs=S,this.updater=ge||w}C.prototype.isReactComponent={},C.prototype.setState=function(J,ce){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,ce,"setState")},C.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function k(){}k.prototype=C.prototype;function N(J,ce,ge){this.props=J,this.context=ce,this.refs=S,this.updater=ge||w}var I=N.prototype=new k;I.constructor=N,E(I,C.prototype),I.isPureReactComponent=!0;var z=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function B(J,ce,ge,ue,De,$e){return ge=$e.ref,{$$typeof:n,type:J,key:ce,ref:ge!==void 0?ge:null,props:$e}}function j(J,ce){return B(J.type,ce,void 0,void 0,void 0,J.props)}function q(J){return typeof J=="object"&&J!==null&&J.$$typeof===n}function Y(J){var ce={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(ge){return ce[ge]})}var Z=/\/+/g;function ne(J,ce){return typeof J=="object"&&J!==null&&J.key!=null?Y(""+J.key):ce.toString(36)}function Q(){}function _e(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status=="string"?J.then(Q,Q):(J.status="pending",J.then(function(ce){J.status==="pending"&&(J.status="fulfilled",J.value=ce)},function(ce){J.status==="pending"&&(J.status="rejected",J.reason=ce)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function Le(J,ce,ge,ue,De){var $e=typeof J;($e==="undefined"||$e==="boolean")&&(J=null);var Pe=!1;if(J===null)Pe=!0;else switch($e){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(J.$$typeof){case n:case e:Pe=!0;break;case f:return Pe=J._init,Le(Pe(J._payload),ce,ge,ue,De)}}if(Pe)return De=De(J),Pe=ue===""?"."+ne(J,0):ue,z(De)?(ge="",Pe!=null&&(ge=Pe.replace(Z,"$&/")+"/"),Le(De,ce,ge,"",function(nt){return nt})):De!=null&&(q(De)&&(De=j(De,ge+(De.key==null||J&&J.key===De.key?"":(""+De.key).replace(Z,"$&/")+"/")+Pe)),ce.push(De)),1;Pe=0;var We=ue===""?".":ue+":";if(z(J))for(var je=0;je<J.length;je++)ue=J[je],$e=We+ne(ue,je),Pe+=Le(ue,ce,ge,$e,De);else if(je=v(J),typeof je=="function")for(J=je.call(J),je=0;!(ue=J.next()).done;)ue=ue.value,$e=We+ne(ue,je++),Pe+=Le(ue,ce,ge,$e,De);else if($e==="object"){if(typeof J.then=="function")return Le(_e(J),ce,ge,ue,De);throw ce=String(J),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ee(J,ce,ge){if(J==null)return J;var ue=[],De=0;return Le(J,ue,"","",function($e){return ce.call(ge,$e,De++)}),ue}function se(J){if(J._status===-1){var ce=J._result;ce=ce(),ce.then(function(ge){(J._status===0||J._status===-1)&&(J._status=1,J._result=ge)},function(ge){(J._status===0||J._status===-1)&&(J._status=2,J._result=ge)}),J._status===-1&&(J._status=0,J._result=ce)}if(J._status===1)return J._result.default;throw J._result}var ie=typeof reportError=="function"?reportError:function(J){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J=="object"&&J!==null&&typeof J.message=="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",J);return}console.error(J)};function Te(){}return ln.Children={map:ee,forEach:function(J,ce,ge){ee(J,function(){ce.apply(this,arguments)},ge)},count:function(J){var ce=0;return ee(J,function(){ce++}),ce},toArray:function(J){return ee(J,function(ce){return ce})||[]},only:function(J){if(!q(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ln.Component=C,ln.Fragment=t,ln.Profiler=s,ln.PureComponent=N,ln.StrictMode=i,ln.Suspense=c,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ln.__COMPILER_RUNTIME={__proto__:null,c:function(J){return V.H.useMemoCache(J)}},ln.cache=function(J){return function(){return J.apply(null,arguments)}},ln.cloneElement=function(J,ce,ge){if(J==null)throw Error("The argument must be a React element, but you passed "+J+".");var ue=E({},J.props),De=J.key,$e=void 0;if(ce!=null)for(Pe in ce.ref!==void 0&&($e=void 0),ce.key!==void 0&&(De=""+ce.key),ce)!H.call(ce,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ce.ref===void 0||(ue[Pe]=ce[Pe]);var Pe=arguments.length-2;if(Pe===1)ue.children=ge;else if(1<Pe){for(var We=Array(Pe),je=0;je<Pe;je++)We[je]=arguments[je+2];ue.children=We}return B(J.type,De,void 0,void 0,$e,ue)},ln.createContext=function(J){return J={$$typeof:a,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:r,_context:J},J},ln.createElement=function(J,ce,ge){var ue,De={},$e=null;if(ce!=null)for(ue in ce.key!==void 0&&($e=""+ce.key),ce)H.call(ce,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(De[ue]=ce[ue]);var Pe=arguments.length-2;if(Pe===1)De.children=ge;else if(1<Pe){for(var We=Array(Pe),je=0;je<Pe;je++)We[je]=arguments[je+2];De.children=We}if(J&&J.defaultProps)for(ue in Pe=J.defaultProps,Pe)De[ue]===void 0&&(De[ue]=Pe[ue]);return B(J,$e,void 0,void 0,null,De)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(J){return{$$typeof:l,render:J}},ln.isValidElement=q,ln.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:se}},ln.memo=function(J,ce){return{$$typeof:h,type:J,compare:ce===void 0?null:ce}},ln.startTransition=function(J){var ce=V.T,ge={};V.T=ge;try{var ue=J(),De=V.S;De!==null&&De(ge,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Te,ie)}catch($e){ie($e)}finally{V.T=ce}},ln.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ln.use=function(J){return V.H.use(J)},ln.useActionState=function(J,ce,ge){return V.H.useActionState(J,ce,ge)},ln.useCallback=function(J,ce){return V.H.useCallback(J,ce)},ln.useContext=function(J){return V.H.useContext(J)},ln.useDebugValue=function(){},ln.useDeferredValue=function(J,ce){return V.H.useDeferredValue(J,ce)},ln.useEffect=function(J,ce,ge){var ue=V.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(J,ce)},ln.useId=function(){return V.H.useId()},ln.useImperativeHandle=function(J,ce,ge){return V.H.useImperativeHandle(J,ce,ge)},ln.useInsertionEffect=function(J,ce){return V.H.useInsertionEffect(J,ce)},ln.useLayoutEffect=function(J,ce){return V.H.useLayoutEffect(J,ce)},ln.useMemo=function(J,ce){return V.H.useMemo(J,ce)},ln.useOptimistic=function(J,ce){return V.H.useOptimistic(J,ce)},ln.useReducer=function(J,ce,ge){return V.H.useReducer(J,ce,ge)},ln.useRef=function(J){return V.H.useRef(J)},ln.useState=function(J){return V.H.useState(J)},ln.useSyncExternalStore=function(J,ce,ge){return V.H.useSyncExternalStore(J,ce,ge)},ln.useTransition=function(){return V.H.useTransition()},ln.version="19.1.0",ln}var g3;function DC(){return g3||(g3=1,F2.exports=SQ()),F2.exports}var V2={exports:{}},Br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function CQ(){if(y3)return Br;y3=1;var n=DC();function e(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(c,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:c,containerInfo:h,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,h){if(c==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Br.createPortal=function(c,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return r(c,h,null,f)},Br.flushSync=function(c){var h=a.T,f=i.p;try{if(a.T=null,i.p=2,c)return c()}finally{a.T=h,i.p=f,i.d.f()}},Br.preconnect=function(c,h){typeof c=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(c,h))},Br.prefetchDNS=function(c){typeof c=="string"&&i.d.D(c)},Br.preinit=function(c,h){if(typeof c=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(c,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:w}):f==="script"&&i.d.X(c,{crossOrigin:p,integrity:v,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Br.preinitModule=function(c,h){if(typeof c=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);i.d.M(c,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(c)},Br.preload=function(c,h){if(typeof c=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);i.d.L(c,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Br.preloadModule=function(c,h){if(typeof c=="string")if(h){var f=l(h.as,h.crossOrigin);i.d.m(c,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(c)},Br.requestFormReset=function(c){i.d.r(c)},Br.unstable_batchedUpdates=function(c,h){return c(h)},Br.useFormState=function(c,h,f){return a.H.useFormState(c,h,f)},Br.useFormStatus=function(){return a.H.useHostTransitionStatus()},Br.version="19.1.0",Br}var v3;function Q6(){if(v3)return V2.exports;v3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),V2.exports=CQ(),V2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3;function RQ(){if(_3)return pb;_3=1;var n=TQ(),e=DC(),t=Q6();function i(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function r(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function a(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(r(o)!==o)throw Error(i(188))}function c(o){var u=o.alternate;if(!u){if(u=r(o),u===null)throw Error(i(188));return u!==o?null:o}for(var m=o,_=u;;){var T=m.return;if(T===null)break;var R=T.alternate;if(R===null){if(_=T.return,_!==null){m=_;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===m)return l(T),o;if(R===_)return l(T),u;R=R.sibling}throw Error(i(188))}if(m.return!==_.return)m=T,_=R;else{for(var $=!1,X=T.child;X;){if(X===m){$=!0,m=T,_=R;break}if(X===_){$=!0,_=T,m=R;break}X=X.sibling}if(!$){for(X=R.child;X;){if(X===m){$=!0,m=R,_=T;break}if(X===_){$=!0,_=R,m=T;break}X=X.sibling}if(!$)throw Error(i(189))}}if(m.alternate!==_)throw Error(i(190))}if(m.tag!==3)throw Error(i(188));return m.stateNode.current===m?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),I=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=Z&&o[Z]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function _e(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case H:return"SuspenseList";case q:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case I:return(o.displayName||"Context")+".Provider";case N:return(o._context.displayName||"Context")+".Consumer";case z:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case B:return u=o.displayName||null,u!==null?u:_e(o.type)||"Memo";case j:u=o._payload,o=o._init;try{return _e(o(u))}catch{}}return null}var Le=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Te=[],J=-1;function ce(o){return{current:o}}function ge(o){0>J||(o.current=Te[J],Te[J]=null,J--)}function ue(o,u){J++,Te[J]=o.current,o.current=u}var De=ce(null),$e=ce(null),Pe=ce(null),We=ce(null);function je(o,u){switch(ue(Pe,u),ue($e,o),ue(De,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?F4(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=F4(u),o=V4(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ge(De),ue(De,o)}function nt(){ge(De),ge($e),ge(Pe)}function et(o){o.memoizedState!==null&&ue(We,o);var u=De.current,m=V4(u,o.type);u!==m&&(ue($e,o),ue(De,m))}function Ct(o){$e.current===o&&(ge(De),ge($e)),We.current===o&&(ge(We),cb._currentValue=ie)}var Dt=Object.prototype.hasOwnProperty,cn=n.unstable_scheduleCallback,On=n.unstable_cancelCallback,Zi=n.unstable_shouldYield,Xi=n.unstable_requestPaint,jn=n.unstable_now,Qi=n.unstable_getCurrentPriorityLevel,Tt=n.unstable_ImmediatePriority,oe=n.unstable_UserBlockingPriority,be=n.unstable_NormalPriority,Ce=n.unstable_LowPriority,Ke=n.unstable_IdlePriority,fe=n.log,Ae=n.unstable_setDisableYieldValue,Oe=null,Xe=null;function Rt(o){if(typeof fe=="function"&&Ae(o),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Oe,o)}catch{}}var sn=Math.clz32?Math.clz32:es,Ji=Math.log,mi=Math.LN2;function es(o){return o>>>=0,o===0?32:31-(Ji(o)/mi|0)|0}var ks=256,ms=4194304;function ts(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function lr(o,u,m){var _=o.pendingLanes;if(_===0)return 0;var T=0,R=o.suspendedLanes,$=o.pingedLanes;o=o.warmLanes;var X=_&134217727;return X!==0?(_=X&~R,_!==0?T=ts(_):($&=X,$!==0?T=ts($):m||(m=X&~o,m!==0&&(T=ts(m))))):(X=_&~R,X!==0?T=ts(X):$!==0?T=ts($):m||(m=_&~o,m!==0&&(T=ts(m)))),T===0?0:u!==0&&u!==T&&(u&R)===0&&(R=T&-T,m=u&-u,R>=m||R===32&&(m&4194048)!==0)?u:T}function Ui(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function cr(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var o=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),o}function jo(){var o=ms;return ms<<=1,(ms&62914560)===0&&(ms=4194304),o}function ur(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function hr(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function qa(o,u,m,_,T,R){var $=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var X=o.entanglements,ae=o.expirationTimes,Ee=o.hiddenUpdates;for(m=$&~m;0<m;){var Fe=31-sn(m),Ue=1<<Fe;X[Fe]=0,ae[Fe]=-1;var Se=Ee[Fe];if(Se!==null)for(Ee[Fe]=null,Fe=0;Fe<Se.length;Fe++){var Re=Se[Fe];Re!==null&&(Re.lane&=-536870913)}m&=~Ue}_!==0&&kt(o,_,0),R!==0&&T===0&&o.tag!==0&&(o.suspendedLanes|=R&~($&~u))}function kt(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var _=31-sn(u);o.entangledLanes|=u,o.entanglements[_]=o.entanglements[_]|1073741824|m&4194090}function Yn(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var _=31-sn(m),T=1<<_;T&u|o[_]&u&&(o[_]|=u),m&=~T}}function ti(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Ti(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function le(){var o=se.p;return o!==0?o:(o=window.event,o===void 0?32:s3(o.type))}function de(o,u){var m=se.p;try{return se.p=o,u()}finally{se.p=m}}var me=Math.random().toString(36).slice(2),Ve="__reactFiber$"+me,qe="__reactProps$"+me,Je="__reactContainer$"+me,ht="__reactEvents$"+me,Ne="__reactListeners$"+me,ft="__reactHandles$"+me,Et="__reactResources$"+me,Nt="__reactMarker$"+me;function pt(o){delete o[Ve],delete o[qe],delete o[ht],delete o[Ne],delete o[ft]}function Lt(o){var u=o[Ve];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Je]||m[Ve]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=H4(o);o!==null;){if(m=o[Ve])return m;o=H4(o)}return u}o=m,m=o.parentNode}return null}function un(o){if(o=o[Ve]||o[Je]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function wn(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(i(33))}function Mn(o){var u=o[Et];return u||(u=o[Et]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function xn(o){o[Nt]=!0}var hn=new Set,Aa={};function ns(o,u){$s(o,u),$s(o+"Capture",u)}function $s(o,u){for(Aa[o]=u,o=0;o<u.length;o++)hn.add(u[o])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ta={},na={};function bc(o){return Dt.call(na,o)?!0:Dt.call(ta,o)?!1:Ms.test(o)?na[o]=!0:(ta[o]=!0,!1)}function qs(o,u,m){if(bc(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var _=u.toLowerCase().slice(0,5);if(_!=="data-"&&_!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function dr(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function qt(o,u,m,_){if(_===null)o.removeAttribute(m);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+_)}}var Si,Ps;function fr(o){if(Si===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Si=u&&u[1]||"",Ps=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Si+o+Ps}var Ga=!1;function Fn(o,u){if(!o||Ga)return"";Ga=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var _={DetermineComponentFrameRoot:function(){try{if(u){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Re){var Se=Re}Reflect.construct(o,[],Ue)}else{try{Ue.call()}catch(Re){Se=Re}o.call(Ue.prototype)}}else{try{throw Error()}catch(Re){Se=Re}(Ue=o())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Re){if(Re&&Se&&typeof Re.stack=="string")return[Re.stack,Se.stack]}return[null,null]}};_.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(_.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(_.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=_.DetermineComponentFrameRoot(),$=R[0],X=R[1];if($&&X){var ae=$.split(`
`),Ee=X.split(`
`);for(T=_=0;_<ae.length&&!ae[_].includes("DetermineComponentFrameRoot");)_++;for(;T<Ee.length&&!Ee[T].includes("DetermineComponentFrameRoot");)T++;if(_===ae.length||T===Ee.length)for(_=ae.length-1,T=Ee.length-1;1<=_&&0<=T&&ae[_]!==Ee[T];)T--;for(;1<=_&&0<=T;_--,T--)if(ae[_]!==Ee[T]){if(_!==1||T!==1)do if(_--,T--,0>T||ae[_]!==Ee[T]){var Fe=`
`+ae[_].replace(" at new "," at ");return o.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",o.displayName)),Fe}while(1<=_&&0<=T);break}}}finally{Ga=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?fr(m):""}function Zt(o){switch(o.tag){case 26:case 27:case 5:return fr(o.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Fn(o.type,!1);case 11:return Fn(o.type.render,!1);case 1:return Fn(o.type,!0);case 31:return fr("Activity");default:return""}}function Vn(o){try{var u="";do u+=Zt(o),o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function Hi(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fo(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function wc(o){var u=Fo(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),_=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,R=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return T.call(this)},set:function($){_=""+$,R.call(this,$)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function($){_=""+$},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function xc(o){o._valueTracker||(o._valueTracker=wc(o))}function Yt(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),_="";return o&&(_=Fo(o)?o.checked?"true":"false":o.value),o=_,o!==m?(u.setValue(o),!0):!1}function ni(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Dm=/[\n"\\]/g;function Ai(o){return o.replace(Dm,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function yi(o,u,m,_,T,R,$,X){o.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?o.type=$:o.removeAttribute("type"),u!=null?$==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Hi(u)):o.value!==""+Hi(u)&&(o.value=""+Hi(u)):$!=="submit"&&$!=="reset"||o.removeAttribute("value"),u!=null?Wa(o,$,Hi(u)):m!=null?Wa(o,$,Hi(m)):_!=null&&o.removeAttribute("value"),T==null&&R!=null&&(o.defaultChecked=!!R),T!=null&&(o.checked=T&&typeof T!="function"&&typeof T!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.name=""+Hi(X):o.removeAttribute("name")}function Pu(o,u,m,_,T,R,$,X){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.type=R),u!=null||m!=null){if(!(R!=="submit"&&R!=="reset"||u!=null))return;m=m!=null?""+Hi(m):"",u=u!=null?""+Hi(u):m,X||u===o.value||(o.value=u),o.defaultValue=u}_=_??T,_=typeof _!="function"&&typeof _!="symbol"&&!!_,o.checked=X?o.checked:!!_,o.defaultChecked=!!_,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(o.name=$)}function Wa(o,u,m){u==="number"&&ni(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function mr(o,u,m,_){if(o=o.options,u){u={};for(var T=0;T<m.length;T++)u["$"+m[T]]=!0;for(m=0;m<o.length;m++)T=u.hasOwnProperty("$"+o[m].value),o[m].selected!==T&&(o[m].selected=T),T&&_&&(o[m].defaultSelected=!0)}else{for(m=""+Hi(m),u=null,T=0;T<o.length;T++){if(o[T].value===m){o[T].selected=!0,_&&(o[T].defaultSelected=!0);return}u!==null||o[T].disabled||(u=o[T])}u!==null&&(u.selected=!0)}}function Ut(o,u,m){if(u!=null&&(u=""+Hi(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+Hi(m):""}function ia(o,u,m,_){if(u==null){if(_!=null){if(m!=null)throw Error(i(92));if(Le(_)){if(1<_.length)throw Error(i(93));_=_[0]}m=_}m==null&&(m=""),u=m}m=Hi(u),o.defaultValue=m,_=o.textContent,_===m&&_!==""&&_!==null&&(o.value=_)}function Gs(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Ka=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ad(o,u,m){var _=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?_?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":_?o.setProperty(u,m):typeof m!="number"||m===0||Ka.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function Al(o,u,m){if(u!=null&&typeof u!="object")throw Error(i(62));if(o=o.style,m!=null){for(var _ in m)!m.hasOwnProperty(_)||u!=null&&u.hasOwnProperty(_)||(_.indexOf("--")===0?o.setProperty(_,""):_==="float"?o.cssFloat="":o[_]="");for(var T in u)_=u[T],u.hasOwnProperty(T)&&m[T]!==_&&ad(o,T,_)}else for(var R in u)u.hasOwnProperty(R)&&ad(o,R,u[R])}function Iu(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),od=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ec(o){return od.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ya=null;function pr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Vo=null,Za=null;function Lm(o){var u=un(o);if(u&&(o=u.stateNode)){var m=o[qe]||null;e:switch(o=u.stateNode,u.type){case"input":if(yi(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ai(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var _=m[u];if(_!==o&&_.form===o.form){var T=_[qe]||null;if(!T)throw Error(i(90));yi(_,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<m.length;u++)_=m[u],_.form===o.form&&Yt(_)}break e;case"textarea":Ut(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&mr(o,!!m.multiple,u,!1)}}}var Ot=!1;function sa(o,u,m){if(Ot)return o(u,m);Ot=!0;try{var _=o(u);return _}finally{if(Ot=!1,(Vo!==null||Za!==null)&&(e1(),Vo&&(u=Vo,o=Za,Za=Vo=null,Lm(u),o)))for(u=0;u<o.length;u++)Lm(o[u])}}function Dn(o,u){var m=o.stateNode;if(m===null)return null;var _=m[qe]||null;if(_===null)return null;m=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(i(231,u,typeof m));return m}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Ta)try{var Tl={};Object.defineProperty(Tl,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{Lr=!1}var Sa=null,Or=null,Xa=null;function Sl(){if(Xa)return Xa;var o,u=Or,m=u.length,_,T="value"in Sa?Sa.value:Sa.textContent,R=T.length;for(o=0;o<m&&u[o]===T[o];o++);var $=m-o;for(_=1;_<=$&&u[m-_]===T[R-_];_++);return Xa=T.slice(o,1<_?1-_:void 0)}function ai(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Ws(){return!0}function ld(){return!1}function is(o){function u(m,_,T,R,$){this._reactName=m,this._targetInst=T,this.type=_,this.nativeEvent=R,this.target=$,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(m=o[X],this[X]=m?m(R):R[X]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Ws:ld,this.isPropagationStopped=ld,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),u}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Du=is(Hn),Cl=f({},Hn,{view:0,detail:0}),ny=is(Cl),Nu,on,Bo,Is=f({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bo&&(Bo&&o.type==="mousemove"?(Nu=o.screenX-Bo.screenX,on=o.screenY-Bo.screenY):on=Nu=0,Bo=o),Nu)},movementY:function(o){return"movementY"in o?o.movementY:on}}),Ks=is(Is),Om=f({},Is,{dataTransfer:0}),S0=is(Om),Rl=f({},Cl,{relatedTarget:0}),cd=is(Rl),ud=f({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),hd=is(ud),iy=f({},Hn,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ac=is(iy),C0=f({},Hn,{data:0}),jr=is(C0),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dd(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Qa[o])?!!u[o]:!1}function Tc(){return dd}var fd=f({},Cl,{key:function(o){if(o.key){var u=Lu[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ai(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?jm[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(o){return o.type==="keypress"?ai(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ai(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),md=is(fd),Fm=f({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=is(Fm),kl=f({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),sy=is(kl),gd=f({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ry=is(gd),Vm=f({},Is,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ou=is(Vm),gs=f({},Hn,{newState:0,oldState:0}),zo=is(gs),ay=[9,13,27,32],Fr=Ta&&"CompositionEvent"in window,x=null;Ta&&"documentMode"in document&&(x=document.documentMode);var D=Ta&&"TextEvent"in window&&!x,U=Ta&&(!Fr||x&&8<x&&11>=x),te=" ",ye=!1;function Me(o,u){switch(o){case"keyup":return ay.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qe(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Sn=!1;function $i(o,u){switch(o){case"compositionend":return Qe(u);case"keypress":return u.which!==32?null:(ye=!0,te);case"textInput":return o=u.data,o===te&&ye?null:o;default:return null}}function Cn(o,u){if(Sn)return o==="compositionend"||!Fr&&Me(o,u)?(o=Sl(),Xa=Or=Sa=null,Sn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return U&&u.locale!=="ko"?null:u.data;default:return null}}var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vi(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Xn[o.type]:u==="textarea"}function Ml(o,u,m,_){Vo?Za?Za.push(_):Za=[_]:Vo=_,u=a1(u,"onChange"),0<u.length&&(m=new Du("onChange","change",null,m,_),o.push({event:m,listeners:u}))}var pi=null,Uo=null;function Ho(o){D4(o,0)}function oy(o){var u=wn(o);if(Yt(u))return o}function yd(o,u){if(o==="change")return u}var R0=!1;if(Ta){var vd;if(Ta){var k0="oninput"in document;if(!k0){var Pl=document.createElement("div");Pl.setAttribute("oninput","return;"),k0=typeof Pl.oninput=="function"}vd=k0}else vd=!1;R0=vd&&(!document.documentMode||9<document.documentMode)}function Bm(){pi&&(pi.detachEvent("onpropertychange",_A),Uo=pi=null)}function _A(o){if(o.propertyName==="value"&&oy(Uo)){var u=[];Ml(u,Uo,o,pr(o)),sa(Ho,u)}}function M0(o,u,m){o==="focusin"?(Bm(),pi=u,Uo=m,pi.attachEvent("onpropertychange",_A)):o==="focusout"&&Bm()}function ik(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return oy(Uo)}function Il(o,u){if(o==="click")return oy(u)}function sk(o,u){if(o==="input"||o==="change")return oy(u)}function _d(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var ra=typeof Object.is=="function"?Object.is:_d;function aa(o,u){if(ra(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var T=m[_];if(!Dt.call(u,T)||!ra(o[T],u[T]))return!1}return!0}function zm(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function P0(o,u){var m=zm(o);o=0;for(var _;m;){if(m.nodeType===3){if(_=o+m.textContent.length,o<=u&&_>=u)return{node:m,offset:u-o};o=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=zm(m)}}function ly(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?ly(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Um(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ni(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=ni(o.document)}return u}function Hm(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var cy=Ta&&"documentMode"in document&&11>=document.documentMode,Ja=null,bd=null,ju=null,uy=!1;function bA(o,u,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;uy||Ja==null||Ja!==ni(_)||(_=Ja,"selectionStart"in _&&Hm(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),ju&&aa(ju,_)||(ju=_,_=a1(bd,"onSelect"),0<_.length&&(u=new Du("onSelect","select",null,u,m),o.push({event:u,listeners:_}),u.target=Ja)))}function $o(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var wd={animationend:$o("Animation","AnimationEnd"),animationiteration:$o("Animation","AnimationIteration"),animationstart:$o("Animation","AnimationStart"),transitionrun:$o("Transition","TransitionRun"),transitionstart:$o("Transition","TransitionStart"),transitioncancel:$o("Transition","TransitionCancel"),transitionend:$o("Transition","TransitionEnd")},hy={},wA={};Ta&&(wA=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function Sc(o){if(hy[o])return hy[o];if(!wd[o])return o;var u=wd[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in wA)return hy[o]=u[m];return o}var xA=Sc("animationend"),eo=Sc("animationiteration"),$m=Sc("animationstart"),rk=Sc("transitionrun"),dy=Sc("transitionstart"),ak=Sc("transitioncancel"),I0=Sc("transitionend"),EA=new Map,Fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fu.push("scrollEnd");function to(o,u){EA.set(o,u),ns(u,[o])}var Vu=new WeakMap;function oa(o,u){if(typeof o=="object"&&o!==null){var m=Vu.get(o);return m!==void 0?m:(u={value:o,source:u,stack:Vn(u)},Vu.set(o,u),u)}return{value:o,source:u,stack:Vn(u)}}var la=[],xd=0,no=0;function qm(){for(var o=xd,u=no=xd=0;u<o;){var m=la[u];la[u++]=null;var _=la[u];la[u++]=null;var T=la[u];la[u++]=null;var R=la[u];if(la[u++]=null,_!==null&&T!==null){var $=_.pending;$===null?T.next=T:(T.next=$.next,$.next=T),_.pending=T}R!==0&&Wm(m,T,R)}}function Gm(o,u,m,_){la[xd++]=o,la[xd++]=u,la[xd++]=m,la[xd++]=_,no|=_,o.lanes|=_,o=o.alternate,o!==null&&(o.lanes|=_)}function Bu(o,u,m,_){return Gm(o,u,m,_),Cc(o)}function Ed(o,u){return Gm(o,null,null,u),Cc(o)}function Wm(o,u,m){o.lanes|=m;var _=o.alternate;_!==null&&(_.lanes|=m);for(var T=!1,R=o.return;R!==null;)R.childLanes|=m,_=R.alternate,_!==null&&(_.childLanes|=m),R.tag===22&&(o=R.stateNode,o===null||o._visibility&1||(T=!0)),o=R,R=R.return;return o.tag===3?(R=o.stateNode,T&&u!==null&&(T=31-sn(m),o=R.hiddenUpdates,_=o[T],_===null?o[T]=[u]:_.push(u),u.lane=m|536870912),R):null}function Cc(o){if(50<tb)throw tb=0,i2=null,Error(i(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var zu={};function AA(o,u,m,_){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ca(o,u,m,_){return new AA(o,u,m,_)}function fy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qo(o,u){var m=o.alternate;return m===null?(m=ca(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function D0(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Km(o,u,m,_,T,R){var $=0;if(_=o,typeof o=="function")fy(o)&&($=1);else if(typeof o=="string")$=aQ(o,m,De.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case q:return o=ca(31,m,u,T),o.elementType=q,o.lanes=R,o;case E:return Rc(m.children,T,R,u);case S:$=8,T|=24;break;case C:return o=ca(12,m,u,T|2),o.elementType=C,o.lanes=R,o;case V:return o=ca(13,m,u,T),o.elementType=V,o.lanes=R,o;case H:return o=ca(19,m,u,T),o.elementType=H,o.lanes=R,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:case I:$=10;break e;case N:$=9;break e;case z:$=11;break e;case B:$=14;break e;case j:$=16,_=null;break e}$=29,m=Error(i(130,o===null?"null":typeof o,"")),_=null}return u=ca($,m,u,T),u.elementType=o,u.type=_,u.lanes=R,u}function Rc(o,u,m,_){return o=ca(7,o,_,u),o.lanes=m,o}function N0(o,u,m){return o=ca(6,o,null,u),o.lanes=m,o}function my(o,u,m){return u=ca(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Uu=[],Ad=0,d=null,g=0,A=[],M=0,F=null,K=1,re="";function ve(o,u){Uu[Ad++]=g,Uu[Ad++]=d,d=o,g=u}function ke(o,u,m){A[M++]=K,A[M++]=re,A[M++]=F,F=o;var _=K;o=re;var T=32-sn(_)-1;_&=~(1<<T),m+=1;var R=32-sn(u)+T;if(30<R){var $=T-T%5;R=(_&(1<<$)-1).toString(32),_>>=$,T-=$,K=1<<32-sn(u)+T|m<<T|_,re=R+o}else K=1<<R|m<<T|_,re=o}function Ge(o){o.return!==null&&(ve(o,1),ke(o,1,0))}function at(o){for(;o===d;)d=Uu[--Ad],Uu[Ad]=null,g=Uu[--Ad],Uu[Ad]=null;for(;o===F;)F=A[--M],A[M]=null,re=A[--M],A[M]=null,K=A[--M],A[M]=null}var gt=null,xt=null,Kt=!1,_i=null,Ni=!1,Ys=Error(i(519));function Ca(o){var u=Error(i(418,""));throw Sd(oa(u,o)),Ys}function TA(o){var u=o.stateNode,m=o.type,_=o.memoizedProps;switch(u[Ve]=o,u[qe]=_,m){case"dialog":An("cancel",u),An("close",u);break;case"iframe":case"object":case"embed":An("load",u);break;case"video":case"audio":for(m=0;m<ib.length;m++)An(ib[m],u);break;case"source":An("error",u);break;case"img":case"image":case"link":An("error",u),An("load",u);break;case"details":An("toggle",u);break;case"input":An("invalid",u),Pu(u,_.value,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name,!0),xc(u);break;case"select":An("invalid",u);break;case"textarea":An("invalid",u),ia(u,_.value,_.defaultValue,_.children),xc(u)}m=_.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||_.suppressHydrationWarning===!0||j4(u.textContent,m)?(_.popover!=null&&(An("beforetoggle",u),An("toggle",u)),_.onScroll!=null&&An("scroll",u),_.onScrollEnd!=null&&An("scrollend",u),_.onClick!=null&&(u.onclick=o1),u=!0):u=!1,u||Ca(o)}function SA(o){for(gt=o.return;gt;)switch(gt.tag){case 5:case 13:Ni=!1;return;case 27:case 3:Ni=!0;return;default:gt=gt.return}}function Ym(o){if(o!==gt)return!1;if(!Kt)return SA(o),Kt=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||_2(o.type,o.memoizedProps)),m=!m),m&&xt&&Ca(o),SA(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(u===0){xt=Ol(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;o=o.nextSibling}xt=null}}else u===27?(u=xt,zd(o.type)?(o=E2,E2=null,xt=o):xt=u):xt=gt?Ol(o.stateNode.nextSibling):null;return!0}function Td(){xt=gt=null,Kt=!1}function CA(){var o=_i;return o!==null&&(Ma===null?Ma=o:Ma.push.apply(Ma,o),_i=null),o}function Sd(o){_i===null?_i=[o]:_i.push(o)}var Ci=ce(null),Go=null,Dl=null;function kc(o,u,m){ue(Ci,u._currentValue),u._currentValue=m}function Nl(o){o._currentValue=Ci.current,ge(Ci)}function Zm(o,u,m){for(;o!==null;){var _=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),o===m)break;o=o.return}}function py(o,u,m,_){var T=o.child;for(T!==null&&(T.return=o);T!==null;){var R=T.dependencies;if(R!==null){var $=T.child;R=R.firstContext;e:for(;R!==null;){var X=R;R=T;for(var ae=0;ae<u.length;ae++)if(X.context===u[ae]){R.lanes|=m,X=R.alternate,X!==null&&(X.lanes|=m),Zm(R.return,m,o),_||($=null);break e}R=X.next}}else if(T.tag===18){if($=T.return,$===null)throw Error(i(341));$.lanes|=m,R=$.alternate,R!==null&&(R.lanes|=m),Zm($,m,o),$=null}else $=T.child;if($!==null)$.return=T;else for($=T;$!==null;){if($===o){$=null;break}if(T=$.sibling,T!==null){T.return=$.return,$=T;break}$=$.return}T=$}}function Xm(o,u,m,_){o=null;for(var T=u,R=!1;T!==null;){if(!R){if((T.flags&524288)!==0)R=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var $=T.alternate;if($===null)throw Error(i(387));if($=$.memoizedProps,$!==null){var X=T.type;ra(T.pendingProps.value,$.value)||(o!==null?o.push(X):o=[X])}}else if(T===We.current){if($=T.alternate,$===null)throw Error(i(387));$.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(o!==null?o.push(cb):o=[cb])}T=T.return}o!==null&&py(u,o,m,_),u.flags|=262144}function RA(o){for(o=o.firstContext;o!==null;){if(!ra(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Qm(o){Go=o,Dl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Vr(o){return Ej(Go,o)}function kA(o,u){return Go===null&&Qm(o),Ej(o,u)}function Ej(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},Dl===null){if(o===null)throw Error(i(308));Dl=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Dl=Dl.next=u;return m}var rX=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,_){o.push(_)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},aX=n.unstable_scheduleCallback,oX=n.unstable_NormalPriority,Ds={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ok(){return{controller:new rX,data:new Map,refCount:0}}function L0(o){o.refCount--,o.refCount===0&&aX(oX,function(){o.controller.abort()})}var O0=null,lk=0,gy=0,yy=null;function lX(o,u){if(O0===null){var m=O0=[];lk=0,gy=u2(),yy={status:"pending",value:void 0,then:function(_){m.push(_)}}}return lk++,u.then(Aj,Aj),u}function Aj(){if(--lk===0&&O0!==null){yy!==null&&(yy.status="fulfilled");var o=O0;O0=null,gy=0,yy=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function cX(o,u){var m=[],_={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return o.then(function(){_.status="fulfilled",_.value=u;for(var T=0;T<m.length;T++)(0,m[T])(u)},function(T){for(_.status="rejected",_.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),_}var Tj=ee.S;ee.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&lX(o,u),Tj!==null&&Tj(o,u)};var Jm=ce(null);function ck(){var o=Jm.current;return o!==null?o:bi.pooledCache}function MA(o,u){u===null?ue(Jm,Jm.current):ue(Jm,u.pool)}function Sj(){var o=ck();return o===null?null:{parent:Ds._currentValue,pool:o}}var j0=Error(i(460)),Cj=Error(i(474)),PA=Error(i(542)),uk={then:function(){}};function Rj(o){return o=o.status,o==="fulfilled"||o==="rejected"}function IA(){}function kj(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(IA,IA),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Pj(o),o;default:if(typeof u.status=="string")u.then(IA,IA);else{if(o=bi,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=u,o.status="pending",o.then(function(_){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=_}},function(_){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=_}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,Pj(o),o}throw F0=u,j0}}var F0=null;function Mj(){if(F0===null)throw Error(i(459));var o=F0;return F0=null,o}function Pj(o){if(o===j0||o===PA)throw Error(i(483))}var Cd=!1;function hk(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dk(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Rd(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function kd(o,u,m){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,(ii&2)!==0){var T=_.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),_.pending=u,u=Cc(o),Wm(o,null,m),u}return Gm(o,_,u,m),Cc(o)}function V0(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,Yn(o,m)}}function fk(o,u){var m=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var T=null,R=null;if(m=m.firstBaseUpdate,m!==null){do{var $={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};R===null?T=R=$:R=R.next=$,m=m.next}while(m!==null);R===null?T=R=u:R=R.next=u}else T=R=u;m={baseState:_.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:_.shared,callbacks:_.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var mk=!1;function B0(){if(mk){var o=yy;if(o!==null)throw o}}function z0(o,u,m,_){mk=!1;var T=o.updateQueue;Cd=!1;var R=T.firstBaseUpdate,$=T.lastBaseUpdate,X=T.shared.pending;if(X!==null){T.shared.pending=null;var ae=X,Ee=ae.next;ae.next=null,$===null?R=Ee:$.next=Ee,$=ae;var Fe=o.alternate;Fe!==null&&(Fe=Fe.updateQueue,X=Fe.lastBaseUpdate,X!==$&&(X===null?Fe.firstBaseUpdate=Ee:X.next=Ee,Fe.lastBaseUpdate=ae))}if(R!==null){var Ue=T.baseState;$=0,Fe=Ee=ae=null,X=R;do{var Se=X.lane&-536870913,Re=Se!==X.lane;if(Re?(Nn&Se)===Se:(_&Se)===Se){Se!==0&&Se===gy&&(mk=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Gt=o,Vt=X;Se=u;var ci=m;switch(Vt.tag){case 1:if(Gt=Vt.payload,typeof Gt=="function"){Ue=Gt.call(ci,Ue,Se);break e}Ue=Gt;break e;case 3:Gt.flags=Gt.flags&-65537|128;case 0:if(Gt=Vt.payload,Se=typeof Gt=="function"?Gt.call(ci,Ue,Se):Gt,Se==null)break e;Ue=f({},Ue,Se);break e;case 2:Cd=!0}}Se=X.callback,Se!==null&&(o.flags|=64,Re&&(o.flags|=8192),Re=T.callbacks,Re===null?T.callbacks=[Se]:Re.push(Se))}else Re={lane:Se,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Fe===null?(Ee=Fe=Re,ae=Ue):Fe=Fe.next=Re,$|=Se;if(X=X.next,X===null){if(X=T.shared.pending,X===null)break;Re=X,X=Re.next,Re.next=null,T.lastBaseUpdate=Re,T.shared.pending=null}}while(!0);Fe===null&&(ae=Ue),T.baseState=ae,T.firstBaseUpdate=Ee,T.lastBaseUpdate=Fe,R===null&&(T.shared.lanes=0),jd|=$,o.lanes=$,o.memoizedState=Ue}}function Ij(o,u){if(typeof o!="function")throw Error(i(191,o));o.call(u)}function Dj(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)Ij(m[o],u)}var vy=ce(null),DA=ce(0);function Nj(o,u){o=Yu,ue(DA,o),ue(vy,u),Yu=o|u.baseLanes}function pk(){ue(DA,Yu),ue(vy,vy.current)}function gk(){Yu=DA.current,ge(vy),ge(DA)}var Md=0,fn=null,oi=null,ys=null,NA=!1,_y=!1,ep=!1,LA=0,U0=0,by=null,uX=0;function ss(){throw Error(i(321))}function yk(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!ra(o[m],u[m]))return!1;return!0}function vk(o,u,m,_,T,R){return Md=R,fn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ee.H=o===null||o.memoizedState===null?yF:vF,ep=!1,R=m(_,T),ep=!1,_y&&(R=Oj(u,m,_,T)),Lj(o),R}function Lj(o){ee.H=zA;var u=oi!==null&&oi.next!==null;if(Md=0,ys=oi=fn=null,NA=!1,U0=0,by=null,u)throw Error(i(300));o===null||Zs||(o=o.dependencies,o!==null&&RA(o)&&(Zs=!0))}function Oj(o,u,m,_){fn=o;var T=0;do{if(_y&&(by=null),U0=0,_y=!1,25<=T)throw Error(i(301));if(T+=1,ys=oi=null,o.updateQueue!=null){var R=o.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}ee.H=yX,R=u(m,_)}while(_y);return R}function hX(){var o=ee.H,u=o.useState()[0];return u=typeof u.then=="function"?H0(u):u,o=o.useState()[0],(oi!==null?oi.memoizedState:null)!==o&&(fn.flags|=1024),u}function _k(){var o=LA!==0;return LA=0,o}function bk(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function wk(o){if(NA){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}NA=!1}Md=0,ys=oi=fn=null,_y=!1,U0=LA=0,by=null}function Ra(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?fn.memoizedState=ys=o:ys=ys.next=o,ys}function vs(){if(oi===null){var o=fn.alternate;o=o!==null?o.memoizedState:null}else o=oi.next;var u=ys===null?fn.memoizedState:ys.next;if(u!==null)ys=u,oi=o;else{if(o===null)throw fn.alternate===null?Error(i(467)):Error(i(310));oi=o,o={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},ys===null?fn.memoizedState=ys=o:ys=ys.next=o}return ys}function xk(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function H0(o){var u=U0;return U0+=1,by===null&&(by=[]),o=kj(by,o,u),u=fn,(ys===null?u.memoizedState:ys.next)===null&&(u=u.alternate,ee.H=u===null||u.memoizedState===null?yF:vF),o}function OA(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return H0(o);if(o.$$typeof===I)return Vr(o)}throw Error(i(438,String(o)))}function Ek(o){var u=null,m=fn.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var _=fn.alternate;_!==null&&(_=_.updateQueue,_!==null&&(_=_.memoCache,_!=null&&(u={data:_.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=xk(),fn.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),_=0;_<o;_++)m[_]=Y;return u.index++,m}function Hu(o,u){return typeof u=="function"?u(o):u}function jA(o){var u=vs();return Ak(u,oi,o)}function Ak(o,u,m){var _=o.queue;if(_===null)throw Error(i(311));_.lastRenderedReducer=m;var T=o.baseQueue,R=_.pending;if(R!==null){if(T!==null){var $=T.next;T.next=R.next,R.next=$}u.baseQueue=T=R,_.pending=null}if(R=o.baseState,T===null)o.memoizedState=R;else{u=T.next;var X=$=null,ae=null,Ee=u,Fe=!1;do{var Ue=Ee.lane&-536870913;if(Ue!==Ee.lane?(Nn&Ue)===Ue:(Md&Ue)===Ue){var Se=Ee.revertLane;if(Se===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ue===gy&&(Fe=!0);else if((Md&Se)===Se){Ee=Ee.next,Se===gy&&(Fe=!0);continue}else Ue={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ae===null?(X=ae=Ue,$=R):ae=ae.next=Ue,fn.lanes|=Se,jd|=Se;Ue=Ee.action,ep&&m(R,Ue),R=Ee.hasEagerState?Ee.eagerState:m(R,Ue)}else Se={lane:Ue,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ae===null?(X=ae=Se,$=R):ae=ae.next=Se,fn.lanes|=Ue,jd|=Ue;Ee=Ee.next}while(Ee!==null&&Ee!==u);if(ae===null?$=R:ae.next=X,!ra(R,o.memoizedState)&&(Zs=!0,Fe&&(m=yy,m!==null)))throw m;o.memoizedState=R,o.baseState=$,o.baseQueue=ae,_.lastRenderedState=R}return T===null&&(_.lanes=0),[o.memoizedState,_.dispatch]}function Tk(o){var u=vs(),m=u.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=o;var _=m.dispatch,T=m.pending,R=u.memoizedState;if(T!==null){m.pending=null;var $=T=T.next;do R=o(R,$.action),$=$.next;while($!==T);ra(R,u.memoizedState)||(Zs=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),m.lastRenderedState=R}return[R,_]}function jj(o,u,m){var _=fn,T=vs(),R=Kt;if(R){if(m===void 0)throw Error(i(407));m=m()}else m=u();var $=!ra((oi||T).memoizedState,m);$&&(T.memoizedState=m,Zs=!0),T=T.queue;var X=Bj.bind(null,_,T,o);if($0(2048,8,X,[o]),T.getSnapshot!==u||$||ys!==null&&ys.memoizedState.tag&1){if(_.flags|=2048,wy(9,FA(),Vj.bind(null,_,T,m,u),null),bi===null)throw Error(i(349));R||(Md&124)!==0||Fj(_,u,m)}return m}function Fj(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=fn.updateQueue,u===null?(u=xk(),fn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function Vj(o,u,m,_){u.value=m,u.getSnapshot=_,zj(u)&&Uj(o)}function Bj(o,u,m){return m(function(){zj(u)&&Uj(o)})}function zj(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!ra(o,m)}catch{return!0}}function Uj(o){var u=Ed(o,2);u!==null&&oo(u,o,2)}function Sk(o){var u=Ra();if(typeof o=="function"){var m=o;if(o=m(),ep){Rt(!0);try{m()}finally{Rt(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:o},u}function Hj(o,u,m,_){return o.baseState=m,Ak(o,oi,typeof _=="function"?_:Hu)}function dX(o,u,m,_,T){if(BA(o))throw Error(i(485));if(o=u.action,o!==null){var R={payload:T,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){R.listeners.push($)}};ee.T!==null?m(!0):R.isTransition=!1,_(R),m=u.pending,m===null?(R.next=u.pending=R,$j(u,R)):(R.next=m.next,u.pending=m.next=R)}}function $j(o,u){var m=u.action,_=u.payload,T=o.state;if(u.isTransition){var R=ee.T,$={};ee.T=$;try{var X=m(T,_),ae=ee.S;ae!==null&&ae($,X),qj(o,u,X)}catch(Ee){Ck(o,u,Ee)}finally{ee.T=R}}else try{R=m(T,_),qj(o,u,R)}catch(Ee){Ck(o,u,Ee)}}function qj(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(_){Gj(o,u,_)},function(_){return Ck(o,u,_)}):Gj(o,u,m)}function Gj(o,u,m){u.status="fulfilled",u.value=m,Wj(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,$j(o,m)))}function Ck(o,u,m){var _=o.pending;if(o.pending=null,_!==null){_=_.next;do u.status="rejected",u.reason=m,Wj(u),u=u.next;while(u!==_)}o.action=null}function Wj(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Kj(o,u){return u}function Yj(o,u){if(Kt){var m=bi.formState;if(m!==null){e:{var _=fn;if(Kt){if(xt){t:{for(var T=xt,R=Ni;T.nodeType!==8;){if(!R){T=null;break t}if(T=Ol(T.nextSibling),T===null){T=null;break t}}R=T.data,T=R==="F!"||R==="F"?T:null}if(T){xt=Ol(T.nextSibling),_=T.data==="F!";break e}}Ca(_)}_=!1}_&&(u=m[0])}}return m=Ra(),m.memoizedState=m.baseState=u,_={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kj,lastRenderedState:u},m.queue=_,m=mF.bind(null,fn,_),_.dispatch=m,_=Sk(!1),R=Ik.bind(null,fn,!1,_.queue),_=Ra(),T={state:u,dispatch:null,action:o,pending:null},_.queue=T,m=dX.bind(null,fn,T,R,m),T.dispatch=m,_.memoizedState=o,[u,m,!1]}function Zj(o){var u=vs();return Xj(u,oi,o)}function Xj(o,u,m){if(u=Ak(o,u,Kj)[0],o=jA(Hu)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var _=H0(u)}catch($){throw $===j0?PA:$}else _=u;u=vs();var T=u.queue,R=T.dispatch;return m!==u.memoizedState&&(fn.flags|=2048,wy(9,FA(),fX.bind(null,T,m),null)),[_,R,o]}function fX(o,u){o.action=u}function Qj(o){var u=vs(),m=oi;if(m!==null)return Xj(u,m,o);vs(),u=u.memoizedState,m=vs();var _=m.queue.dispatch;return m.memoizedState=o,[u,_,!1]}function wy(o,u,m,_){return o={tag:o,create:m,deps:_,inst:u,next:null},u=fn.updateQueue,u===null&&(u=xk(),fn.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(_=m.next,m.next=o,o.next=_,u.lastEffect=o),o}function FA(){return{destroy:void 0,resource:void 0}}function Jj(){return vs().memoizedState}function VA(o,u,m,_){var T=Ra();_=_===void 0?null:_,fn.flags|=o,T.memoizedState=wy(1|u,FA(),m,_)}function $0(o,u,m,_){var T=vs();_=_===void 0?null:_;var R=T.memoizedState.inst;oi!==null&&_!==null&&yk(_,oi.memoizedState.deps)?T.memoizedState=wy(u,R,m,_):(fn.flags|=o,T.memoizedState=wy(1|u,R,m,_))}function eF(o,u){VA(8390656,8,o,u)}function tF(o,u){$0(2048,8,o,u)}function nF(o,u){return $0(4,2,o,u)}function iF(o,u){return $0(4,4,o,u)}function sF(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function rF(o,u,m){m=m!=null?m.concat([o]):null,$0(4,4,sF.bind(null,u,o),m)}function Rk(){}function aF(o,u){var m=vs();u=u===void 0?null:u;var _=m.memoizedState;return u!==null&&yk(u,_[1])?_[0]:(m.memoizedState=[o,u],o)}function oF(o,u){var m=vs();u=u===void 0?null:u;var _=m.memoizedState;if(u!==null&&yk(u,_[1]))return _[0];if(_=o(),ep){Rt(!0);try{o()}finally{Rt(!1)}}return m.memoizedState=[_,u],_}function kk(o,u,m){return m===void 0||(Md&1073741824)!==0?o.memoizedState=u:(o.memoizedState=m,o=u4(),fn.lanes|=o,jd|=o,m)}function lF(o,u,m,_){return ra(m,u)?m:vy.current!==null?(o=kk(o,m,_),ra(o,u)||(Zs=!0),o):(Md&42)===0?(Zs=!0,o.memoizedState=m):(o=u4(),fn.lanes|=o,jd|=o,u)}function cF(o,u,m,_,T){var R=se.p;se.p=R!==0&&8>R?R:8;var $=ee.T,X={};ee.T=X,Ik(o,!1,u,m);try{var ae=T(),Ee=ee.S;if(Ee!==null&&Ee(X,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Fe=cX(ae,_);q0(o,u,Fe,ao(o))}else q0(o,u,_,ao(o))}catch(Ue){q0(o,u,{then:function(){},status:"rejected",reason:Ue},ao())}finally{se.p=R,ee.T=$}}function mX(){}function Mk(o,u,m,_){if(o.tag!==5)throw Error(i(476));var T=uF(o).queue;cF(o,T,u,ie,m===null?mX:function(){return hF(o),m(_)})}function uF(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:ie},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hu,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function hF(o){var u=uF(o).next.queue;q0(o,u,{},ao())}function Pk(){return Vr(cb)}function dF(){return vs().memoizedState}function fF(){return vs().memoizedState}function pX(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=ao();o=Rd(m);var _=kd(u,o,m);_!==null&&(oo(_,u,m),V0(_,u,m)),u={cache:ok()},o.payload=u;return}u=u.return}}function gX(o,u,m){var _=ao();m={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},BA(o)?pF(u,m):(m=Bu(o,u,m,_),m!==null&&(oo(m,o,_),gF(m,u,_)))}function mF(o,u,m){var _=ao();q0(o,u,m,_)}function q0(o,u,m,_){var T={lane:_,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(BA(o))pF(u,T);else{var R=o.alternate;if(o.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var $=u.lastRenderedState,X=R($,m);if(T.hasEagerState=!0,T.eagerState=X,ra(X,$))return Gm(o,u,T,0),bi===null&&qm(),!1}catch{}finally{}if(m=Bu(o,u,T,_),m!==null)return oo(m,o,_),gF(m,u,_),!0}return!1}function Ik(o,u,m,_){if(_={lane:2,revertLane:u2(),action:_,hasEagerState:!1,eagerState:null,next:null},BA(o)){if(u)throw Error(i(479))}else u=Bu(o,m,_,2),u!==null&&oo(u,o,2)}function BA(o){var u=o.alternate;return o===fn||u!==null&&u===fn}function pF(o,u){_y=NA=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function gF(o,u,m){if((m&4194048)!==0){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,Yn(o,m)}}var zA={readContext:Vr,use:OA,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useLayoutEffect:ss,useInsertionEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useSyncExternalStore:ss,useId:ss,useHostTransitionStatus:ss,useFormState:ss,useActionState:ss,useOptimistic:ss,useMemoCache:ss,useCacheRefresh:ss},yF={readContext:Vr,use:OA,useCallback:function(o,u){return Ra().memoizedState=[o,u===void 0?null:u],o},useContext:Vr,useEffect:eF,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,VA(4194308,4,sF.bind(null,u,o),m)},useLayoutEffect:function(o,u){return VA(4194308,4,o,u)},useInsertionEffect:function(o,u){VA(4,2,o,u)},useMemo:function(o,u){var m=Ra();u=u===void 0?null:u;var _=o();if(ep){Rt(!0);try{o()}finally{Rt(!1)}}return m.memoizedState=[_,u],_},useReducer:function(o,u,m){var _=Ra();if(m!==void 0){var T=m(u);if(ep){Rt(!0);try{m(u)}finally{Rt(!1)}}}else T=u;return _.memoizedState=_.baseState=T,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:T},_.queue=o,o=o.dispatch=gX.bind(null,fn,o),[_.memoizedState,o]},useRef:function(o){var u=Ra();return o={current:o},u.memoizedState=o},useState:function(o){o=Sk(o);var u=o.queue,m=mF.bind(null,fn,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:Rk,useDeferredValue:function(o,u){var m=Ra();return kk(m,o,u)},useTransition:function(){var o=Sk(!1);return o=cF.bind(null,fn,o.queue,!0,!1),Ra().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var _=fn,T=Ra();if(Kt){if(m===void 0)throw Error(i(407));m=m()}else{if(m=u(),bi===null)throw Error(i(349));(Nn&124)!==0||Fj(_,u,m)}T.memoizedState=m;var R={value:m,getSnapshot:u};return T.queue=R,eF(Bj.bind(null,_,R,o),[o]),_.flags|=2048,wy(9,FA(),Vj.bind(null,_,R,m,u),null),m},useId:function(){var o=Ra(),u=bi.identifierPrefix;if(Kt){var m=re,_=K;m=(_&~(1<<32-sn(_)-1)).toString(32)+m,u="«"+u+"R"+m,m=LA++,0<m&&(u+="H"+m.toString(32)),u+="»"}else m=uX++,u="«"+u+"r"+m.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:Pk,useFormState:Yj,useActionState:Yj,useOptimistic:function(o){var u=Ra();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=Ik.bind(null,fn,!0,m),m.dispatch=u,[o,u]},useMemoCache:Ek,useCacheRefresh:function(){return Ra().memoizedState=pX.bind(null,fn)}},vF={readContext:Vr,use:OA,useCallback:aF,useContext:Vr,useEffect:tF,useImperativeHandle:rF,useInsertionEffect:nF,useLayoutEffect:iF,useMemo:oF,useReducer:jA,useRef:Jj,useState:function(){return jA(Hu)},useDebugValue:Rk,useDeferredValue:function(o,u){var m=vs();return lF(m,oi.memoizedState,o,u)},useTransition:function(){var o=jA(Hu)[0],u=vs().memoizedState;return[typeof o=="boolean"?o:H0(o),u]},useSyncExternalStore:jj,useId:dF,useHostTransitionStatus:Pk,useFormState:Zj,useActionState:Zj,useOptimistic:function(o,u){var m=vs();return Hj(m,oi,o,u)},useMemoCache:Ek,useCacheRefresh:fF},yX={readContext:Vr,use:OA,useCallback:aF,useContext:Vr,useEffect:tF,useImperativeHandle:rF,useInsertionEffect:nF,useLayoutEffect:iF,useMemo:oF,useReducer:Tk,useRef:Jj,useState:function(){return Tk(Hu)},useDebugValue:Rk,useDeferredValue:function(o,u){var m=vs();return oi===null?kk(m,o,u):lF(m,oi.memoizedState,o,u)},useTransition:function(){var o=Tk(Hu)[0],u=vs().memoizedState;return[typeof o=="boolean"?o:H0(o),u]},useSyncExternalStore:jj,useId:dF,useHostTransitionStatus:Pk,useFormState:Qj,useActionState:Qj,useOptimistic:function(o,u){var m=vs();return oi!==null?Hj(m,oi,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Ek,useCacheRefresh:fF},xy=null,G0=0;function UA(o){var u=G0;return G0+=1,xy===null&&(xy=[]),kj(xy,o,u)}function W0(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function HA(o,u){throw u.$$typeof===p?Error(i(525)):(o=Object.prototype.toString.call(u),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function _F(o){var u=o._init;return u(o._payload)}function bF(o){function u(pe,he){if(o){var we=pe.deletions;we===null?(pe.deletions=[he],pe.flags|=16):we.push(he)}}function m(pe,he){if(!o)return null;for(;he!==null;)u(pe,he),he=he.sibling;return null}function _(pe){for(var he=new Map;pe!==null;)pe.key!==null?he.set(pe.key,pe):he.set(pe.index,pe),pe=pe.sibling;return he}function T(pe,he){return pe=qo(pe,he),pe.index=0,pe.sibling=null,pe}function R(pe,he,we){return pe.index=we,o?(we=pe.alternate,we!==null?(we=we.index,we<he?(pe.flags|=67108866,he):we):(pe.flags|=67108866,he)):(pe.flags|=1048576,he)}function $(pe){return o&&pe.alternate===null&&(pe.flags|=67108866),pe}function X(pe,he,we,ze){return he===null||he.tag!==6?(he=N0(we,pe.mode,ze),he.return=pe,he):(he=T(he,we),he.return=pe,he)}function ae(pe,he,we,ze){var vt=we.type;return vt===E?Fe(pe,he,we.props.children,ze,we.key):he!==null&&(he.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===j&&_F(vt)===he.type)?(he=T(he,we.props),W0(he,we),he.return=pe,he):(he=Km(we.type,we.key,we.props,null,pe.mode,ze),W0(he,we),he.return=pe,he)}function Ee(pe,he,we,ze){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=my(we,pe.mode,ze),he.return=pe,he):(he=T(he,we.children||[]),he.return=pe,he)}function Fe(pe,he,we,ze,vt){return he===null||he.tag!==7?(he=Rc(we,pe.mode,ze,vt),he.return=pe,he):(he=T(he,we),he.return=pe,he)}function Ue(pe,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=N0(""+he,pe.mode,we),he.return=pe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return we=Km(he.type,he.key,he.props,null,pe.mode,we),W0(we,he),we.return=pe,we;case w:return he=my(he,pe.mode,we),he.return=pe,he;case j:var ze=he._init;return he=ze(he._payload),Ue(pe,he,we)}if(Le(he)||ne(he))return he=Rc(he,pe.mode,we,null),he.return=pe,he;if(typeof he.then=="function")return Ue(pe,UA(he),we);if(he.$$typeof===I)return Ue(pe,kA(pe,he),we);HA(pe,he)}return null}function Se(pe,he,we,ze){var vt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return vt!==null?null:X(pe,he,""+we,ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return we.key===vt?ae(pe,he,we,ze):null;case w:return we.key===vt?Ee(pe,he,we,ze):null;case j:return vt=we._init,we=vt(we._payload),Se(pe,he,we,ze)}if(Le(we)||ne(we))return vt!==null?null:Fe(pe,he,we,ze,null);if(typeof we.then=="function")return Se(pe,he,UA(we),ze);if(we.$$typeof===I)return Se(pe,he,kA(pe,we),ze);HA(pe,we)}return null}function Re(pe,he,we,ze,vt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return pe=pe.get(we)||null,X(he,pe,""+ze,vt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case v:return pe=pe.get(ze.key===null?we:ze.key)||null,ae(he,pe,ze,vt);case w:return pe=pe.get(ze.key===null?we:ze.key)||null,Ee(he,pe,ze,vt);case j:var gn=ze._init;return ze=gn(ze._payload),Re(pe,he,we,ze,vt)}if(Le(ze)||ne(ze))return pe=pe.get(we)||null,Fe(he,pe,ze,vt,null);if(typeof ze.then=="function")return Re(pe,he,we,UA(ze),vt);if(ze.$$typeof===I)return Re(pe,he,we,kA(he,ze),vt);HA(he,ze)}return null}function Gt(pe,he,we,ze){for(var vt=null,gn=null,Mt=he,zt=he=0,Qs=null;Mt!==null&&zt<we.length;zt++){Mt.index>zt?(Qs=Mt,Mt=null):Qs=Mt.sibling;var $n=Se(pe,Mt,we[zt],ze);if($n===null){Mt===null&&(Mt=Qs);break}o&&Mt&&$n.alternate===null&&u(pe,Mt),he=R($n,he,zt),gn===null?vt=$n:gn.sibling=$n,gn=$n,Mt=Qs}if(zt===we.length)return m(pe,Mt),Kt&&ve(pe,zt),vt;if(Mt===null){for(;zt<we.length;zt++)Mt=Ue(pe,we[zt],ze),Mt!==null&&(he=R(Mt,he,zt),gn===null?vt=Mt:gn.sibling=Mt,gn=Mt);return Kt&&ve(pe,zt),vt}for(Mt=_(Mt);zt<we.length;zt++)Qs=Re(Mt,pe,zt,we[zt],ze),Qs!==null&&(o&&Qs.alternate!==null&&Mt.delete(Qs.key===null?zt:Qs.key),he=R(Qs,he,zt),gn===null?vt=Qs:gn.sibling=Qs,gn=Qs);return o&&Mt.forEach(function(Gd){return u(pe,Gd)}),Kt&&ve(pe,zt),vt}function Vt(pe,he,we,ze){if(we==null)throw Error(i(151));for(var vt=null,gn=null,Mt=he,zt=he=0,Qs=null,$n=we.next();Mt!==null&&!$n.done;zt++,$n=we.next()){Mt.index>zt?(Qs=Mt,Mt=null):Qs=Mt.sibling;var Gd=Se(pe,Mt,$n.value,ze);if(Gd===null){Mt===null&&(Mt=Qs);break}o&&Mt&&Gd.alternate===null&&u(pe,Mt),he=R(Gd,he,zt),gn===null?vt=Gd:gn.sibling=Gd,gn=Gd,Mt=Qs}if($n.done)return m(pe,Mt),Kt&&ve(pe,zt),vt;if(Mt===null){for(;!$n.done;zt++,$n=we.next())$n=Ue(pe,$n.value,ze),$n!==null&&(he=R($n,he,zt),gn===null?vt=$n:gn.sibling=$n,gn=$n);return Kt&&ve(pe,zt),vt}for(Mt=_(Mt);!$n.done;zt++,$n=we.next())$n=Re(Mt,pe,zt,$n.value,ze),$n!==null&&(o&&$n.alternate!==null&&Mt.delete($n.key===null?zt:$n.key),he=R($n,he,zt),gn===null?vt=$n:gn.sibling=$n,gn=$n);return o&&Mt.forEach(function(vQ){return u(pe,vQ)}),Kt&&ve(pe,zt),vt}function ci(pe,he,we,ze){if(typeof we=="object"&&we!==null&&we.type===E&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case v:e:{for(var vt=we.key;he!==null;){if(he.key===vt){if(vt=we.type,vt===E){if(he.tag===7){m(pe,he.sibling),ze=T(he,we.props.children),ze.return=pe,pe=ze;break e}}else if(he.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===j&&_F(vt)===he.type){m(pe,he.sibling),ze=T(he,we.props),W0(ze,we),ze.return=pe,pe=ze;break e}m(pe,he);break}else u(pe,he);he=he.sibling}we.type===E?(ze=Rc(we.props.children,pe.mode,ze,we.key),ze.return=pe,pe=ze):(ze=Km(we.type,we.key,we.props,null,pe.mode,ze),W0(ze,we),ze.return=pe,pe=ze)}return $(pe);case w:e:{for(vt=we.key;he!==null;){if(he.key===vt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){m(pe,he.sibling),ze=T(he,we.children||[]),ze.return=pe,pe=ze;break e}else{m(pe,he);break}else u(pe,he);he=he.sibling}ze=my(we,pe.mode,ze),ze.return=pe,pe=ze}return $(pe);case j:return vt=we._init,we=vt(we._payload),ci(pe,he,we,ze)}if(Le(we))return Gt(pe,he,we,ze);if(ne(we)){if(vt=ne(we),typeof vt!="function")throw Error(i(150));return we=vt.call(we),Vt(pe,he,we,ze)}if(typeof we.then=="function")return ci(pe,he,UA(we),ze);if(we.$$typeof===I)return ci(pe,he,kA(pe,we),ze);HA(pe,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(m(pe,he.sibling),ze=T(he,we),ze.return=pe,pe=ze):(m(pe,he),ze=N0(we,pe.mode,ze),ze.return=pe,pe=ze),$(pe)):m(pe,he)}return function(pe,he,we,ze){try{G0=0;var vt=ci(pe,he,we,ze);return xy=null,vt}catch(Mt){if(Mt===j0||Mt===PA)throw Mt;var gn=ca(29,Mt,null,pe.mode);return gn.lanes=ze,gn.return=pe,gn}finally{}}}var Ey=bF(!0),wF=bF(!1),Wo=ce(null),Mc=null;function Pd(o){var u=o.alternate;ue(Ns,Ns.current&1),ue(Wo,o),Mc===null&&(u===null||vy.current!==null||u.memoizedState!==null)&&(Mc=o)}function xF(o){if(o.tag===22){if(ue(Ns,Ns.current),ue(Wo,o),Mc===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(Mc=o)}}else Id()}function Id(){ue(Ns,Ns.current),ue(Wo,Wo.current)}function $u(o){ge(Wo),Mc===o&&(Mc=null),ge(Ns)}var Ns=ce(0);function $A(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||x2(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function Dk(o,u,m,_){u=o.memoizedState,m=m(_,u),m=m==null?u:f({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Nk={enqueueSetState:function(o,u,m){o=o._reactInternals;var _=ao(),T=Rd(_);T.payload=u,m!=null&&(T.callback=m),u=kd(o,T,_),u!==null&&(oo(u,o,_),V0(u,o,_))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var _=ao(),T=Rd(_);T.tag=1,T.payload=u,m!=null&&(T.callback=m),u=kd(o,T,_),u!==null&&(oo(u,o,_),V0(u,o,_))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=ao(),_=Rd(m);_.tag=2,u!=null&&(_.callback=u),u=kd(o,_,m),u!==null&&(oo(u,o,m),V0(u,o,m))}};function EF(o,u,m,_,T,R,$){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,R,$):u.prototype&&u.prototype.isPureReactComponent?!aa(m,_)||!aa(T,R):!0}function AF(o,u,m,_){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==o&&Nk.enqueueReplaceState(u,u.state,null)}function tp(o,u){var m=u;if("ref"in u){m={};for(var _ in u)_!=="ref"&&(m[_]=u[_])}if(o=o.defaultProps){m===u&&(m=f({},m));for(var T in o)m[T]===void 0&&(m[T]=o[T])}return m}var qA=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function TF(o){qA(o)}function SF(o){console.error(o)}function CF(o){qA(o)}function GA(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(_){setTimeout(function(){throw _})}}function RF(o,u,m){try{var _=o.onCaughtError;_(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Lk(o,u,m){return m=Rd(m),m.tag=3,m.payload={element:null},m.callback=function(){GA(o,u)},m}function kF(o){return o=Rd(o),o.tag=3,o}function MF(o,u,m,_){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var R=_.value;o.payload=function(){return T(R)},o.callback=function(){RF(u,m,_)}}var $=m.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(o.callback=function(){RF(u,m,_),typeof T!="function"&&(Fd===null?Fd=new Set([this]):Fd.add(this));var X=_.stack;this.componentDidCatch(_.value,{componentStack:X!==null?X:""})})}function vX(o,u,m,_,T){if(m.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){if(u=m.alternate,u!==null&&Xm(u,m,T,!0),m=Wo.current,m!==null){switch(m.tag){case 13:return Mc===null?r2():m.alternate===null&&qi===0&&(qi=3),m.flags&=-257,m.flags|=65536,m.lanes=T,_===uk?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([_]):u.add(_),o2(o,_,T)),!1;case 22:return m.flags|=65536,_===uk?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([_])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([_]):m.add(_)),o2(o,_,T)),!1}throw Error(i(435,m.tag))}return o2(o,_,T),r2(),!1}if(Kt)return u=Wo.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,_!==Ys&&(o=Error(i(422),{cause:_}),Sd(oa(o,m)))):(_!==Ys&&(u=Error(i(423),{cause:_}),Sd(oa(u,m))),o=o.current.alternate,o.flags|=65536,T&=-T,o.lanes|=T,_=oa(_,m),T=Lk(o.stateNode,_,T),fk(o,T),qi!==4&&(qi=2)),!1;var R=Error(i(520),{cause:_});if(R=oa(R,m),eb===null?eb=[R]:eb.push(R),qi!==4&&(qi=2),u===null)return!0;_=oa(_,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=T&-T,m.lanes|=o,o=Lk(m.stateNode,_,o),fk(m,o),!1;case 1:if(u=m.type,R=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Fd===null||!Fd.has(R))))return m.flags|=65536,T&=-T,m.lanes|=T,T=kF(T),MF(T,o,m,_),fk(m,T),!1}m=m.return}while(m!==null);return!1}var PF=Error(i(461)),Zs=!1;function gr(o,u,m,_){u.child=o===null?wF(u,null,m,_):Ey(u,o.child,m,_)}function IF(o,u,m,_,T){m=m.render;var R=u.ref;if("ref"in _){var $={};for(var X in _)X!=="ref"&&($[X]=_[X])}else $=_;return Qm(u),_=vk(o,u,m,$,R,T),X=_k(),o!==null&&!Zs?(bk(o,u,T),qu(o,u,T)):(Kt&&X&&Ge(u),u.flags|=1,gr(o,u,_,T),u.child)}function DF(o,u,m,_,T){if(o===null){var R=m.type;return typeof R=="function"&&!fy(R)&&R.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=R,NF(o,u,R,_,T)):(o=Km(m.type,null,_,u,u.mode,T),o.ref=u.ref,o.return=u,u.child=o)}if(R=o.child,!Hk(o,T)){var $=R.memoizedProps;if(m=m.compare,m=m!==null?m:aa,m($,_)&&o.ref===u.ref)return qu(o,u,T)}return u.flags|=1,o=qo(R,_),o.ref=u.ref,o.return=u,u.child=o}function NF(o,u,m,_,T){if(o!==null){var R=o.memoizedProps;if(aa(R,_)&&o.ref===u.ref)if(Zs=!1,u.pendingProps=_=R,Hk(o,T))(o.flags&131072)!==0&&(Zs=!0);else return u.lanes=o.lanes,qu(o,u,T)}return Ok(o,u,m,_,T)}function LF(o,u,m){var _=u.pendingProps,T=_.children,R=o!==null?o.memoizedState:null;if(_.mode==="hidden"){if((u.flags&128)!==0){if(_=R!==null?R.baseLanes|m:m,o!==null){for(T=u.child=o.child,R=0;T!==null;)R=R|T.lanes|T.childLanes,T=T.sibling;u.childLanes=R&~_}else u.childLanes=0,u.child=null;return OF(o,u,_,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&MA(u,R!==null?R.cachePool:null),R!==null?Nj(u,R):pk(),xF(u);else return u.lanes=u.childLanes=536870912,OF(o,u,R!==null?R.baseLanes|m:m,m)}else R!==null?(MA(u,R.cachePool),Nj(u,R),Id(),u.memoizedState=null):(o!==null&&MA(u,null),pk(),Id());return gr(o,u,T,m),u.child}function OF(o,u,m,_){var T=ck();return T=T===null?null:{parent:Ds._currentValue,pool:T},u.memoizedState={baseLanes:m,cachePool:T},o!==null&&MA(u,null),pk(),xF(u),o!==null&&Xm(o,u,_,!0),null}function WA(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(i(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function Ok(o,u,m,_,T){return Qm(u),m=vk(o,u,m,_,void 0,T),_=_k(),o!==null&&!Zs?(bk(o,u,T),qu(o,u,T)):(Kt&&_&&Ge(u),u.flags|=1,gr(o,u,m,T),u.child)}function jF(o,u,m,_,T,R){return Qm(u),u.updateQueue=null,m=Oj(u,_,m,T),Lj(o),_=_k(),o!==null&&!Zs?(bk(o,u,R),qu(o,u,R)):(Kt&&_&&Ge(u),u.flags|=1,gr(o,u,m,R),u.child)}function FF(o,u,m,_,T){if(Qm(u),u.stateNode===null){var R=zu,$=m.contextType;typeof $=="object"&&$!==null&&(R=Vr($)),R=new m(_,R),u.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=Nk,u.stateNode=R,R._reactInternals=u,R=u.stateNode,R.props=_,R.state=u.memoizedState,R.refs={},hk(u),$=m.contextType,R.context=typeof $=="object"&&$!==null?Vr($):zu,R.state=u.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Dk(u,m,$,_),R.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||($=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),$!==R.state&&Nk.enqueueReplaceState(R,R.state,null),z0(u,_,R,T),B0(),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308),_=!0}else if(o===null){R=u.stateNode;var X=u.memoizedProps,ae=tp(m,X);R.props=ae;var Ee=R.context,Fe=m.contextType;$=zu,typeof Fe=="object"&&Fe!==null&&($=Vr(Fe));var Ue=m.getDerivedStateFromProps;Fe=typeof Ue=="function"||typeof R.getSnapshotBeforeUpdate=="function",X=u.pendingProps!==X,Fe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(X||Ee!==$)&&AF(u,R,_,$),Cd=!1;var Se=u.memoizedState;R.state=Se,z0(u,_,R,T),B0(),Ee=u.memoizedState,X||Se!==Ee||Cd?(typeof Ue=="function"&&(Dk(u,m,Ue,_),Ee=u.memoizedState),(ae=Cd||EF(u,m,ae,_,Se,Ee,$))?(Fe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Ee),R.props=_,R.state=Ee,R.context=$,_=ae):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{R=u.stateNode,dk(o,u),$=u.memoizedProps,Fe=tp(m,$),R.props=Fe,Ue=u.pendingProps,Se=R.context,Ee=m.contextType,ae=zu,typeof Ee=="object"&&Ee!==null&&(ae=Vr(Ee)),X=m.getDerivedStateFromProps,(Ee=typeof X=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==Ue||Se!==ae)&&AF(u,R,_,ae),Cd=!1,Se=u.memoizedState,R.state=Se,z0(u,_,R,T),B0();var Re=u.memoizedState;$!==Ue||Se!==Re||Cd||o!==null&&o.dependencies!==null&&RA(o.dependencies)?(typeof X=="function"&&(Dk(u,m,X,_),Re=u.memoizedState),(Fe=Cd||EF(u,m,Fe,_,Se,Re,ae)||o!==null&&o.dependencies!==null&&RA(o.dependencies))?(Ee||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(_,Re,ae),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(_,Re,ae)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===o.memoizedProps&&Se===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Se===o.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=Re),R.props=_,R.state=Re,R.context=ae,_=Fe):(typeof R.componentDidUpdate!="function"||$===o.memoizedProps&&Se===o.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===o.memoizedProps&&Se===o.memoizedState||(u.flags|=1024),_=!1)}return R=_,WA(o,u),_=(u.flags&128)!==0,R||_?(R=u.stateNode,m=_&&typeof m.getDerivedStateFromError!="function"?null:R.render(),u.flags|=1,o!==null&&_?(u.child=Ey(u,o.child,null,T),u.child=Ey(u,null,m,T)):gr(o,u,m,T),u.memoizedState=R.state,o=u.child):o=qu(o,u,T),o}function VF(o,u,m,_){return Td(),u.flags|=256,gr(o,u,m,_),u.child}var jk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fk(o){return{baseLanes:o,cachePool:Sj()}}function Vk(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=Ko),o}function BF(o,u,m){var _=u.pendingProps,T=!1,R=(u.flags&128)!==0,$;if(($=R)||($=o!==null&&o.memoizedState===null?!1:(Ns.current&2)!==0),$&&(T=!0,u.flags&=-129),$=(u.flags&32)!==0,u.flags&=-33,o===null){if(Kt){if(T?Pd(u):Id(),Kt){var X=xt,ae;if(ae=X){e:{for(ae=X,X=Ni;ae.nodeType!==8;){if(!X){X=null;break e}if(ae=Ol(ae.nextSibling),ae===null){X=null;break e}}X=ae}X!==null?(u.memoizedState={dehydrated:X,treeContext:F!==null?{id:K,overflow:re}:null,retryLane:536870912,hydrationErrors:null},ae=ca(18,null,null,0),ae.stateNode=X,ae.return=u,u.child=ae,gt=u,xt=null,ae=!0):ae=!1}ae||Ca(u)}if(X=u.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return x2(X)?u.lanes=32:u.lanes=536870912,null;$u(u)}return X=_.children,_=_.fallback,T?(Id(),T=u.mode,X=KA({mode:"hidden",children:X},T),_=Rc(_,T,m,null),X.return=u,_.return=u,X.sibling=_,u.child=X,T=u.child,T.memoizedState=Fk(m),T.childLanes=Vk(o,$,m),u.memoizedState=jk,_):(Pd(u),Bk(u,X))}if(ae=o.memoizedState,ae!==null&&(X=ae.dehydrated,X!==null)){if(R)u.flags&256?(Pd(u),u.flags&=-257,u=zk(o,u,m)):u.memoizedState!==null?(Id(),u.child=o.child,u.flags|=128,u=null):(Id(),T=_.fallback,X=u.mode,_=KA({mode:"visible",children:_.children},X),T=Rc(T,X,m,null),T.flags|=2,_.return=u,T.return=u,_.sibling=T,u.child=_,Ey(u,o.child,null,m),_=u.child,_.memoizedState=Fk(m),_.childLanes=Vk(o,$,m),u.memoizedState=jk,u=T);else if(Pd(u),x2(X)){if($=X.nextSibling&&X.nextSibling.dataset,$)var Ee=$.dgst;$=Ee,_=Error(i(419)),_.stack="",_.digest=$,Sd({value:_,source:null,stack:null}),u=zk(o,u,m)}else if(Zs||Xm(o,u,m,!1),$=(m&o.childLanes)!==0,Zs||$){if($=bi,$!==null&&(_=m&-m,_=(_&42)!==0?1:ti(_),_=(_&($.suspendedLanes|m))!==0?0:_,_!==0&&_!==ae.retryLane))throw ae.retryLane=_,Ed(o,_),oo($,o,_),PF;X.data==="$?"||r2(),u=zk(o,u,m)}else X.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ae.treeContext,xt=Ol(X.nextSibling),gt=u,Kt=!0,_i=null,Ni=!1,o!==null&&(A[M++]=K,A[M++]=re,A[M++]=F,K=o.id,re=o.overflow,F=u),u=Bk(u,_.children),u.flags|=4096);return u}return T?(Id(),T=_.fallback,X=u.mode,ae=o.child,Ee=ae.sibling,_=qo(ae,{mode:"hidden",children:_.children}),_.subtreeFlags=ae.subtreeFlags&65011712,Ee!==null?T=qo(Ee,T):(T=Rc(T,X,m,null),T.flags|=2),T.return=u,_.return=u,_.sibling=T,u.child=_,_=T,T=u.child,X=o.child.memoizedState,X===null?X=Fk(m):(ae=X.cachePool,ae!==null?(Ee=Ds._currentValue,ae=ae.parent!==Ee?{parent:Ee,pool:Ee}:ae):ae=Sj(),X={baseLanes:X.baseLanes|m,cachePool:ae}),T.memoizedState=X,T.childLanes=Vk(o,$,m),u.memoizedState=jk,_):(Pd(u),m=o.child,o=m.sibling,m=qo(m,{mode:"visible",children:_.children}),m.return=u,m.sibling=null,o!==null&&($=u.deletions,$===null?(u.deletions=[o],u.flags|=16):$.push(o)),u.child=m,u.memoizedState=null,m)}function Bk(o,u){return u=KA({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function KA(o,u){return o=ca(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function zk(o,u,m){return Ey(u,o.child,null,m),o=Bk(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function zF(o,u,m){o.lanes|=u;var _=o.alternate;_!==null&&(_.lanes|=u),Zm(o.return,u,m)}function Uk(o,u,m,_,T){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:T}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=_,R.tail=m,R.tailMode=T)}function UF(o,u,m){var _=u.pendingProps,T=_.revealOrder,R=_.tail;if(gr(o,u,_.children,m),_=Ns.current,(_&2)!==0)_=_&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&zF(o,m,u);else if(o.tag===19)zF(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}switch(ue(Ns,_),T){case"forwards":for(m=u.child,T=null;m!==null;)o=m.alternate,o!==null&&$A(o)===null&&(T=m),m=m.sibling;m=T,m===null?(T=u.child,u.child=null):(T=m.sibling,m.sibling=null),Uk(u,!1,T,m,R);break;case"backwards":for(m=null,T=u.child,u.child=null;T!==null;){if(o=T.alternate,o!==null&&$A(o)===null){u.child=T;break}o=T.sibling,T.sibling=m,m=T,T=o}Uk(u,!0,m,null,R);break;case"together":Uk(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function qu(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),jd|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(Xm(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(i(153));if(u.child!==null){for(o=u.child,m=qo(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=qo(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function Hk(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&RA(o)))}function _X(o,u,m){switch(u.tag){case 3:je(u,u.stateNode.containerInfo),kc(u,Ds,o.memoizedState.cache),Td();break;case 27:case 5:et(u);break;case 4:je(u,u.stateNode.containerInfo);break;case 10:kc(u,u.type,u.memoizedProps.value);break;case 13:var _=u.memoizedState;if(_!==null)return _.dehydrated!==null?(Pd(u),u.flags|=128,null):(m&u.child.childLanes)!==0?BF(o,u,m):(Pd(u),o=qu(o,u,m),o!==null?o.sibling:null);Pd(u);break;case 19:var T=(o.flags&128)!==0;if(_=(m&u.childLanes)!==0,_||(Xm(o,u,m,!1),_=(m&u.childLanes)!==0),T){if(_)return UF(o,u,m);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ue(Ns,Ns.current),_)break;return null;case 22:case 23:return u.lanes=0,LF(o,u,m);case 24:kc(u,Ds,o.memoizedState.cache)}return qu(o,u,m)}function HF(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)Zs=!0;else{if(!Hk(o,m)&&(u.flags&128)===0)return Zs=!1,_X(o,u,m);Zs=(o.flags&131072)!==0}else Zs=!1,Kt&&(u.flags&1048576)!==0&&ke(u,g,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var _=u.elementType,T=_._init;if(_=T(_._payload),u.type=_,typeof _=="function")fy(_)?(o=tp(_,o),u.tag=1,u=FF(null,u,_,o,m)):(u.tag=0,u=Ok(null,u,_,o,m));else{if(_!=null){if(T=_.$$typeof,T===z){u.tag=11,u=IF(null,u,_,o,m);break e}else if(T===B){u.tag=14,u=DF(null,u,_,o,m);break e}}throw u=_e(_)||_,Error(i(306,u,""))}}return u;case 0:return Ok(o,u,u.type,u.pendingProps,m);case 1:return _=u.type,T=tp(_,u.pendingProps),FF(o,u,_,T,m);case 3:e:{if(je(u,u.stateNode.containerInfo),o===null)throw Error(i(387));_=u.pendingProps;var R=u.memoizedState;T=R.element,dk(o,u),z0(u,_,null,m);var $=u.memoizedState;if(_=$.cache,kc(u,Ds,_),_!==R.cache&&py(u,[Ds],m,!0),B0(),_=$.element,R.isDehydrated)if(R={element:_,isDehydrated:!1,cache:$.cache},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){u=VF(o,u,_,m);break e}else if(_!==T){T=oa(Error(i(424)),u),Sd(T),u=VF(o,u,_,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(xt=Ol(o.firstChild),gt=u,Kt=!0,_i=null,Ni=!0,m=wF(u,null,_,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Td(),_===T){u=qu(o,u,m);break e}gr(o,u,_,m)}u=u.child}return u;case 26:return WA(o,u),o===null?(m=W4(u.type,null,u.pendingProps,null))?u.memoizedState=m:Kt||(m=u.type,o=u.pendingProps,_=l1(Pe.current).createElement(m),_[Ve]=u,_[qe]=o,vr(_,m,o),xn(_),u.stateNode=_):u.memoizedState=W4(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return et(u),o===null&&Kt&&(_=u.stateNode=$4(u.type,u.pendingProps,Pe.current),gt=u,Ni=!0,T=xt,zd(u.type)?(E2=T,xt=Ol(_.firstChild)):xt=T),gr(o,u,u.pendingProps.children,m),WA(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Kt&&((T=_=xt)&&(_=WX(_,u.type,u.pendingProps,Ni),_!==null?(u.stateNode=_,gt=u,xt=Ol(_.firstChild),Ni=!1,T=!0):T=!1),T||Ca(u)),et(u),T=u.type,R=u.pendingProps,$=o!==null?o.memoizedProps:null,_=R.children,_2(T,R)?_=null:$!==null&&_2(T,$)&&(u.flags|=32),u.memoizedState!==null&&(T=vk(o,u,hX,null,null,m),cb._currentValue=T),WA(o,u),gr(o,u,_,m),u.child;case 6:return o===null&&Kt&&((o=m=xt)&&(m=KX(m,u.pendingProps,Ni),m!==null?(u.stateNode=m,gt=u,xt=null,o=!0):o=!1),o||Ca(u)),null;case 13:return BF(o,u,m);case 4:return je(u,u.stateNode.containerInfo),_=u.pendingProps,o===null?u.child=Ey(u,null,_,m):gr(o,u,_,m),u.child;case 11:return IF(o,u,u.type,u.pendingProps,m);case 7:return gr(o,u,u.pendingProps,m),u.child;case 8:return gr(o,u,u.pendingProps.children,m),u.child;case 12:return gr(o,u,u.pendingProps.children,m),u.child;case 10:return _=u.pendingProps,kc(u,u.type,_.value),gr(o,u,_.children,m),u.child;case 9:return T=u.type._context,_=u.pendingProps.children,Qm(u),T=Vr(T),_=_(T),u.flags|=1,gr(o,u,_,m),u.child;case 14:return DF(o,u,u.type,u.pendingProps,m);case 15:return NF(o,u,u.type,u.pendingProps,m);case 19:return UF(o,u,m);case 31:return _=u.pendingProps,m=u.mode,_={mode:_.mode,children:_.children},o===null?(m=KA(_,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=qo(o.child,_),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return LF(o,u,m);case 24:return Qm(u),_=Vr(Ds),o===null?(T=ck(),T===null&&(T=bi,R=ok(),T.pooledCache=R,R.refCount++,R!==null&&(T.pooledCacheLanes|=m),T=R),u.memoizedState={parent:_,cache:T},hk(u),kc(u,Ds,T)):((o.lanes&m)!==0&&(dk(o,u),z0(u,null,null,m),B0()),T=o.memoizedState,R=u.memoizedState,T.parent!==_?(T={parent:_,cache:_},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),kc(u,Ds,_)):(_=R.cache,kc(u,Ds,_),_!==T.cache&&py(u,[Ds],m,!0))),gr(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(i(156,u.tag))}function Gu(o){o.flags|=4}function $F(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Q4(u)){if(u=Wo.current,u!==null&&((Nn&4194048)===Nn?Mc!==null:(Nn&62914560)!==Nn&&(Nn&536870912)===0||u!==Mc))throw F0=uk,Cj;o.flags|=8192}}function YA(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?jo():536870912,o.lanes|=u,Cy|=u)}function K0(o,u){if(!Kt)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function Li(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,_=0;if(u)for(var T=o.child;T!==null;)m|=T.lanes|T.childLanes,_|=T.subtreeFlags&65011712,_|=T.flags&65011712,T.return=o,T=T.sibling;else for(T=o.child;T!==null;)m|=T.lanes|T.childLanes,_|=T.subtreeFlags,_|=T.flags,T.return=o,T=T.sibling;return o.subtreeFlags|=_,o.childLanes=m,u}function bX(o,u,m){var _=u.pendingProps;switch(at(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(u),null;case 1:return Li(u),null;case 3:return m=u.stateNode,_=null,o!==null&&(_=o.memoizedState.cache),u.memoizedState.cache!==_&&(u.flags|=2048),Nl(Ds),nt(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Ym(u)?Gu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,CA())),Li(u),null;case 26:return m=u.memoizedState,o===null?(Gu(u),m!==null?(Li(u),$F(u,m)):(Li(u),u.flags&=-16777217)):m?m!==o.memoizedState?(Gu(u),Li(u),$F(u,m)):(Li(u),u.flags&=-16777217):(o.memoizedProps!==_&&Gu(u),Li(u),u.flags&=-16777217),null;case 27:Ct(u),m=Pe.current;var T=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==_&&Gu(u);else{if(!_){if(u.stateNode===null)throw Error(i(166));return Li(u),null}o=De.current,Ym(u)?TA(u):(o=$4(T,_,m),u.stateNode=o,Gu(u))}return Li(u),null;case 5:if(Ct(u),m=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==_&&Gu(u);else{if(!_){if(u.stateNode===null)throw Error(i(166));return Li(u),null}if(o=De.current,Ym(u))TA(u);else{switch(T=l1(Pe.current),o){case 1:o=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=T.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof _.is=="string"?T.createElement("select",{is:_.is}):T.createElement("select"),_.multiple?o.multiple=!0:_.size&&(o.size=_.size);break;default:o=typeof _.is=="string"?T.createElement(m,{is:_.is}):T.createElement(m)}}o[Ve]=u,o[qe]=_;e:for(T=u.child;T!==null;){if(T.tag===5||T.tag===6)o.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===u)break e;for(;T.sibling===null;){if(T.return===null||T.return===u)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}u.stateNode=o;e:switch(vr(o,m,_),m){case"button":case"input":case"select":case"textarea":o=!!_.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Gu(u)}}return Li(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==_&&Gu(u);else{if(typeof _!="string"&&u.stateNode===null)throw Error(i(166));if(o=Pe.current,Ym(u)){if(o=u.stateNode,m=u.memoizedProps,_=null,T=gt,T!==null)switch(T.tag){case 27:case 5:_=T.memoizedProps}o[Ve]=u,o=!!(o.nodeValue===m||_!==null&&_.suppressHydrationWarning===!0||j4(o.nodeValue,m)),o||Ca(u)}else o=l1(o).createTextNode(_),o[Ve]=u,u.stateNode=o}return Li(u),null;case 13:if(_=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(T=Ym(u),_!==null&&_.dehydrated!==null){if(o===null){if(!T)throw Error(i(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(i(317));T[Ve]=u}else Td(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Li(u),T=!1}else T=CA(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?($u(u),u):($u(u),null)}if($u(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=_!==null,o=o!==null&&o.memoizedState!==null,m){_=u.child,T=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(T=_.alternate.memoizedState.cachePool.pool);var R=null;_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(R=_.memoizedState.cachePool.pool),R!==T&&(_.flags|=2048)}return m!==o&&m&&(u.child.flags|=8192),YA(u,u.updateQueue),Li(u),null;case 4:return nt(),o===null&&m2(u.stateNode.containerInfo),Li(u),null;case 10:return Nl(u.type),Li(u),null;case 19:if(ge(Ns),T=u.memoizedState,T===null)return Li(u),null;if(_=(u.flags&128)!==0,R=T.rendering,R===null)if(_)K0(T,!1);else{if(qi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(R=$A(o),R!==null){for(u.flags|=128,K0(T,!1),o=R.updateQueue,u.updateQueue=o,YA(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)D0(m,o),m=m.sibling;return ue(Ns,Ns.current&1|2),u.child}o=o.sibling}T.tail!==null&&jn()>QA&&(u.flags|=128,_=!0,K0(T,!1),u.lanes=4194304)}else{if(!_)if(o=$A(R),o!==null){if(u.flags|=128,_=!0,o=o.updateQueue,u.updateQueue=o,YA(u,o),K0(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!Kt)return Li(u),null}else 2*jn()-T.renderingStartTime>QA&&m!==536870912&&(u.flags|=128,_=!0,K0(T,!1),u.lanes=4194304);T.isBackwards?(R.sibling=u.child,u.child=R):(o=T.last,o!==null?o.sibling=R:u.child=R,T.last=R)}return T.tail!==null?(u=T.tail,T.rendering=u,T.tail=u.sibling,T.renderingStartTime=jn(),u.sibling=null,o=Ns.current,ue(Ns,_?o&1|2:o&1),u):(Li(u),null);case 22:case 23:return $u(u),gk(),_=u.memoizedState!==null,o!==null?o.memoizedState!==null!==_&&(u.flags|=8192):_&&(u.flags|=8192),_?(m&536870912)!==0&&(u.flags&128)===0&&(Li(u),u.subtreeFlags&6&&(u.flags|=8192)):Li(u),m=u.updateQueue,m!==null&&YA(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==m&&(u.flags|=2048),o!==null&&ge(Jm),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Nl(Ds),Li(u),null;case 25:return null;case 30:return null}throw Error(i(156,u.tag))}function wX(o,u){switch(at(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Nl(Ds),nt(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ct(u),null;case 13:if($u(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(i(340));Td()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return ge(Ns),null;case 4:return nt(),null;case 10:return Nl(u.type),null;case 22:case 23:return $u(u),gk(),o!==null&&ge(Jm),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Nl(Ds),null;case 25:return null;default:return null}}function qF(o,u){switch(at(u),u.tag){case 3:Nl(Ds),nt();break;case 26:case 27:case 5:Ct(u);break;case 4:nt();break;case 13:$u(u);break;case 19:ge(Ns);break;case 10:Nl(u.type);break;case 22:case 23:$u(u),gk(),o!==null&&ge(Jm);break;case 24:Nl(Ds)}}function Y0(o,u){try{var m=u.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var T=_.next;m=T;do{if((m.tag&o)===o){_=void 0;var R=m.create,$=m.inst;_=R(),$.destroy=_}m=m.next}while(m!==T)}}catch(X){gi(u,u.return,X)}}function Dd(o,u,m){try{var _=u.updateQueue,T=_!==null?_.lastEffect:null;if(T!==null){var R=T.next;_=R;do{if((_.tag&o)===o){var $=_.inst,X=$.destroy;if(X!==void 0){$.destroy=void 0,T=u;var ae=m,Ee=X;try{Ee()}catch(Fe){gi(T,ae,Fe)}}}_=_.next}while(_!==R)}}catch(Fe){gi(u,u.return,Fe)}}function GF(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{Dj(u,m)}catch(_){gi(o,o.return,_)}}}function WF(o,u,m){m.props=tp(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(_){gi(o,u,_)}}function Z0(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var _=o.stateNode;break;case 30:_=o.stateNode;break;default:_=o.stateNode}typeof m=="function"?o.refCleanup=m(_):m.current=_}}catch(T){gi(o,u,T)}}function Pc(o,u){var m=o.ref,_=o.refCleanup;if(m!==null)if(typeof _=="function")try{_()}catch(T){gi(o,u,T)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){gi(o,u,T)}else m.current=null}function KF(o){var u=o.type,m=o.memoizedProps,_=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&_.focus();break e;case"img":m.src?_.src=m.src:m.srcSet&&(_.srcset=m.srcSet)}}catch(T){gi(o,o.return,T)}}function $k(o,u,m){try{var _=o.stateNode;UX(_,o.type,m,u),_[qe]=u}catch(T){gi(o,o.return,T)}}function YF(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&zd(o.type)||o.tag===4}function qk(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||YF(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&zd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Gk(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=o1));else if(_!==4&&(_===27&&zd(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(Gk(o,u,m),o=o.sibling;o!==null;)Gk(o,u,m),o=o.sibling}function ZA(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(_!==4&&(_===27&&zd(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(ZA(o,u,m),o=o.sibling;o!==null;)ZA(o,u,m),o=o.sibling}function ZF(o){var u=o.stateNode,m=o.memoizedProps;try{for(var _=o.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);vr(u,_,m),u[Ve]=o,u[qe]=m}catch(R){gi(o,o.return,R)}}var Wu=!1,rs=!1,Wk=!1,XF=typeof WeakSet=="function"?WeakSet:Set,Xs=null;function xX(o,u){if(o=o.containerInfo,y2=m1,o=Um(o),Hm(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var T=_.anchorOffset,R=_.focusNode;_=_.focusOffset;try{m.nodeType,R.nodeType}catch{m=null;break e}var $=0,X=-1,ae=-1,Ee=0,Fe=0,Ue=o,Se=null;t:for(;;){for(var Re;Ue!==m||T!==0&&Ue.nodeType!==3||(X=$+T),Ue!==R||_!==0&&Ue.nodeType!==3||(ae=$+_),Ue.nodeType===3&&($+=Ue.nodeValue.length),(Re=Ue.firstChild)!==null;)Se=Ue,Ue=Re;for(;;){if(Ue===o)break t;if(Se===m&&++Ee===T&&(X=$),Se===R&&++Fe===_&&(ae=$),(Re=Ue.nextSibling)!==null)break;Ue=Se,Se=Ue.parentNode}Ue=Re}m=X===-1||ae===-1?null:{start:X,end:ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(v2={focusedElem:o,selectionRange:m},m1=!1,Xs=u;Xs!==null;)if(u=Xs,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Xs=o;else for(;Xs!==null;){switch(u=Xs,R=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&R!==null){o=void 0,m=u,T=R.memoizedProps,R=R.memoizedState,_=m.stateNode;try{var Gt=tp(m.type,T,m.elementType===m.type);o=_.getSnapshotBeforeUpdate(Gt,R),_.__reactInternalSnapshotBeforeUpdate=o}catch(Vt){gi(m,m.return,Vt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)w2(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":w2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=u.sibling,o!==null){o.return=u.return,Xs=o;break}Xs=u.return}}function QF(o,u,m){var _=m.flags;switch(m.tag){case 0:case 11:case 15:Nd(o,m),_&4&&Y0(5,m);break;case 1:if(Nd(o,m),_&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch($){gi(m,m.return,$)}else{var T=tp(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(T,u,o.__reactInternalSnapshotBeforeUpdate)}catch($){gi(m,m.return,$)}}_&64&&GF(m),_&512&&Z0(m,m.return);break;case 3:if(Nd(o,m),_&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{Dj(o,u)}catch($){gi(m,m.return,$)}}break;case 27:u===null&&_&4&&ZF(m);case 26:case 5:Nd(o,m),u===null&&_&4&&KF(m),_&512&&Z0(m,m.return);break;case 12:Nd(o,m);break;case 13:Nd(o,m),_&4&&t4(o,m),_&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=PX.bind(null,m),YX(o,m))));break;case 22:if(_=m.memoizedState!==null||Wu,!_){u=u!==null&&u.memoizedState!==null||rs,T=Wu;var R=rs;Wu=_,(rs=u)&&!R?Ld(o,m,(m.subtreeFlags&8772)!==0):Nd(o,m),Wu=T,rs=R}break;case 30:break;default:Nd(o,m)}}function JF(o){var u=o.alternate;u!==null&&(o.alternate=null,JF(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&pt(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ri=null,ka=!1;function Ku(o,u,m){for(m=m.child;m!==null;)e4(o,u,m),m=m.sibling}function e4(o,u,m){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Oe,m)}catch{}switch(m.tag){case 26:rs||Pc(m,u),Ku(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:rs||Pc(m,u);var _=Ri,T=ka;zd(m.type)&&(Ri=m.stateNode,ka=!1),Ku(o,u,m),rb(m.stateNode),Ri=_,ka=T;break;case 5:rs||Pc(m,u);case 6:if(_=Ri,T=ka,Ri=null,Ku(o,u,m),Ri=_,ka=T,Ri!==null)if(ka)try{(Ri.nodeType===9?Ri.body:Ri.nodeName==="HTML"?Ri.ownerDocument.body:Ri).removeChild(m.stateNode)}catch(R){gi(m,u,R)}else try{Ri.removeChild(m.stateNode)}catch(R){gi(m,u,R)}break;case 18:Ri!==null&&(ka?(o=Ri,U4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),fb(o)):U4(Ri,m.stateNode));break;case 4:_=Ri,T=ka,Ri=m.stateNode.containerInfo,ka=!0,Ku(o,u,m),Ri=_,ka=T;break;case 0:case 11:case 14:case 15:rs||Dd(2,m,u),rs||Dd(4,m,u),Ku(o,u,m);break;case 1:rs||(Pc(m,u),_=m.stateNode,typeof _.componentWillUnmount=="function"&&WF(m,u,_)),Ku(o,u,m);break;case 21:Ku(o,u,m);break;case 22:rs=(_=rs)||m.memoizedState!==null,Ku(o,u,m),rs=_;break;default:Ku(o,u,m)}}function t4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{fb(o)}catch(m){gi(u,u.return,m)}}function EX(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new XF),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new XF),u;default:throw Error(i(435,o.tag))}}function Kk(o,u){var m=EX(o);u.forEach(function(_){var T=IX.bind(null,o,_);m.has(_)||(m.add(_),_.then(T,T))})}function io(o,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var T=m[_],R=o,$=u,X=$;e:for(;X!==null;){switch(X.tag){case 27:if(zd(X.type)){Ri=X.stateNode,ka=!1;break e}break;case 5:Ri=X.stateNode,ka=!1;break e;case 3:case 4:Ri=X.stateNode.containerInfo,ka=!0;break e}X=X.return}if(Ri===null)throw Error(i(160));e4(R,$,T),Ri=null,ka=!1,R=T.alternate,R!==null&&(R.return=null),T.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)n4(u,o),u=u.sibling}var Ll=null;function n4(o,u){var m=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:io(u,o),so(o),_&4&&(Dd(3,o,o.return),Y0(3,o),Dd(5,o,o.return));break;case 1:io(u,o),so(o),_&512&&(rs||m===null||Pc(m,m.return)),_&64&&Wu&&(o=o.updateQueue,o!==null&&(_=o.callbacks,_!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?_:m.concat(_))));break;case 26:var T=Ll;if(io(u,o),so(o),_&512&&(rs||m===null||Pc(m,m.return)),_&4){var R=m!==null?m.memoizedState:null;if(_=o.memoizedState,m===null)if(_===null)if(o.stateNode===null){e:{_=o.type,m=o.memoizedProps,T=T.ownerDocument||T;t:switch(_){case"title":R=T.getElementsByTagName("title")[0],(!R||R[Nt]||R[Ve]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=T.createElement(_),T.head.insertBefore(R,T.querySelector("head > title"))),vr(R,_,m),R[Ve]=o,xn(R),_=R;break e;case"link":var $=Z4("link","href",T).get(_+(m.href||""));if($){for(var X=0;X<$.length;X++)if(R=$[X],R.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&R.getAttribute("rel")===(m.rel==null?null:m.rel)&&R.getAttribute("title")===(m.title==null?null:m.title)&&R.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){$.splice(X,1);break t}}R=T.createElement(_),vr(R,_,m),T.head.appendChild(R);break;case"meta":if($=Z4("meta","content",T).get(_+(m.content||""))){for(X=0;X<$.length;X++)if(R=$[X],R.getAttribute("content")===(m.content==null?null:""+m.content)&&R.getAttribute("name")===(m.name==null?null:m.name)&&R.getAttribute("property")===(m.property==null?null:m.property)&&R.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&R.getAttribute("charset")===(m.charSet==null?null:m.charSet)){$.splice(X,1);break t}}R=T.createElement(_),vr(R,_,m),T.head.appendChild(R);break;default:throw Error(i(468,_))}R[Ve]=o,xn(R),_=R}o.stateNode=_}else X4(T,o.type,o.stateNode);else o.stateNode=Y4(T,_,o.memoizedProps);else R!==_?(R===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):R.count--,_===null?X4(T,o.type,o.stateNode):Y4(T,_,o.memoizedProps)):_===null&&o.stateNode!==null&&$k(o,o.memoizedProps,m.memoizedProps)}break;case 27:io(u,o),so(o),_&512&&(rs||m===null||Pc(m,m.return)),m!==null&&_&4&&$k(o,o.memoizedProps,m.memoizedProps);break;case 5:if(io(u,o),so(o),_&512&&(rs||m===null||Pc(m,m.return)),o.flags&32){T=o.stateNode;try{Gs(T,"")}catch(Re){gi(o,o.return,Re)}}_&4&&o.stateNode!=null&&(T=o.memoizedProps,$k(o,T,m!==null?m.memoizedProps:T)),_&1024&&(Wk=!0);break;case 6:if(io(u,o),so(o),_&4){if(o.stateNode===null)throw Error(i(162));_=o.memoizedProps,m=o.stateNode;try{m.nodeValue=_}catch(Re){gi(o,o.return,Re)}}break;case 3:if(h1=null,T=Ll,Ll=c1(u.containerInfo),io(u,o),Ll=T,so(o),_&4&&m!==null&&m.memoizedState.isDehydrated)try{fb(u.containerInfo)}catch(Re){gi(o,o.return,Re)}Wk&&(Wk=!1,i4(o));break;case 4:_=Ll,Ll=c1(o.stateNode.containerInfo),io(u,o),so(o),Ll=_;break;case 12:io(u,o),so(o);break;case 13:io(u,o),so(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(e2=jn()),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Kk(o,_)));break;case 22:T=o.memoizedState!==null;var ae=m!==null&&m.memoizedState!==null,Ee=Wu,Fe=rs;if(Wu=Ee||T,rs=Fe||ae,io(u,o),rs=Fe,Wu=Ee,so(o),_&8192)e:for(u=o.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(m===null||ae||Wu||rs||np(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){ae=m=u;try{if(R=ae.stateNode,T)$=R.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{X=ae.stateNode;var Ue=ae.memoizedProps.style,Se=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;X.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Re){gi(ae,ae.return,Re)}}}else if(u.tag===6){if(m===null){ae=u;try{ae.stateNode.nodeValue=T?"":ae.memoizedProps}catch(Re){gi(ae,ae.return,Re)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}_&4&&(_=o.updateQueue,_!==null&&(m=_.retryQueue,m!==null&&(_.retryQueue=null,Kk(o,m))));break;case 19:io(u,o),so(o),_&4&&(_=o.updateQueue,_!==null&&(o.updateQueue=null,Kk(o,_)));break;case 30:break;case 21:break;default:io(u,o),so(o)}}function so(o){var u=o.flags;if(u&2){try{for(var m,_=o.return;_!==null;){if(YF(_)){m=_;break}_=_.return}if(m==null)throw Error(i(160));switch(m.tag){case 27:var T=m.stateNode,R=qk(o);ZA(o,R,T);break;case 5:var $=m.stateNode;m.flags&32&&(Gs($,""),m.flags&=-33);var X=qk(o);ZA(o,X,$);break;case 3:case 4:var ae=m.stateNode.containerInfo,Ee=qk(o);Gk(o,Ee,ae);break;default:throw Error(i(161))}}catch(Fe){gi(o,o.return,Fe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function i4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;i4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Nd(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)QF(o,u.alternate,u),u=u.sibling}function np(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Dd(4,u,u.return),np(u);break;case 1:Pc(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&WF(u,u.return,m),np(u);break;case 27:rb(u.stateNode);case 26:case 5:Pc(u,u.return),np(u);break;case 22:u.memoizedState===null&&np(u);break;case 30:np(u);break;default:np(u)}o=o.sibling}}function Ld(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var _=u.alternate,T=o,R=u,$=R.flags;switch(R.tag){case 0:case 11:case 15:Ld(T,R,m),Y0(4,R);break;case 1:if(Ld(T,R,m),_=R,T=_.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ee){gi(_,_.return,Ee)}if(_=R,T=_.updateQueue,T!==null){var X=_.stateNode;try{var ae=T.shared.hiddenCallbacks;if(ae!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ae.length;T++)Ij(ae[T],X)}catch(Ee){gi(_,_.return,Ee)}}m&&$&64&&GF(R),Z0(R,R.return);break;case 27:ZF(R);case 26:case 5:Ld(T,R,m),m&&_===null&&$&4&&KF(R),Z0(R,R.return);break;case 12:Ld(T,R,m);break;case 13:Ld(T,R,m),m&&$&4&&t4(T,R);break;case 22:R.memoizedState===null&&Ld(T,R,m),Z0(R,R.return);break;case 30:break;default:Ld(T,R,m)}u=u.sibling}}function Yk(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&L0(m))}function Zk(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&L0(o))}function Ic(o,u,m,_){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)s4(o,u,m,_),u=u.sibling}function s4(o,u,m,_){var T=u.flags;switch(u.tag){case 0:case 11:case 15:Ic(o,u,m,_),T&2048&&Y0(9,u);break;case 1:Ic(o,u,m,_);break;case 3:Ic(o,u,m,_),T&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&L0(o)));break;case 12:if(T&2048){Ic(o,u,m,_),o=u.stateNode;try{var R=u.memoizedProps,$=R.id,X=R.onPostCommit;typeof X=="function"&&X($,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ae){gi(u,u.return,ae)}}else Ic(o,u,m,_);break;case 13:Ic(o,u,m,_);break;case 23:break;case 22:R=u.stateNode,$=u.alternate,u.memoizedState!==null?R._visibility&2?Ic(o,u,m,_):X0(o,u):R._visibility&2?Ic(o,u,m,_):(R._visibility|=2,Ay(o,u,m,_,(u.subtreeFlags&10256)!==0)),T&2048&&Yk($,u);break;case 24:Ic(o,u,m,_),T&2048&&Zk(u.alternate,u);break;default:Ic(o,u,m,_)}}function Ay(o,u,m,_,T){for(T=T&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var R=o,$=u,X=m,ae=_,Ee=$.flags;switch($.tag){case 0:case 11:case 15:Ay(R,$,X,ae,T),Y0(8,$);break;case 23:break;case 22:var Fe=$.stateNode;$.memoizedState!==null?Fe._visibility&2?Ay(R,$,X,ae,T):X0(R,$):(Fe._visibility|=2,Ay(R,$,X,ae,T)),T&&Ee&2048&&Yk($.alternate,$);break;case 24:Ay(R,$,X,ae,T),T&&Ee&2048&&Zk($.alternate,$);break;default:Ay(R,$,X,ae,T)}u=u.sibling}}function X0(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,_=u,T=_.flags;switch(_.tag){case 22:X0(m,_),T&2048&&Yk(_.alternate,_);break;case 24:X0(m,_),T&2048&&Zk(_.alternate,_);break;default:X0(m,_)}u=u.sibling}}var Q0=8192;function Ty(o){if(o.subtreeFlags&Q0)for(o=o.child;o!==null;)r4(o),o=o.sibling}function r4(o){switch(o.tag){case 26:Ty(o),o.flags&Q0&&o.memoizedState!==null&&lQ(Ll,o.memoizedState,o.memoizedProps);break;case 5:Ty(o);break;case 3:case 4:var u=Ll;Ll=c1(o.stateNode.containerInfo),Ty(o),Ll=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Q0,Q0=16777216,Ty(o),Q0=u):Ty(o));break;default:Ty(o)}}function a4(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function J0(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var _=u[m];Xs=_,l4(_,o)}a4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)o4(o),o=o.sibling}function o4(o){switch(o.tag){case 0:case 11:case 15:J0(o),o.flags&2048&&Dd(9,o,o.return);break;case 3:J0(o);break;case 12:J0(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,XA(o)):J0(o);break;default:J0(o)}}function XA(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var _=u[m];Xs=_,l4(_,o)}a4(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Dd(8,u,u.return),XA(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,XA(u));break;default:XA(u)}o=o.sibling}}function l4(o,u){for(;Xs!==null;){var m=Xs;switch(m.tag){case 0:case 11:case 15:Dd(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var _=m.memoizedState.cachePool.pool;_!=null&&_.refCount++}break;case 24:L0(m.memoizedState.cache)}if(_=m.child,_!==null)_.return=m,Xs=_;else e:for(m=o;Xs!==null;){_=Xs;var T=_.sibling,R=_.return;if(JF(_),_===m){Xs=null;break e}if(T!==null){T.return=R,Xs=T;break e}Xs=R}}}var AX={getCacheForType:function(o){var u=Vr(Ds),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m}},TX=typeof WeakMap=="function"?WeakMap:Map,ii=0,bi=null,En=null,Nn=0,si=0,ro=null,Od=!1,Sy=!1,Xk=!1,Yu=0,qi=0,jd=0,ip=0,Qk=0,Ko=0,Cy=0,eb=null,Ma=null,Jk=!1,e2=0,QA=1/0,JA=null,Fd=null,yr=0,Vd=null,Ry=null,ky=0,t2=0,n2=null,c4=null,tb=0,i2=null;function ao(){if((ii&2)!==0&&Nn!==0)return Nn&-Nn;if(ee.T!==null){var o=gy;return o!==0?o:u2()}return le()}function u4(){Ko===0&&(Ko=(Nn&536870912)===0||Kt?ps():536870912);var o=Wo.current;return o!==null&&(o.flags|=32),Ko}function oo(o,u,m){(o===bi&&(si===2||si===9)||o.cancelPendingCommit!==null)&&(My(o,0),Bd(o,Nn,Ko,!1)),hr(o,m),((ii&2)===0||o!==bi)&&(o===bi&&((ii&2)===0&&(ip|=m),qi===4&&Bd(o,Nn,Ko,!1)),Dc(o))}function h4(o,u,m){if((ii&6)!==0)throw Error(i(327));var _=!m&&(u&124)===0&&(u&o.expiredLanes)===0||Ui(o,u),T=_?RX(o,u):a2(o,u,!0),R=_;do{if(T===0){Sy&&!_&&Bd(o,u,0,!1);break}else{if(m=o.current.alternate,R&&!SX(m)){T=a2(o,u,!1),R=!1;continue}if(T===2){if(R=u,o.errorRecoveryDisabledLanes&R)var $=0;else $=o.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){u=$;e:{var X=o;T=eb;var ae=X.current.memoizedState.isDehydrated;if(ae&&(My(X,$).flags|=256),$=a2(X,$,!1),$!==2){if(Xk&&!ae){X.errorRecoveryDisabledLanes|=R,ip|=R,T=4;break e}R=Ma,Ma=T,R!==null&&(Ma===null?Ma=R:Ma.push.apply(Ma,R))}T=$}if(R=!1,T!==2)continue}}if(T===1){My(o,0),Bd(o,u,0,!0);break}e:{switch(_=o,R=T,R){case 0:case 1:throw Error(i(345));case 4:if((u&4194048)!==u)break;case 6:Bd(_,u,Ko,!Od);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(i(329))}if((u&62914560)===u&&(T=e2+300-jn(),10<T)){if(Bd(_,u,Ko,!Od),lr(_,0,!0)!==0)break e;_.timeoutHandle=B4(d4.bind(null,_,m,Ma,JA,Jk,u,Ko,ip,Cy,Od,R,2,-0,0),T);break e}d4(_,m,Ma,JA,Jk,u,Ko,ip,Cy,Od,R,0,-0,0)}}break}while(!0);Dc(o)}function d4(o,u,m,_,T,R,$,X,ae,Ee,Fe,Ue,Se,Re){if(o.timeoutHandle=-1,Ue=u.subtreeFlags,(Ue&8192||(Ue&16785408)===16785408)&&(lb={stylesheets:null,count:0,unsuspend:oQ},r4(u),Ue=cQ(),Ue!==null)){o.cancelPendingCommit=Ue(_4.bind(null,o,u,R,m,_,T,$,X,ae,Fe,1,Se,Re)),Bd(o,R,$,!Ee);return}_4(o,u,R,m,_,T,$,X,ae)}function SX(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var _=0;_<m.length;_++){var T=m[_],R=T.getSnapshot;T=T.value;try{if(!ra(R(),T))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Bd(o,u,m,_){u&=~Qk,u&=~ip,o.suspendedLanes|=u,o.pingedLanes&=~u,_&&(o.warmLanes|=u),_=o.expirationTimes;for(var T=u;0<T;){var R=31-sn(T),$=1<<R;_[R]=-1,T&=~$}m!==0&&kt(o,m,u)}function e1(){return(ii&6)===0?(nb(0),!1):!0}function s2(){if(En!==null){if(si===0)var o=En.return;else o=En,Dl=Go=null,wk(o),xy=null,G0=0,o=En;for(;o!==null;)qF(o.alternate,o),o=o.return;En=null}}function My(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,$X(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),s2(),bi=o,En=m=qo(o.current,null),Nn=u,si=0,ro=null,Od=!1,Sy=Ui(o,u),Xk=!1,Cy=Ko=Qk=ip=jd=qi=0,Ma=eb=null,Jk=!1,(u&8)!==0&&(u|=u&32);var _=o.entangledLanes;if(_!==0)for(o=o.entanglements,_&=u;0<_;){var T=31-sn(_),R=1<<T;u|=o[T],_&=~R}return Yu=u,qm(),m}function f4(o,u){fn=null,ee.H=zA,u===j0||u===PA?(u=Mj(),si=3):u===Cj?(u=Mj(),si=4):si=u===PF?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ro=u,En===null&&(qi=1,GA(o,oa(u,o.current)))}function m4(){var o=ee.H;return ee.H=zA,o===null?zA:o}function p4(){var o=ee.A;return ee.A=AX,o}function r2(){qi=4,Od||(Nn&4194048)!==Nn&&Wo.current!==null||(Sy=!0),(jd&134217727)===0&&(ip&134217727)===0||bi===null||Bd(bi,Nn,Ko,!1)}function a2(o,u,m){var _=ii;ii|=2;var T=m4(),R=p4();(bi!==o||Nn!==u)&&(JA=null,My(o,u)),u=!1;var $=qi;e:do try{if(si!==0&&En!==null){var X=En,ae=ro;switch(si){case 8:s2(),$=6;break e;case 3:case 2:case 9:case 6:Wo.current===null&&(u=!0);var Ee=si;if(si=0,ro=null,Py(o,X,ae,Ee),m&&Sy){$=0;break e}break;default:Ee=si,si=0,ro=null,Py(o,X,ae,Ee)}}CX(),$=qi;break}catch(Fe){f4(o,Fe)}while(!0);return u&&o.shellSuspendCounter++,Dl=Go=null,ii=_,ee.H=T,ee.A=R,En===null&&(bi=null,Nn=0,qm()),$}function CX(){for(;En!==null;)g4(En)}function RX(o,u){var m=ii;ii|=2;var _=m4(),T=p4();bi!==o||Nn!==u?(JA=null,QA=jn()+500,My(o,u)):Sy=Ui(o,u);e:do try{if(si!==0&&En!==null){u=En;var R=ro;t:switch(si){case 1:si=0,ro=null,Py(o,u,R,1);break;case 2:case 9:if(Rj(R)){si=0,ro=null,y4(u);break}u=function(){si!==2&&si!==9||bi!==o||(si=7),Dc(o)},R.then(u,u);break e;case 3:si=7;break e;case 4:si=5;break e;case 7:Rj(R)?(si=0,ro=null,y4(u)):(si=0,ro=null,Py(o,u,R,7));break;case 5:var $=null;switch(En.tag){case 26:$=En.memoizedState;case 5:case 27:var X=En;if(!$||Q4($)){si=0,ro=null;var ae=X.sibling;if(ae!==null)En=ae;else{var Ee=X.return;Ee!==null?(En=Ee,t1(Ee)):En=null}break t}}si=0,ro=null,Py(o,u,R,5);break;case 6:si=0,ro=null,Py(o,u,R,6);break;case 8:s2(),qi=6;break e;default:throw Error(i(462))}}kX();break}catch(Fe){f4(o,Fe)}while(!0);return Dl=Go=null,ee.H=_,ee.A=T,ii=m,En!==null?0:(bi=null,Nn=0,qm(),qi)}function kX(){for(;En!==null&&!Zi();)g4(En)}function g4(o){var u=HF(o.alternate,o,Yu);o.memoizedProps=o.pendingProps,u===null?t1(o):En=u}function y4(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=jF(m,u,u.pendingProps,u.type,void 0,Nn);break;case 11:u=jF(m,u,u.pendingProps,u.type.render,u.ref,Nn);break;case 5:wk(u);default:qF(m,u),u=En=D0(u,Yu),u=HF(m,u,Yu)}o.memoizedProps=o.pendingProps,u===null?t1(o):En=u}function Py(o,u,m,_){Dl=Go=null,wk(u),xy=null,G0=0;var T=u.return;try{if(vX(o,T,u,m,Nn)){qi=1,GA(o,oa(m,o.current)),En=null;return}}catch(R){if(T!==null)throw En=T,R;qi=1,GA(o,oa(m,o.current)),En=null;return}u.flags&32768?(Kt||_===1?o=!0:Sy||(Nn&536870912)!==0?o=!1:(Od=o=!0,(_===2||_===9||_===3||_===6)&&(_=Wo.current,_!==null&&_.tag===13&&(_.flags|=16384))),v4(u,o)):t1(u)}function t1(o){var u=o;do{if((u.flags&32768)!==0){v4(u,Od);return}o=u.return;var m=bX(u.alternate,u,Yu);if(m!==null){En=m;return}if(u=u.sibling,u!==null){En=u;return}En=u=o}while(u!==null);qi===0&&(qi=5)}function v4(o,u){do{var m=wX(o.alternate,o);if(m!==null){m.flags&=32767,En=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){En=o;return}En=o=m}while(o!==null);qi=6,En=null}function _4(o,u,m,_,T,R,$,X,ae){o.cancelPendingCommit=null;do n1();while(yr!==0);if((ii&6)!==0)throw Error(i(327));if(u!==null){if(u===o.current)throw Error(i(177));if(R=u.lanes|u.childLanes,R|=no,qa(o,m,R,$,X,ae),o===bi&&(En=bi=null,Nn=0),Ry=u,Vd=o,ky=m,t2=R,n2=T,c4=_,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,DX(be,function(){return A4(),null})):(o.callbackNode=null,o.callbackPriority=0),_=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||_){_=ee.T,ee.T=null,T=se.p,se.p=2,$=ii,ii|=4;try{xX(o,u,m)}finally{ii=$,se.p=T,ee.T=_}}yr=1,b4(),w4(),x4()}}function b4(){if(yr===1){yr=0;var o=Vd,u=Ry,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=ee.T,ee.T=null;var _=se.p;se.p=2;var T=ii;ii|=4;try{n4(u,o);var R=v2,$=Um(o.containerInfo),X=R.focusedElem,ae=R.selectionRange;if($!==X&&X&&X.ownerDocument&&ly(X.ownerDocument.documentElement,X)){if(ae!==null&&Hm(X)){var Ee=ae.start,Fe=ae.end;if(Fe===void 0&&(Fe=Ee),"selectionStart"in X)X.selectionStart=Ee,X.selectionEnd=Math.min(Fe,X.value.length);else{var Ue=X.ownerDocument||document,Se=Ue&&Ue.defaultView||window;if(Se.getSelection){var Re=Se.getSelection(),Gt=X.textContent.length,Vt=Math.min(ae.start,Gt),ci=ae.end===void 0?Vt:Math.min(ae.end,Gt);!Re.extend&&Vt>ci&&($=ci,ci=Vt,Vt=$);var pe=P0(X,Vt),he=P0(X,ci);if(pe&&he&&(Re.rangeCount!==1||Re.anchorNode!==pe.node||Re.anchorOffset!==pe.offset||Re.focusNode!==he.node||Re.focusOffset!==he.offset)){var we=Ue.createRange();we.setStart(pe.node,pe.offset),Re.removeAllRanges(),Vt>ci?(Re.addRange(we),Re.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Re.addRange(we))}}}}for(Ue=[],Re=X;Re=Re.parentNode;)Re.nodeType===1&&Ue.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Ue.length;X++){var ze=Ue[X];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}m1=!!y2,v2=y2=null}finally{ii=T,se.p=_,ee.T=m}}o.current=u,yr=2}}function w4(){if(yr===2){yr=0;var o=Vd,u=Ry,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=ee.T,ee.T=null;var _=se.p;se.p=2;var T=ii;ii|=4;try{QF(o,u.alternate,u)}finally{ii=T,se.p=_,ee.T=m}}yr=3}}function x4(){if(yr===4||yr===3){yr=0,Xi();var o=Vd,u=Ry,m=ky,_=c4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?yr=5:(yr=0,Ry=Vd=null,E4(o,o.pendingLanes));var T=o.pendingLanes;if(T===0&&(Fd=null),Ti(m),u=u.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Oe,u,void 0,(u.current.flags&128)===128)}catch{}if(_!==null){u=ee.T,T=se.p,se.p=2,ee.T=null;try{for(var R=o.onRecoverableError,$=0;$<_.length;$++){var X=_[$];R(X.value,{componentStack:X.stack})}}finally{ee.T=u,se.p=T}}(ky&3)!==0&&n1(),Dc(o),T=o.pendingLanes,(m&4194090)!==0&&(T&42)!==0?o===i2?tb++:(tb=0,i2=o):tb=0,nb(0)}}function E4(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,L0(u)))}function n1(o){return b4(),w4(),x4(),A4()}function A4(){if(yr!==5)return!1;var o=Vd,u=t2;t2=0;var m=Ti(ky),_=ee.T,T=se.p;try{se.p=32>m?32:m,ee.T=null,m=n2,n2=null;var R=Vd,$=ky;if(yr=0,Ry=Vd=null,ky=0,(ii&6)!==0)throw Error(i(331));var X=ii;if(ii|=4,o4(R.current),s4(R,R.current,$,m),ii=X,nb(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Oe,R)}catch{}return!0}finally{se.p=T,ee.T=_,E4(o,u)}}function T4(o,u,m){u=oa(m,u),u=Lk(o.stateNode,u,2),o=kd(o,u,2),o!==null&&(hr(o,2),Dc(o))}function gi(o,u,m){if(o.tag===3)T4(o,o,m);else for(;u!==null;){if(u.tag===3){T4(u,o,m);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Fd===null||!Fd.has(_))){o=oa(m,o),m=kF(2),_=kd(u,m,2),_!==null&&(MF(m,_,u,o),hr(_,2),Dc(_));break}}u=u.return}}function o2(o,u,m){var _=o.pingCache;if(_===null){_=o.pingCache=new TX;var T=new Set;_.set(u,T)}else T=_.get(u),T===void 0&&(T=new Set,_.set(u,T));T.has(m)||(Xk=!0,T.add(m),o=MX.bind(null,o,u,m),u.then(o,o))}function MX(o,u,m){var _=o.pingCache;_!==null&&_.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,bi===o&&(Nn&m)===m&&(qi===4||qi===3&&(Nn&62914560)===Nn&&300>jn()-e2?(ii&2)===0&&My(o,0):Qk|=m,Cy===Nn&&(Cy=0)),Dc(o)}function S4(o,u){u===0&&(u=jo()),o=Ed(o,u),o!==null&&(hr(o,u),Dc(o))}function PX(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),S4(o,m)}function IX(o,u){var m=0;switch(o.tag){case 13:var _=o.stateNode,T=o.memoizedState;T!==null&&(m=T.retryLane);break;case 19:_=o.stateNode;break;case 22:_=o.stateNode._retryCache;break;default:throw Error(i(314))}_!==null&&_.delete(u),S4(o,m)}function DX(o,u){return cn(o,u)}var i1=null,Iy=null,l2=!1,s1=!1,c2=!1,sp=0;function Dc(o){o!==Iy&&o.next===null&&(Iy===null?i1=Iy=o:Iy=Iy.next=o),s1=!0,l2||(l2=!0,LX())}function nb(o,u){if(!c2&&s1){c2=!0;do for(var m=!1,_=i1;_!==null;){if(o!==0){var T=_.pendingLanes;if(T===0)var R=0;else{var $=_.suspendedLanes,X=_.pingedLanes;R=(1<<31-sn(42|o)+1)-1,R&=T&~($&~X),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(m=!0,M4(_,R))}else R=Nn,R=lr(_,_===bi?R:0,_.cancelPendingCommit!==null||_.timeoutHandle!==-1),(R&3)===0||Ui(_,R)||(m=!0,M4(_,R));_=_.next}while(m);c2=!1}}function NX(){C4()}function C4(){s1=l2=!1;var o=0;sp!==0&&(HX()&&(o=sp),sp=0);for(var u=jn(),m=null,_=i1;_!==null;){var T=_.next,R=R4(_,u);R===0?(_.next=null,m===null?i1=T:m.next=T,T===null&&(Iy=m)):(m=_,(o!==0||(R&3)!==0)&&(s1=!0)),_=T}nb(o)}function R4(o,u){for(var m=o.suspendedLanes,_=o.pingedLanes,T=o.expirationTimes,R=o.pendingLanes&-62914561;0<R;){var $=31-sn(R),X=1<<$,ae=T[$];ae===-1?((X&m)===0||(X&_)!==0)&&(T[$]=cr(X,u)):ae<=u&&(o.expiredLanes|=X),R&=~X}if(u=bi,m=Nn,m=lr(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),_=o.callbackNode,m===0||o===u&&(si===2||si===9)||o.cancelPendingCommit!==null)return _!==null&&_!==null&&On(_),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Ui(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(_!==null&&On(_),Ti(m)){case 2:case 8:m=oe;break;case 32:m=be;break;case 268435456:m=Ke;break;default:m=be}return _=k4.bind(null,o),m=cn(m,_),o.callbackPriority=u,o.callbackNode=m,u}return _!==null&&_!==null&&On(_),o.callbackPriority=2,o.callbackNode=null,2}function k4(o,u){if(yr!==0&&yr!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(n1()&&o.callbackNode!==m)return null;var _=Nn;return _=lr(o,o===bi?_:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),_===0?null:(h4(o,_,u),R4(o,jn()),o.callbackNode!=null&&o.callbackNode===m?k4.bind(null,o):null)}function M4(o,u){if(n1())return null;h4(o,u,!0)}function LX(){qX(function(){(ii&6)!==0?cn(Tt,NX):C4()})}function u2(){return sp===0&&(sp=ps()),sp}function P4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ec(""+o)}function I4(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function OX(o,u,m,_,T){if(u==="submit"&&m&&m.stateNode===T){var R=P4((T[qe]||null).action),$=_.submitter;$&&(u=(u=$[qe]||null)?P4(u.formAction):$.getAttribute("formAction"),u!==null&&(R=u,$=null));var X=new Du("action","action",null,_,T);o.push({event:X,listeners:[{instance:null,listener:function(){if(_.defaultPrevented){if(sp!==0){var ae=$?I4(T,$):new FormData(T);Mk(m,{pending:!0,data:ae,method:T.method,action:R},null,ae)}}else typeof R=="function"&&(X.preventDefault(),ae=$?I4(T,$):new FormData(T),Mk(m,{pending:!0,data:ae,method:T.method,action:R},R,ae))},currentTarget:T}]})}}for(var h2=0;h2<Fu.length;h2++){var d2=Fu[h2],jX=d2.toLowerCase(),FX=d2[0].toUpperCase()+d2.slice(1);to(jX,"on"+FX)}to(xA,"onAnimationEnd"),to(eo,"onAnimationIteration"),to($m,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(rk,"onTransitionRun"),to(dy,"onTransitionStart"),to(ak,"onTransitionCancel"),to(I0,"onTransitionEnd"),$s("onMouseEnter",["mouseout","mouseover"]),$s("onMouseLeave",["mouseout","mouseover"]),$s("onPointerEnter",["pointerout","pointerover"]),$s("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ib="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VX=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ib));function D4(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var _=o[m],T=_.event;_=_.listeners;e:{var R=void 0;if(u)for(var $=_.length-1;0<=$;$--){var X=_[$],ae=X.instance,Ee=X.currentTarget;if(X=X.listener,ae!==R&&T.isPropagationStopped())break e;R=X,T.currentTarget=Ee;try{R(T)}catch(Fe){qA(Fe)}T.currentTarget=null,R=ae}else for($=0;$<_.length;$++){if(X=_[$],ae=X.instance,Ee=X.currentTarget,X=X.listener,ae!==R&&T.isPropagationStopped())break e;R=X,T.currentTarget=Ee;try{R(T)}catch(Fe){qA(Fe)}T.currentTarget=null,R=ae}}}}function An(o,u){var m=u[ht];m===void 0&&(m=u[ht]=new Set);var _=o+"__bubble";m.has(_)||(N4(u,o,2,!1),m.add(_))}function f2(o,u,m){var _=0;u&&(_|=4),N4(m,o,_,u)}var r1="_reactListening"+Math.random().toString(36).slice(2);function m2(o){if(!o[r1]){o[r1]=!0,hn.forEach(function(m){m!=="selectionchange"&&(VX.has(m)||f2(m,!1,o),f2(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[r1]||(u[r1]=!0,f2("selectionchange",!1,u))}}function N4(o,u,m,_){switch(s3(u)){case 2:var T=dQ;break;case 8:T=fQ;break;default:T=R2}m=T.bind(null,u,m,o),T=void 0,!Lr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),_?T!==void 0?o.addEventListener(u,m,{capture:!0,passive:T}):o.addEventListener(u,m,!0):T!==void 0?o.addEventListener(u,m,{passive:T}):o.addEventListener(u,m,!1)}function p2(o,u,m,_,T){var R=_;if((u&1)===0&&(u&2)===0&&_!==null)e:for(;;){if(_===null)return;var $=_.tag;if($===3||$===4){var X=_.stateNode.containerInfo;if(X===T)break;if($===4)for($=_.return;$!==null;){var ae=$.tag;if((ae===3||ae===4)&&$.stateNode.containerInfo===T)return;$=$.return}for(;X!==null;){if($=Lt(X),$===null)return;if(ae=$.tag,ae===5||ae===6||ae===26||ae===27){_=R=$;continue e}X=X.parentNode}}_=_.return}sa(function(){var Ee=R,Fe=pr(m),Ue=[];e:{var Se=EA.get(o);if(Se!==void 0){var Re=Du,Gt=o;switch(o){case"keypress":if(ai(m)===0)break e;case"keydown":case"keyup":Re=md;break;case"focusin":Gt="focus",Re=cd;break;case"focusout":Gt="blur",Re=cd;break;case"beforeblur":case"afterblur":Re=cd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=sy;break;case xA:case eo:case $m:Re=hd;break;case I0:Re=ry;break;case"scroll":case"scrollend":Re=ny;break;case"wheel":Re=Ou;break;case"copy":case"cut":case"paste":Re=Ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=pd;break;case"toggle":case"beforetoggle":Re=zo}var Vt=(u&4)!==0,ci=!Vt&&(o==="scroll"||o==="scrollend"),pe=Vt?Se!==null?Se+"Capture":null:Se;Vt=[];for(var he=Ee,we;he!==null;){var ze=he;if(we=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||we===null||pe===null||(ze=Dn(he,pe),ze!=null&&Vt.push(sb(he,ze,we))),ci)break;he=he.return}0<Vt.length&&(Se=new Re(Se,Gt,null,m,Fe),Ue.push({event:Se,listeners:Vt}))}}if((u&7)===0){e:{if(Se=o==="mouseover"||o==="pointerover",Re=o==="mouseout"||o==="pointerout",Se&&m!==Ya&&(Gt=m.relatedTarget||m.fromElement)&&(Lt(Gt)||Gt[Je]))break e;if((Re||Se)&&(Se=Fe.window===Fe?Fe:(Se=Fe.ownerDocument)?Se.defaultView||Se.parentWindow:window,Re?(Gt=m.relatedTarget||m.toElement,Re=Ee,Gt=Gt?Lt(Gt):null,Gt!==null&&(ci=r(Gt),Vt=Gt.tag,Gt!==ci||Vt!==5&&Vt!==27&&Vt!==6)&&(Gt=null)):(Re=null,Gt=Ee),Re!==Gt)){if(Vt=Ks,ze="onMouseLeave",pe="onMouseEnter",he="mouse",(o==="pointerout"||o==="pointerover")&&(Vt=pd,ze="onPointerLeave",pe="onPointerEnter",he="pointer"),ci=Re==null?Se:wn(Re),we=Gt==null?Se:wn(Gt),Se=new Vt(ze,he+"leave",Re,m,Fe),Se.target=ci,Se.relatedTarget=we,ze=null,Lt(Fe)===Ee&&(Vt=new Vt(pe,he+"enter",Gt,m,Fe),Vt.target=we,Vt.relatedTarget=ci,ze=Vt),ci=ze,Re&&Gt)t:{for(Vt=Re,pe=Gt,he=0,we=Vt;we;we=Dy(we))he++;for(we=0,ze=pe;ze;ze=Dy(ze))we++;for(;0<he-we;)Vt=Dy(Vt),he--;for(;0<we-he;)pe=Dy(pe),we--;for(;he--;){if(Vt===pe||pe!==null&&Vt===pe.alternate)break t;Vt=Dy(Vt),pe=Dy(pe)}Vt=null}else Vt=null;Re!==null&&L4(Ue,Se,Re,Vt,!1),Gt!==null&&ci!==null&&L4(Ue,ci,Gt,Vt,!0)}}e:{if(Se=Ee?wn(Ee):window,Re=Se.nodeName&&Se.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Se.type==="file")var vt=yd;else if(vi(Se))if(R0)vt=sk;else{vt=ik;var gn=M0}else Re=Se.nodeName,!Re||Re.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Ee&&Iu(Ee.elementType)&&(vt=yd):vt=Il;if(vt&&(vt=vt(o,Ee))){Ml(Ue,vt,m,Fe);break e}gn&&gn(o,Se,Ee),o==="focusout"&&Ee&&Se.type==="number"&&Ee.memoizedProps.value!=null&&Wa(Se,"number",Se.value)}switch(gn=Ee?wn(Ee):window,o){case"focusin":(vi(gn)||gn.contentEditable==="true")&&(Ja=gn,bd=Ee,ju=null);break;case"focusout":ju=bd=Ja=null;break;case"mousedown":uy=!0;break;case"contextmenu":case"mouseup":case"dragend":uy=!1,bA(Ue,m,Fe);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":bA(Ue,m,Fe)}var Mt;if(Fr)e:{switch(o){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else Sn?Me(o,m)&&(zt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(zt="onCompositionStart");zt&&(U&&m.locale!=="ko"&&(Sn||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Sn&&(Mt=Sl()):(Sa=Fe,Or="value"in Sa?Sa.value:Sa.textContent,Sn=!0)),gn=a1(Ee,zt),0<gn.length&&(zt=new jr(zt,o,null,m,Fe),Ue.push({event:zt,listeners:gn}),Mt?zt.data=Mt:(Mt=Qe(m),Mt!==null&&(zt.data=Mt)))),(Mt=D?$i(o,m):Cn(o,m))&&(zt=a1(Ee,"onBeforeInput"),0<zt.length&&(gn=new jr("onBeforeInput","beforeinput",null,m,Fe),Ue.push({event:gn,listeners:zt}),gn.data=Mt)),OX(Ue,o,Ee,m,Fe)}D4(Ue,u)})}function sb(o,u,m){return{instance:o,listener:u,currentTarget:m}}function a1(o,u){for(var m=u+"Capture",_=[];o!==null;){var T=o,R=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||R===null||(T=Dn(o,m),T!=null&&_.unshift(sb(o,T,R)),T=Dn(o,u),T!=null&&_.push(sb(o,T,R))),o.tag===3)return _;o=o.return}return[]}function Dy(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function L4(o,u,m,_,T){for(var R=u._reactName,$=[];m!==null&&m!==_;){var X=m,ae=X.alternate,Ee=X.stateNode;if(X=X.tag,ae!==null&&ae===_)break;X!==5&&X!==26&&X!==27||Ee===null||(ae=Ee,T?(Ee=Dn(m,R),Ee!=null&&$.unshift(sb(m,Ee,ae))):T||(Ee=Dn(m,R),Ee!=null&&$.push(sb(m,Ee,ae)))),m=m.return}$.length!==0&&o.push({event:u,listeners:$})}var BX=/\r\n?/g,zX=/\u0000|\uFFFD/g;function O4(o){return(typeof o=="string"?o:""+o).replace(BX,`
`).replace(zX,"")}function j4(o,u){return u=O4(u),O4(o)===u}function o1(){}function li(o,u,m,_,T,R){switch(m){case"children":typeof _=="string"?u==="body"||u==="textarea"&&_===""||Gs(o,_):(typeof _=="number"||typeof _=="bigint")&&u!=="body"&&Gs(o,""+_);break;case"className":dr(o,"class",_);break;case"tabIndex":dr(o,"tabindex",_);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(o,m,_);break;case"style":Al(o,_,R);break;case"data":if(u!=="object"){dr(o,"data",_);break}case"src":case"href":if(_===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(_==null||typeof _=="function"||typeof _=="symbol"||typeof _=="boolean"){o.removeAttribute(m);break}_=Ec(""+_),o.setAttribute(m,_);break;case"action":case"formAction":if(typeof _=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(m==="formAction"?(u!=="input"&&li(o,u,"name",T.name,T,null),li(o,u,"formEncType",T.formEncType,T,null),li(o,u,"formMethod",T.formMethod,T,null),li(o,u,"formTarget",T.formTarget,T,null)):(li(o,u,"encType",T.encType,T,null),li(o,u,"method",T.method,T,null),li(o,u,"target",T.target,T,null)));if(_==null||typeof _=="symbol"||typeof _=="boolean"){o.removeAttribute(m);break}_=Ec(""+_),o.setAttribute(m,_);break;case"onClick":_!=null&&(o.onclick=o1);break;case"onScroll":_!=null&&An("scroll",o);break;case"onScrollEnd":_!=null&&An("scrollend",o);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(m=_.__html,m!=null){if(T.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"multiple":o.multiple=_&&typeof _!="function"&&typeof _!="symbol";break;case"muted":o.muted=_&&typeof _!="function"&&typeof _!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(_==null||typeof _=="function"||typeof _=="boolean"||typeof _=="symbol"){o.removeAttribute("xlink:href");break}m=Ec(""+_),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":_!=null&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,""+_):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":_&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":_===!0?o.setAttribute(m,""):_!==!1&&_!=null&&typeof _!="function"&&typeof _!="symbol"?o.setAttribute(m,_):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":_!=null&&typeof _!="function"&&typeof _!="symbol"&&!isNaN(_)&&1<=_?o.setAttribute(m,_):o.removeAttribute(m);break;case"rowSpan":case"start":_==null||typeof _=="function"||typeof _=="symbol"||isNaN(_)?o.removeAttribute(m):o.setAttribute(m,_);break;case"popover":An("beforetoggle",o),An("toggle",o),qs(o,"popover",_);break;case"xlinkActuate":qt(o,"http://www.w3.org/1999/xlink","xlink:actuate",_);break;case"xlinkArcrole":qt(o,"http://www.w3.org/1999/xlink","xlink:arcrole",_);break;case"xlinkRole":qt(o,"http://www.w3.org/1999/xlink","xlink:role",_);break;case"xlinkShow":qt(o,"http://www.w3.org/1999/xlink","xlink:show",_);break;case"xlinkTitle":qt(o,"http://www.w3.org/1999/xlink","xlink:title",_);break;case"xlinkType":qt(o,"http://www.w3.org/1999/xlink","xlink:type",_);break;case"xmlBase":qt(o,"http://www.w3.org/XML/1998/namespace","xml:base",_);break;case"xmlLang":qt(o,"http://www.w3.org/XML/1998/namespace","xml:lang",_);break;case"xmlSpace":qt(o,"http://www.w3.org/XML/1998/namespace","xml:space",_);break;case"is":qs(o,"is",_);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Nm.get(m)||m,qs(o,m,_))}}function g2(o,u,m,_,T,R){switch(m){case"style":Al(o,_,R);break;case"dangerouslySetInnerHTML":if(_!=null){if(typeof _!="object"||!("__html"in _))throw Error(i(61));if(m=_.__html,m!=null){if(T.children!=null)throw Error(i(60));o.innerHTML=m}}break;case"children":typeof _=="string"?Gs(o,_):(typeof _=="number"||typeof _=="bigint")&&Gs(o,""+_);break;case"onScroll":_!=null&&An("scroll",o);break;case"onScrollEnd":_!=null&&An("scrollend",o);break;case"onClick":_!=null&&(o.onclick=o1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),u=m.slice(2,T?m.length-7:void 0),R=o[qe]||null,R=R!=null?R[m]:null,typeof R=="function"&&o.removeEventListener(u,R,T),typeof _=="function")){typeof R!="function"&&R!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,_,T);break e}m in o?o[m]=_:_===!0?o.setAttribute(m,""):qs(o,m,_)}}}function vr(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":An("error",o),An("load",o);var _=!1,T=!1,R;for(R in m)if(m.hasOwnProperty(R)){var $=m[R];if($!=null)switch(R){case"src":_=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:li(o,u,R,$,m,null)}}T&&li(o,u,"srcSet",m.srcSet,m,null),_&&li(o,u,"src",m.src,m,null);return;case"input":An("invalid",o);var X=R=$=T=null,ae=null,Ee=null;for(_ in m)if(m.hasOwnProperty(_)){var Fe=m[_];if(Fe!=null)switch(_){case"name":T=Fe;break;case"type":$=Fe;break;case"checked":ae=Fe;break;case"defaultChecked":Ee=Fe;break;case"value":R=Fe;break;case"defaultValue":X=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,u));break;default:li(o,u,_,Fe,m,null)}}Pu(o,R,X,ae,Ee,$,T,!1),xc(o);return;case"select":An("invalid",o),_=$=R=null;for(T in m)if(m.hasOwnProperty(T)&&(X=m[T],X!=null))switch(T){case"value":R=X;break;case"defaultValue":$=X;break;case"multiple":_=X;default:li(o,u,T,X,m,null)}u=R,m=$,o.multiple=!!_,u!=null?mr(o,!!_,u,!1):m!=null&&mr(o,!!_,m,!0);return;case"textarea":An("invalid",o),R=T=_=null;for($ in m)if(m.hasOwnProperty($)&&(X=m[$],X!=null))switch($){case"value":_=X;break;case"defaultValue":T=X;break;case"children":R=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:li(o,u,$,X,m,null)}ia(o,_,T,R),xc(o);return;case"option":for(ae in m)if(m.hasOwnProperty(ae)&&(_=m[ae],_!=null))switch(ae){case"selected":o.selected=_&&typeof _!="function"&&typeof _!="symbol";break;default:li(o,u,ae,_,m,null)}return;case"dialog":An("beforetoggle",o),An("toggle",o),An("cancel",o),An("close",o);break;case"iframe":case"object":An("load",o);break;case"video":case"audio":for(_=0;_<ib.length;_++)An(ib[_],o);break;case"image":An("error",o),An("load",o);break;case"details":An("toggle",o);break;case"embed":case"source":case"link":An("error",o),An("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in m)if(m.hasOwnProperty(Ee)&&(_=m[Ee],_!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,u));default:li(o,u,Ee,_,m,null)}return;default:if(Iu(u)){for(Fe in m)m.hasOwnProperty(Fe)&&(_=m[Fe],_!==void 0&&g2(o,u,Fe,_,m,void 0));return}}for(X in m)m.hasOwnProperty(X)&&(_=m[X],_!=null&&li(o,u,X,_,m,null))}function UX(o,u,m,_){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,R=null,$=null,X=null,ae=null,Ee=null,Fe=null;for(Re in m){var Ue=m[Re];if(m.hasOwnProperty(Re)&&Ue!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":ae=Ue;default:_.hasOwnProperty(Re)||li(o,u,Re,null,_,Ue)}}for(var Se in _){var Re=_[Se];if(Ue=m[Se],_.hasOwnProperty(Se)&&(Re!=null||Ue!=null))switch(Se){case"type":R=Re;break;case"name":T=Re;break;case"checked":Ee=Re;break;case"defaultChecked":Fe=Re;break;case"value":$=Re;break;case"defaultValue":X=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(i(137,u));break;default:Re!==Ue&&li(o,u,Se,Re,_,Ue)}}yi(o,$,X,ae,Ee,Fe,R,T);return;case"select":Re=$=X=Se=null;for(R in m)if(ae=m[R],m.hasOwnProperty(R)&&ae!=null)switch(R){case"value":break;case"multiple":Re=ae;default:_.hasOwnProperty(R)||li(o,u,R,null,_,ae)}for(T in _)if(R=_[T],ae=m[T],_.hasOwnProperty(T)&&(R!=null||ae!=null))switch(T){case"value":Se=R;break;case"defaultValue":X=R;break;case"multiple":$=R;default:R!==ae&&li(o,u,T,R,_,ae)}u=X,m=$,_=Re,Se!=null?mr(o,!!m,Se,!1):!!_!=!!m&&(u!=null?mr(o,!!m,u,!0):mr(o,!!m,m?[]:"",!1));return;case"textarea":Re=Se=null;for(X in m)if(T=m[X],m.hasOwnProperty(X)&&T!=null&&!_.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:li(o,u,X,null,_,T)}for($ in _)if(T=_[$],R=m[$],_.hasOwnProperty($)&&(T!=null||R!=null))switch($){case"value":Se=T;break;case"defaultValue":Re=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:T!==R&&li(o,u,$,T,_,R)}Ut(o,Se,Re);return;case"option":for(var Gt in m)if(Se=m[Gt],m.hasOwnProperty(Gt)&&Se!=null&&!_.hasOwnProperty(Gt))switch(Gt){case"selected":o.selected=!1;break;default:li(o,u,Gt,null,_,Se)}for(ae in _)if(Se=_[ae],Re=m[ae],_.hasOwnProperty(ae)&&Se!==Re&&(Se!=null||Re!=null))switch(ae){case"selected":o.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:li(o,u,ae,Se,_,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vt in m)Se=m[Vt],m.hasOwnProperty(Vt)&&Se!=null&&!_.hasOwnProperty(Vt)&&li(o,u,Vt,null,_,Se);for(Ee in _)if(Se=_[Ee],Re=m[Ee],_.hasOwnProperty(Ee)&&Se!==Re&&(Se!=null||Re!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(i(137,u));break;default:li(o,u,Ee,Se,_,Re)}return;default:if(Iu(u)){for(var ci in m)Se=m[ci],m.hasOwnProperty(ci)&&Se!==void 0&&!_.hasOwnProperty(ci)&&g2(o,u,ci,void 0,_,Se);for(Fe in _)Se=_[Fe],Re=m[Fe],!_.hasOwnProperty(Fe)||Se===Re||Se===void 0&&Re===void 0||g2(o,u,Fe,Se,_,Re);return}}for(var pe in m)Se=m[pe],m.hasOwnProperty(pe)&&Se!=null&&!_.hasOwnProperty(pe)&&li(o,u,pe,null,_,Se);for(Ue in _)Se=_[Ue],Re=m[Ue],!_.hasOwnProperty(Ue)||Se===Re||Se==null&&Re==null||li(o,u,Ue,Se,_,Re)}var y2=null,v2=null;function l1(o){return o.nodeType===9?o:o.ownerDocument}function F4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V4(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function _2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var b2=null;function HX(){var o=window.event;return o&&o.type==="popstate"?o===b2?!1:(b2=o,!0):(b2=null,!1)}var B4=typeof setTimeout=="function"?setTimeout:void 0,$X=typeof clearTimeout=="function"?clearTimeout:void 0,z4=typeof Promise=="function"?Promise:void 0,qX=typeof queueMicrotask=="function"?queueMicrotask:typeof z4<"u"?function(o){return z4.resolve(null).then(o).catch(GX)}:B4;function GX(o){setTimeout(function(){throw o})}function zd(o){return o==="head"}function U4(o,u){var m=u,_=0,T=0;do{var R=m.nextSibling;if(o.removeChild(m),R&&R.nodeType===8)if(m=R.data,m==="/$"){if(0<_&&8>_){m=_;var $=o.ownerDocument;if(m&1&&rb($.documentElement),m&2&&rb($.body),m&4)for(m=$.head,rb(m),$=m.firstChild;$;){var X=$.nextSibling,ae=$.nodeName;$[Nt]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&$.rel.toLowerCase()==="stylesheet"||m.removeChild($),$=X}}if(T===0){o.removeChild(R),fb(u);return}T--}else m==="$"||m==="$?"||m==="$!"?T++:_=m.charCodeAt(0)-48;else _=0;m=R}while(m);fb(u)}function w2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":w2(m),pt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function WX(o,u,m,_){for(;o.nodeType===1;){var T=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!_&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(_){if(!o[Nt])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(R=o.getAttribute("rel"),R==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(R!==T.rel||o.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||o.getAttribute("title")!==(T.title==null?null:T.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(R=o.getAttribute("src"),(R!==(T.src==null?null:T.src)||o.getAttribute("type")!==(T.type==null?null:T.type)||o.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&R&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var R=T.name==null?null:""+T.name;if(T.type==="hidden"&&o.getAttribute("name")===R)return o}else return o;if(o=Ol(o.nextSibling),o===null)break}return null}function KX(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Ol(o.nextSibling),o===null))return null;return o}function x2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function YX(o,u){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")u();else{var _=function(){u(),m.removeEventListener("DOMContentLoaded",_)};m.addEventListener("DOMContentLoaded",_),o._reactRetry=_}}function Ol(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var E2=null;function H4(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}function $4(o,u,m){switch(u=l1(m),o){case"html":if(o=u.documentElement,!o)throw Error(i(452));return o;case"head":if(o=u.head,!o)throw Error(i(453));return o;case"body":if(o=u.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function rb(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);pt(o)}var Yo=new Map,q4=new Set;function c1(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zu=se.d;se.d={f:ZX,r:XX,D:QX,C:JX,L:eQ,m:tQ,X:iQ,S:nQ,M:sQ};function ZX(){var o=Zu.f(),u=e1();return o||u}function XX(o){var u=un(o);u!==null&&u.tag===5&&u.type==="form"?hF(u):Zu.r(o)}var Ny=typeof document>"u"?null:document;function G4(o,u,m){var _=Ny;if(_&&typeof u=="string"&&u){var T=Ai(u);T='link[rel="'+o+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),q4.has(T)||(q4.add(T),o={rel:o,crossOrigin:m,href:u},_.querySelector(T)===null&&(u=_.createElement("link"),vr(u,"link",o),xn(u),_.head.appendChild(u)))}}function QX(o){Zu.D(o),G4("dns-prefetch",o,null)}function JX(o,u){Zu.C(o,u),G4("preconnect",o,u)}function eQ(o,u,m){Zu.L(o,u,m);var _=Ny;if(_&&o&&u){var T='link[rel="preload"][as="'+Ai(u)+'"]';u==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Ai(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Ai(m.imageSizes)+'"]')):T+='[href="'+Ai(o)+'"]';var R=T;switch(u){case"style":R=Ly(o);break;case"script":R=Oy(o)}Yo.has(R)||(o=f({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),Yo.set(R,o),_.querySelector(T)!==null||u==="style"&&_.querySelector(ab(R))||u==="script"&&_.querySelector(ob(R))||(u=_.createElement("link"),vr(u,"link",o),xn(u),_.head.appendChild(u)))}}function tQ(o,u){Zu.m(o,u);var m=Ny;if(m&&o){var _=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Ai(_)+'"][href="'+Ai(o)+'"]',R=T;switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=Oy(o)}if(!Yo.has(R)&&(o=f({rel:"modulepreload",href:o},u),Yo.set(R,o),m.querySelector(T)===null)){switch(_){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(ob(R)))return}_=m.createElement("link"),vr(_,"link",o),xn(_),m.head.appendChild(_)}}}function nQ(o,u,m){Zu.S(o,u,m);var _=Ny;if(_&&o){var T=Mn(_).hoistableStyles,R=Ly(o);u=u||"default";var $=T.get(R);if(!$){var X={loading:0,preload:null};if($=_.querySelector(ab(R)))X.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":u},m),(m=Yo.get(R))&&A2(o,m);var ae=$=_.createElement("link");xn(ae),vr(ae,"link",o),ae._p=new Promise(function(Ee,Fe){ae.onload=Ee,ae.onerror=Fe}),ae.addEventListener("load",function(){X.loading|=1}),ae.addEventListener("error",function(){X.loading|=2}),X.loading|=4,u1($,u,_)}$={type:"stylesheet",instance:$,count:1,state:X},T.set(R,$)}}}function iQ(o,u){Zu.X(o,u);var m=Ny;if(m&&o){var _=Mn(m).hoistableScripts,T=Oy(o),R=_.get(T);R||(R=m.querySelector(ob(T)),R||(o=f({src:o,async:!0},u),(u=Yo.get(T))&&T2(o,u),R=m.createElement("script"),xn(R),vr(R,"link",o),m.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},_.set(T,R))}}function sQ(o,u){Zu.M(o,u);var m=Ny;if(m&&o){var _=Mn(m).hoistableScripts,T=Oy(o),R=_.get(T);R||(R=m.querySelector(ob(T)),R||(o=f({src:o,async:!0,type:"module"},u),(u=Yo.get(T))&&T2(o,u),R=m.createElement("script"),xn(R),vr(R,"link",o),m.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},_.set(T,R))}}function W4(o,u,m,_){var T=(T=Pe.current)?c1(T):null;if(!T)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Ly(m.href),m=Mn(T).hoistableStyles,_=m.get(u),_||(_={type:"style",instance:null,count:0,state:null},m.set(u,_)),_):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Ly(m.href);var R=Mn(T).hoistableStyles,$=R.get(o);if($||(T=T.ownerDocument||T,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(o,$),(R=T.querySelector(ab(o)))&&!R._p&&($.instance=R,$.state.loading=5),Yo.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Yo.set(o,m),R||rQ(T,o,m,$.state))),u&&_===null)throw Error(i(528,""));return $}if(u&&_!==null)throw Error(i(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Oy(m),m=Mn(T).hoistableScripts,_=m.get(u),_||(_={type:"script",instance:null,count:0,state:null},m.set(u,_)),_):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Ly(o){return'href="'+Ai(o)+'"'}function ab(o){return'link[rel="stylesheet"]['+o+"]"}function K4(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function rQ(o,u,m,_){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?_.loading=1:(u=o.createElement("link"),_.preload=u,u.addEventListener("load",function(){return _.loading|=1}),u.addEventListener("error",function(){return _.loading|=2}),vr(u,"link",m),xn(u),o.head.appendChild(u))}function Oy(o){return'[src="'+Ai(o)+'"]'}function ob(o){return"script[async]"+o}function Y4(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var _=o.querySelector('style[data-href~="'+Ai(m.href)+'"]');if(_)return u.instance=_,xn(_),_;var T=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return _=(o.ownerDocument||o).createElement("style"),xn(_),vr(_,"style",T),u1(_,m.precedence,o),u.instance=_;case"stylesheet":T=Ly(m.href);var R=o.querySelector(ab(T));if(R)return u.state.loading|=4,u.instance=R,xn(R),R;_=K4(m),(T=Yo.get(T))&&A2(_,T),R=(o.ownerDocument||o).createElement("link"),xn(R);var $=R;return $._p=new Promise(function(X,ae){$.onload=X,$.onerror=ae}),vr(R,"link",_),u.state.loading|=4,u1(R,m.precedence,o),u.instance=R;case"script":return R=Oy(m.src),(T=o.querySelector(ob(R)))?(u.instance=T,xn(T),T):(_=m,(T=Yo.get(R))&&(_=f({},m),T2(_,T)),o=o.ownerDocument||o,T=o.createElement("script"),xn(T),vr(T,"link",_),o.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(i(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(_=u.instance,u.state.loading|=4,u1(_,m.precedence,o));return u.instance}function u1(o,u,m){for(var _=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=_.length?_[_.length-1]:null,R=T,$=0;$<_.length;$++){var X=_[$];if(X.dataset.precedence===u)R=X;else if(R!==T)break}R?R.parentNode.insertBefore(o,R.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function A2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function T2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var h1=null;function Z4(o,u,m){if(h1===null){var _=new Map,T=h1=new Map;T.set(m,_)}else T=h1,_=T.get(m),_||(_=new Map,T.set(m,_));if(_.has(o))return _;for(_.set(o,null),m=m.getElementsByTagName(o),T=0;T<m.length;T++){var R=m[T];if(!(R[Nt]||R[Ve]||o==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var $=R.getAttribute(u)||"";$=o+$;var X=_.get($);X?X.push(R):_.set($,[R])}}return _}function X4(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function aQ(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Q4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var lb=null;function oQ(){}function lQ(o,u,m){if(lb===null)throw Error(i(475));var _=lb;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var T=Ly(m.href),R=o.querySelector(ab(T));if(R){o=R._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(_.count++,_=d1.bind(_),o.then(_,_)),u.state.loading|=4,u.instance=R,xn(R);return}R=o.ownerDocument||o,m=K4(m),(T=Yo.get(T))&&A2(m,T),R=R.createElement("link"),xn(R);var $=R;$._p=new Promise(function(X,ae){$.onload=X,$.onerror=ae}),vr(R,"link",m),u.instance=R}_.stylesheets===null&&(_.stylesheets=new Map),_.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(_.count++,u=d1.bind(_),o.addEventListener("load",u),o.addEventListener("error",u))}}function cQ(){if(lb===null)throw Error(i(475));var o=lb;return o.stylesheets&&o.count===0&&S2(o,o.stylesheets),0<o.count?function(u){var m=setTimeout(function(){if(o.stylesheets&&S2(o,o.stylesheets),o.unsuspend){var _=o.unsuspend;o.unsuspend=null,_()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(m)}}:null}function d1(){if(this.count--,this.count===0){if(this.stylesheets)S2(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var f1=null;function S2(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,f1=new Map,u.forEach(uQ,o),f1=null,d1.call(o))}function uQ(o,u){if(!(u.state.loading&4)){var m=f1.get(o);if(m)var _=m.get(null);else{m=new Map,f1.set(o,m);for(var T=o.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<T.length;R++){var $=T[R];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(m.set($.dataset.precedence,$),_=$)}_&&m.set(null,_)}T=u.instance,$=T.getAttribute("data-precedence"),R=m.get($)||_,R===_&&m.set(null,T),m.set($,T),this.count++,_=d1.bind(this),T.addEventListener("load",_),T.addEventListener("error",_),R?R.parentNode.insertBefore(T,R.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(T,o.firstChild)),u.state.loading|=4}}var cb={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function hQ(o,u,m,_,T,R,$,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=_,this.onUncaughtError=T,this.onCaughtError=R,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function J4(o,u,m,_,T,R,$,X,ae,Ee,Fe,Ue){return o=new hQ(o,u,m,$,X,ae,Ee,Ue),u=1,R===!0&&(u|=24),R=ca(3,null,null,u),o.current=R,R.stateNode=o,u=ok(),u.refCount++,o.pooledCache=u,u.refCount++,R.memoizedState={element:_,isDehydrated:m,cache:u},hk(R),o}function e3(o){return o?(o=zu,o):zu}function t3(o,u,m,_,T,R){T=e3(T),_.context===null?_.context=T:_.pendingContext=T,_=Rd(u),_.payload={element:m},R=R===void 0?null:R,R!==null&&(_.callback=R),m=kd(o,_,u),m!==null&&(oo(m,o,u),V0(m,o,u))}function n3(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function C2(o,u){n3(o,u),(o=o.alternate)&&n3(o,u)}function i3(o){if(o.tag===13){var u=Ed(o,67108864);u!==null&&oo(u,o,67108864),C2(o,67108864)}}var m1=!0;function dQ(o,u,m,_){var T=ee.T;ee.T=null;var R=se.p;try{se.p=2,R2(o,u,m,_)}finally{se.p=R,ee.T=T}}function fQ(o,u,m,_){var T=ee.T;ee.T=null;var R=se.p;try{se.p=8,R2(o,u,m,_)}finally{se.p=R,ee.T=T}}function R2(o,u,m,_){if(m1){var T=k2(_);if(T===null)p2(o,u,_,p1,m),r3(o,_);else if(pQ(T,o,u,m,_))_.stopPropagation();else if(r3(o,_),u&4&&-1<mQ.indexOf(o)){for(;T!==null;){var R=un(T);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var $=ts(R.pendingLanes);if($!==0){var X=R;for(X.pendingLanes|=2,X.entangledLanes|=2;$;){var ae=1<<31-sn($);X.entanglements[1]|=ae,$&=~ae}Dc(R),(ii&6)===0&&(QA=jn()+500,nb(0))}}break;case 13:X=Ed(R,2),X!==null&&oo(X,R,2),e1(),C2(R,2)}if(R=k2(_),R===null&&p2(o,u,_,p1,m),R===T)break;T=R}T!==null&&_.stopPropagation()}else p2(o,u,_,null,m)}}function k2(o){return o=pr(o),M2(o)}var p1=null;function M2(o){if(p1=null,o=Lt(o),o!==null){var u=r(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=a(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return p1=o,null}function s3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case Tt:return 2;case oe:return 8;case be:case Ce:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var P2=!1,Ud=null,Hd=null,$d=null,ub=new Map,hb=new Map,qd=[],mQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function r3(o,u){switch(o){case"focusin":case"focusout":Ud=null;break;case"dragenter":case"dragleave":Hd=null;break;case"mouseover":case"mouseout":$d=null;break;case"pointerover":case"pointerout":ub.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":hb.delete(u.pointerId)}}function db(o,u,m,_,T,R){return o===null||o.nativeEvent!==R?(o={blockedOn:u,domEventName:m,eventSystemFlags:_,nativeEvent:R,targetContainers:[T]},u!==null&&(u=un(u),u!==null&&i3(u)),o):(o.eventSystemFlags|=_,u=o.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),o)}function pQ(o,u,m,_,T){switch(u){case"focusin":return Ud=db(Ud,o,u,m,_,T),!0;case"dragenter":return Hd=db(Hd,o,u,m,_,T),!0;case"mouseover":return $d=db($d,o,u,m,_,T),!0;case"pointerover":var R=T.pointerId;return ub.set(R,db(ub.get(R)||null,o,u,m,_,T)),!0;case"gotpointercapture":return R=T.pointerId,hb.set(R,db(hb.get(R)||null,o,u,m,_,T)),!0}return!1}function a3(o){var u=Lt(o.target);if(u!==null){var m=r(u);if(m!==null){if(u=m.tag,u===13){if(u=a(m),u!==null){o.blockedOn=u,de(o.priority,function(){if(m.tag===13){var _=ao();_=ti(_);var T=Ed(m,_);T!==null&&oo(T,m,_),C2(m,_)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function g1(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=k2(o.nativeEvent);if(m===null){m=o.nativeEvent;var _=new m.constructor(m.type,m);Ya=_,m.target.dispatchEvent(_),Ya=null}else return u=un(m),u!==null&&i3(u),o.blockedOn=m,!1;u.shift()}return!0}function o3(o,u,m){g1(o)&&m.delete(u)}function gQ(){P2=!1,Ud!==null&&g1(Ud)&&(Ud=null),Hd!==null&&g1(Hd)&&(Hd=null),$d!==null&&g1($d)&&($d=null),ub.forEach(o3),hb.forEach(o3)}function y1(o,u){o.blockedOn===u&&(o.blockedOn=null,P2||(P2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gQ)))}var v1=null;function l3(o){v1!==o&&(v1=o,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){v1===o&&(v1=null);for(var u=0;u<o.length;u+=3){var m=o[u],_=o[u+1],T=o[u+2];if(typeof _!="function"){if(M2(_||m)===null)continue;break}var R=un(m);R!==null&&(o.splice(u,3),u-=3,Mk(R,{pending:!0,data:T,method:m.method,action:_},_,T))}}))}function fb(o){function u(ae){return y1(ae,o)}Ud!==null&&y1(Ud,o),Hd!==null&&y1(Hd,o),$d!==null&&y1($d,o),ub.forEach(u),hb.forEach(u);for(var m=0;m<qd.length;m++){var _=qd[m];_.blockedOn===o&&(_.blockedOn=null)}for(;0<qd.length&&(m=qd[0],m.blockedOn===null);)a3(m),m.blockedOn===null&&qd.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(_=0;_<m.length;_+=3){var T=m[_],R=m[_+1],$=T[qe]||null;if(typeof R=="function")$||l3(m);else if($){var X=null;if(R&&R.hasAttribute("formAction")){if(T=R,$=R[qe]||null)X=$.formAction;else if(M2(T)!==null)continue}else X=$.action;typeof X=="function"?m[_+1]=X:(m.splice(_,3),_-=3),l3(m)}}}function I2(o){this._internalRoot=o}_1.prototype.render=I2.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(i(409));var m=u.current,_=ao();t3(m,_,o,u,null,null)},_1.prototype.unmount=I2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;t3(o.current,2,null,o,null,null),e1(),u[Je]=null}};function _1(o){this._internalRoot=o}_1.prototype.unstable_scheduleHydration=function(o){if(o){var u=le();o={blockedOn:null,target:o,priority:u};for(var m=0;m<qd.length&&u!==0&&u<qd[m].priority;m++);qd.splice(m,0,o),m===0&&a3(o)}};var c3=e.version;if(c3!=="19.1.0")throw Error(i(527,c3,"19.1.0"));se.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=c(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var yQ={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var b1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!b1.isDisabled&&b1.supportsFiber)try{Oe=b1.inject(yQ),Xe=b1}catch{}}return pb.createRoot=function(o,u){if(!s(o))throw Error(i(299));var m=!1,_="",T=TF,R=SF,$=CF,X=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(X=u.unstable_transitionCallbacks)),u=J4(o,1,!1,null,null,m,_,T,R,$,X,null),o[Je]=u.current,m2(o),new I2(u)},pb.hydrateRoot=function(o,u,m){if(!s(o))throw Error(i(299));var _=!1,T="",R=TF,$=SF,X=CF,ae=null,Ee=null;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(R=m.onUncaughtError),m.onCaughtError!==void 0&&($=m.onCaughtError),m.onRecoverableError!==void 0&&(X=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ae=m.unstable_transitionCallbacks),m.formState!==void 0&&(Ee=m.formState)),u=J4(o,1,!0,u,m??null,_,T,R,$,X,ae,Ee),u.context=e3(null),m=u.current,_=ao(),_=ti(_),T=Rd(_),T.callback=null,kd(m,T,_),m=_,u.current.lanes=m,hr(u,m),Dc(u),o[Je]=u.current,m2(o),new _1(u)},pb.version="19.1.0",pb}var b3;function kQ(){if(b3)return L2.exports;b3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),L2.exports=RQ(),L2.exports}var MQ=kQ(),P=DC();const xe=IC(P),J6=wQ({__proto__:null,default:xe},[P]);var gb={},w3;function PQ(){if(w3)return gb;w3=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.parse=a,gb.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function a(v,w){const E=new r,S=v.length;if(S<2)return E;const C=(w==null?void 0:w.decode)||f;let k=0;do{const N=v.indexOf("=",k);if(N===-1)break;const I=v.indexOf(";",k),z=I===-1?S:I;if(N>z){k=v.lastIndexOf(";",N-1)+1;continue}const V=l(v,k,N),H=c(v,N,V),B=v.slice(V,H);if(E[B]===void 0){let j=l(v,N+1,z),q=c(v,z,j);const Y=C(v.slice(j,q));E[B]=Y}k=z+1}while(k<S);return E}function l(v,w,E){do{const S=v.charCodeAt(w);if(S!==32&&S!==9)return w}while(++w<E);return E}function c(v,w,E){for(;w>E;){const S=v.charCodeAt(--w);if(S!==32&&S!==9)return w+1}return E}function h(v,w,E){const S=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=S(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let k=v+"="+C;if(!E)return k;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);k+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);k+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);k+="; Path="+E.path}if(E.expires){if(!p(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);k+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(k+="; HttpOnly"),E.secure&&(k+="; Secure"),E.partitioned&&(k+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return k}function f(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function p(v){return s.call(v)==="[object Date]"}return gb}PQ();/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eU=n=>{throw TypeError(n)},IQ=(n,e,t)=>e.has(n)||eU("Cannot "+t),B2=(n,e,t)=>(IQ(n,e,"read from private field"),t?t.call(n):e.get(n)),DQ=(n,e,t)=>e.has(n)?eU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),x3="popstate";function NQ(n={}){function e(s,r){let{pathname:a="/",search:l="",hash:c=""}=Jh(s.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),xw("",{pathname:a,search:l,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){let a=s.document.querySelector("base"),l="";if(a&&a.getAttribute("href")){let c=s.location.href,h=c.indexOf("#");l=h===-1?c:c.slice(0,h)}return l+"#"+(typeof r=="string"?r:am(r))}function i(s,r){Yi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(r)})`)}return OQ(e,t,i,n)}function _n(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LQ(){return Math.random().toString(36).substring(2,10)}function E3(n,e){return{usr:n.state,key:n.key,idx:e}}function xw(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Jh(e):e,state:t,key:e&&e.key||i||LQ()}}function am({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Jh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function OQ(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,l="POP",c=null,h=f();h==null&&(h=0,a.replaceState({...a.state,idx:h},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let C=f(),k=C==null?null:C-h;h=C,c&&c({action:l,location:S.location,delta:k})}function v(C,k){l="PUSH";let N=xw(S.location,C,k);t&&t(N,C),h=f()+1;let I=E3(N,h),z=S.createHref(N);try{a.pushState(I,"",z)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(z)}r&&c&&c({action:l,location:S.location,delta:1})}function w(C,k){l="REPLACE";let N=xw(S.location,C,k);t&&t(N,C),h=f();let I=E3(N,h),z=S.createHref(N);a.replaceState(I,"",z),r&&c&&c({action:l,location:S.location,delta:0})}function E(C){return tU(C)}let S={get action(){return l},get location(){return n(s,a)},listen(C){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(x3,p),c=C,()=>{s.removeEventListener(x3,p),c=null}},createHref(C){return e(s,C)},createURL:E,encodeLocation(C){let k=E(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:w,go(C){return a.go(C)}};return S}function tU(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),_n(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:am(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}var Mb,A3=class{constructor(n){if(DQ(this,Mb,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(B2(this,Mb).has(n))return B2(this,Mb).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){B2(this,Mb).set(n,e)}};Mb=new WeakMap;var jQ=new Set(["lazy","caseSensitive","path","id","index","children"]);function FQ(n){return jQ.has(n)}var VQ=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function BQ(n){return VQ.has(n)}function zQ(n){return n.index===!0}function sS(n,e,t=[],i={}){return n.map((s,r)=>{let a=[...t,String(r)],l=typeof s.id=="string"?s.id:a.join("-");if(_n(s.index!==!0||!s.children,"Cannot specify children on an index route"),_n(!i[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),zQ(s)){let c={...s,...e(s),id:l};return i[l]=c,c}else{let c={...s,...e(s),id:l,children:void 0};return i[l]=c,s.children&&(c.children=sS(s.children,e,a,i)),c}})}function ef(n,e,t="/"){return J1(n,e,t,!1)}function J1(n,e,t,i){let s=typeof e=="string"?Jh(e):e,r=gl(s.pathname||"/",t);if(r==null)return null;let a=nU(n);HQ(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=eJ(r);l=QQ(a[c],h,i)}return l}function UQ(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function nU(n,e=[],t=[],i=""){let s=(r,a,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};c.relativePath.startsWith("/")&&(_n(c.relativePath.startsWith(i),`Absolute route path "${c.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(i.length));let h=hu([i,c.relativePath]),f=t.concat(c);r.children&&r.children.length>0&&(_n(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),nU(r.children,e,f,h)),!(r.path==null&&!r.index)&&e.push({path:h,score:ZQ(h,r.index),routesMeta:f})};return n.forEach((r,a)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))s(r,a);else for(let c of iU(r.path))s(r,a,c)}),e}function iU(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=iU(i.join("/")),l=[];return l.push(...a.map(c=>c===""?r:[r,c].join("/"))),s&&l.push(...a),l.map(c=>n.startsWith("/")&&c===""?"/":c)}function HQ(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XQ(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var $Q=/^:[\w-]+$/,qQ=3,GQ=2,WQ=1,KQ=10,YQ=-2,T3=n=>n==="*";function ZQ(n,e){let t=n.split("/"),i=t.length;return t.some(T3)&&(i+=YQ),e&&(i+=GQ),t.filter(s=>!T3(s)).reduce((s,r)=>s+($Q.test(r)?qQ:r===""?WQ:KQ),i)}function XQ(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function QQ(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",a=[];for(let l=0;l<i.length;++l){let c=i[l],h=l===i.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=rS({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},f),v=c.route;if(!p&&h&&t&&!i[i.length-1].route.index&&(p=rS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:hu([r,p.pathname]),pathnameBase:iJ(hu([r,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(r=hu([r,p.pathnameBase]))}return a}function rS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=JQ(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},v)=>{if(f==="*"){let E=l[v]||"";a=r.slice(0,r.length-E.length).replace(/(.)\/+$/,"$1")}const w=l[v];return p&&!w?h[f]=void 0:h[f]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:a,pattern:n}}function JQ(n,e=!1,t=!0){Yi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(i.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function eJ(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function gl(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tJ(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Jh(n):n;return{pathname:t?t.startsWith("/")?t:nJ(t,e):e,search:sJ(i),hash:rJ(s)}}function nJ(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function z2(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sU(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function NC(n){let e=sU(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function LC(n,e,t,i=!1){let s;typeof n=="string"?s=Jh(n):(s={...n},_n(!s.pathname||!s.pathname.includes("?"),z2("?","pathname","search",s)),_n(!s.pathname||!s.pathname.includes("#"),z2("#","pathname","hash",s)),_n(!s.search||!s.search.includes("#"),z2("#","search","hash",s)));let r=n===""||s.pathname==="",a=r?"/":s.pathname,l;if(a==null)l=t;else{let p=e.length-1;if(!i&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;s.pathname=v.join("/")}l=p>=0?e[p]:"/"}let c=tJ(s,l),h=a&&a!=="/"&&a.endsWith("/"),f=(r||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}var hu=n=>n.join("/").replace(/\/\/+/g,"/"),iJ=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sJ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rJ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,aS=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Ew(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rU=["POST","PUT","PATCH","DELETE"],aJ=new Set(rU),oJ=["GET",...rU],lJ=new Set(oJ),cJ=new Set([301,302,303,307,308]),uJ=new Set([307,308]),U2={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hJ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yb={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dJ=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),aU="remix-router-transitions",oU=Symbol("ResetLoaderData");function fJ(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";_n(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.hydrationRouteProperties||[],s=n.mapRouteProperties||dJ,r={},a=sS(n.routes,s,void 0,r),l,c=n.basename||"/",h=n.dataStrategy||vJ,f={unstable_middleware:!1,...n.future},p=null,v=new Set,w=null,E=null,S=null,C=n.hydrationData!=null,k=ef(a,n.history.location,c),N=!1,I=null,z;if(k==null&&!n.patchRoutesOnNavigation){let le=ol(404,{pathname:n.history.location.pathname}),{matches:de,route:me}=j3(a);z=!0,k=de,I={[me.id]:le}}else if(k&&!n.hydrationData&&kt(k,a,n.history.location.pathname).active&&(k=null),k)if(k.some(le=>le.route.lazy))z=!1;else if(!k.some(le=>le.route.loader))z=!0;else{let le=n.hydrationData?n.hydrationData.loaderData:null,de=n.hydrationData?n.hydrationData.errors:null;if(de){let me=k.findIndex(Ve=>de[Ve.route.id]!==void 0);z=k.slice(0,me+1).every(Ve=>!sP(Ve.route,le,de))}else z=k.every(me=>!sP(me.route,le,de))}else{z=!1,k=[];let le=kt(null,a,n.history.location.pathname);le.active&&le.matches&&(N=!0,k=le.matches)}let V,H={historyAction:n.history.action,location:n.history.location,matches:k,initialized:z,navigation:U2,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||I,fetchers:new Map,blockers:new Map},B="POP",j=!1,q,Y=!1,Z=new Map,ne=null,Q=!1,_e=!1,Le=new Set,ee=new Map,se=0,ie=-1,Te=new Map,J=new Set,ce=new Map,ge=new Map,ue=new Set,De=new Map,$e,Pe=null;function We(){if(p=n.history.listen(({action:le,location:de,delta:me})=>{if($e){$e(),$e=void 0;return}Yi(De.size===0||me!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ve=cr({currentLocation:H.location,nextLocation:de,historyAction:le});if(Ve&&me!=null){let qe=new Promise(Je=>{$e=Je});n.history.go(me*-1),Ui(Ve,{state:"blocked",location:de,proceed(){Ui(Ve,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),qe.then(()=>n.history.go(me))},reset(){let Je=new Map(H.blockers);Je.set(Ve,yb),et({blockers:Je})}});return}return On(le,de)}),t){kJ(e,Z);let le=()=>MJ(e,Z);e.addEventListener("pagehide",le),ne=()=>e.removeEventListener("pagehide",le)}return H.initialized||On("POP",H.location,{initialHydration:!0}),V}function je(){p&&p(),ne&&ne(),v.clear(),q&&q.abort(),H.fetchers.forEach((le,de)=>sn(de)),H.blockers.forEach((le,de)=>lr(de))}function nt(le){return v.add(le),()=>v.delete(le)}function et(le,de={}){H={...H,...le};let me=[],Ve=[];H.fetchers.forEach((qe,Je)=>{qe.state==="idle"&&(ue.has(Je)?me.push(Je):Ve.push(Je))}),ue.forEach(qe=>{!H.fetchers.has(qe)&&!ee.has(qe)&&me.push(qe)}),[...v].forEach(qe=>qe(H,{deletedFetchers:me,viewTransitionOpts:de.viewTransitionOpts,flushSync:de.flushSync===!0})),me.forEach(qe=>sn(qe)),Ve.forEach(qe=>H.fetchers.delete(qe))}function Ct(le,de,{flushSync:me}={}){var Et,Nt;let Ve=H.actionData!=null&&H.navigation.formMethod!=null&&Co(H.navigation.formMethod)&&H.navigation.state==="loading"&&((Et=le.state)==null?void 0:Et._isRedirect)!==!0,qe;de.actionData?Object.keys(de.actionData).length>0?qe=de.actionData:qe=null:Ve?qe=H.actionData:qe=null;let Je=de.loaderData?L3(H.loaderData,de.loaderData,de.matches||[],de.errors):H.loaderData,ht=H.blockers;ht.size>0&&(ht=new Map(ht),ht.forEach((pt,Lt)=>ht.set(Lt,yb)));let Ne=j===!0||H.navigation.formMethod!=null&&Co(H.navigation.formMethod)&&((Nt=le.state)==null?void 0:Nt._isRedirect)!==!0;l&&(a=l,l=void 0),Q||B==="POP"||(B==="PUSH"?n.history.push(le,le.state):B==="REPLACE"&&n.history.replace(le,le.state));let ft;if(B==="POP"){let pt=Z.get(H.location.pathname);pt&&pt.has(le.pathname)?ft={currentLocation:H.location,nextLocation:le}:Z.has(le.pathname)&&(ft={currentLocation:le,nextLocation:H.location})}else if(Y){let pt=Z.get(H.location.pathname);pt?pt.add(le.pathname):(pt=new Set([le.pathname]),Z.set(H.location.pathname,pt)),ft={currentLocation:H.location,nextLocation:le}}et({...de,actionData:qe,loaderData:Je,historyAction:B,location:le,initialized:!0,navigation:U2,revalidation:"idle",restoreScrollPosition:qa(le,de.matches||H.matches),preventScrollReset:Ne,blockers:ht},{viewTransitionOpts:ft,flushSync:me===!0}),B="POP",j=!1,Y=!1,Q=!1,_e=!1,Pe==null||Pe.resolve(),Pe=null}async function Dt(le,de){if(typeof le=="number"){n.history.go(le);return}let me=iP(H.location,H.matches,c,le,de==null?void 0:de.fromRouteId,de==null?void 0:de.relative),{path:Ve,submission:qe,error:Je}=S3(!1,me,de),ht=H.location,Ne=xw(H.location,Ve,de&&de.state);Ne={...Ne,...n.history.encodeLocation(Ne)};let ft=de&&de.replace!=null?de.replace:void 0,Et="PUSH";ft===!0?Et="REPLACE":ft===!1||qe!=null&&Co(qe.formMethod)&&qe.formAction===H.location.pathname+H.location.search&&(Et="REPLACE");let Nt=de&&"preventScrollReset"in de?de.preventScrollReset===!0:void 0,pt=(de&&de.flushSync)===!0,Lt=cr({currentLocation:ht,nextLocation:Ne,historyAction:Et});if(Lt){Ui(Lt,{state:"blocked",location:Ne,proceed(){Ui(Lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ne}),Dt(le,de)},reset(){let un=new Map(H.blockers);un.set(Lt,yb),et({blockers:un})}});return}await On(Et,Ne,{submission:qe,pendingError:Je,preventScrollReset:Nt,replace:de&&de.replace,enableViewTransition:de&&de.viewTransition,flushSync:pt})}function cn(){Pe||(Pe=PJ()),Ae(),et({revalidation:"loading"});let le=Pe.promise;return H.navigation.state==="submitting"?le:H.navigation.state==="idle"?(On(H.historyAction,H.location,{startUninterruptedRevalidation:!0}),le):(On(B||H.historyAction,H.navigation.location,{overrideNavigation:H.navigation,enableViewTransition:Y===!0}),le)}async function On(le,de,me){q&&q.abort(),q=null,B=le,Q=(me&&me.startUninterruptedRevalidation)===!0,hr(H.location,H.matches),j=(me&&me.preventScrollReset)===!0,Y=(me&&me.enableViewTransition)===!0;let Ve=l||a,qe=me&&me.overrideNavigation,Je=me!=null&&me.initialHydration&&H.matches&&H.matches.length>0&&!N?H.matches:ef(Ve,de,c),ht=(me&&me.flushSync)===!0;if(Je&&H.initialized&&!_e&&AJ(H.location,de)&&!(me&&me.submission&&Co(me.submission.formMethod))){Ct(de,{matches:Je},{flushSync:ht});return}let Ne=kt(Je,Ve,de.pathname);if(Ne.active&&Ne.matches&&(Je=Ne.matches),!Je){let{error:Mn,notFoundMatches:xn,route:hn}=ps(de.pathname);Ct(de,{matches:xn,loaderData:{},errors:{[hn.id]:Mn}},{flushSync:ht});return}q=new AbortController;let ft=Uy(n.history,de,q.signal,me&&me.submission),Et=new A3(n.unstable_getContext?await n.unstable_getContext():void 0),Nt;if(me&&me.pendingError)Nt=[dp(Je).route.id,{type:"error",error:me.pendingError}];else if(me&&me.submission&&Co(me.submission.formMethod)){let Mn=await Zi(ft,de,me.submission,Je,Et,Ne.active,me&&me.initialHydration===!0,{replace:me.replace,flushSync:ht});if(Mn.shortCircuited)return;if(Mn.pendingActionResult){let[xn,hn]=Mn.pendingActionResult;if(So(hn)&&Ew(hn.error)&&hn.error.status===404){q=null,Ct(de,{matches:Mn.matches,loaderData:{},errors:{[xn]:hn.error}});return}}Je=Mn.matches||Je,Nt=Mn.pendingActionResult,qe=H2(de,me.submission),ht=!1,Ne.active=!1,ft=Uy(n.history,ft.url,ft.signal)}let{shortCircuited:pt,matches:Lt,loaderData:un,errors:wn}=await Xi(ft,de,Je,Et,Ne.active,qe,me&&me.submission,me&&me.fetcherSubmission,me&&me.replace,me&&me.initialHydration===!0,ht,Nt);pt||(q=null,Ct(de,{matches:Lt||Je,...O3(Nt),loaderData:un,errors:wn}))}async function Zi(le,de,me,Ve,qe,Je,ht,Ne={}){Ae();let ft=CJ(de,me);if(et({navigation:ft},{flushSync:Ne.flushSync===!0}),Je){let pt=await Yn(Ve,de.pathname,le.signal);if(pt.type==="aborted")return{shortCircuited:!0};if(pt.type==="error"){let Lt=dp(pt.partialMatches).route.id;return{matches:pt.partialMatches,pendingActionResult:[Lt,{type:"error",error:pt.error}]}}else if(pt.matches)Ve=pt.matches;else{let{notFoundMatches:Lt,error:un,route:wn}=ps(de.pathname);return{matches:Lt,pendingActionResult:[wn.id,{type:"error",error:un}]}}}let Et,Nt=Pb(Ve,de);if(!Nt.route.action&&!Nt.route.lazy)Et={type:"error",error:ol(405,{method:le.method,pathname:de.pathname,routeId:Nt.route.id})};else{let pt=dv(s,r,le,Ve,Nt,ht?[]:i,qe),Lt=await Ke(le,pt,qe,null);if(Et=Lt[Nt.route.id],!Et){for(let un of Ve)if(Lt[un.route.id]){Et=Lt[un.route.id];break}}if(le.signal.aborted)return{shortCircuited:!0}}if(gp(Et)){let pt;return Ne&&Ne.replace!=null?pt=Ne.replace:pt=I3(Et.response.headers.get("Location"),new URL(le.url),c)===H.location.pathname+H.location.search,await Ce(le,Et,!0,{submission:me,replace:pt}),{shortCircuited:!0}}if(So(Et)){let pt=dp(Ve,Nt.route.id);return(Ne&&Ne.replace)!==!0&&(B="PUSH"),{matches:Ve,pendingActionResult:[pt.route.id,Et,Nt.route.id]}}return{matches:Ve,pendingActionResult:[Nt.route.id,Et]}}async function Xi(le,de,me,Ve,qe,Je,ht,Ne,ft,Et,Nt,pt){let Lt=Je||H2(de,ht),un=ht||Ne||V3(Lt),wn=!Q&&!Et;if(qe){if(wn){let Si=jn(pt);et({navigation:Lt,...Si!==void 0?{actionData:Si}:{}},{flushSync:Nt})}let qt=await Yn(me,de.pathname,le.signal);if(qt.type==="aborted")return{shortCircuited:!0};if(qt.type==="error"){let Si=dp(qt.partialMatches).route.id;return{matches:qt.partialMatches,loaderData:{},errors:{[Si]:qt.error}}}else if(qt.matches)me=qt.matches;else{let{error:Si,notFoundMatches:Ps,route:fr}=ps(de.pathname);return{matches:Ps,loaderData:{},errors:{[fr.id]:Si}}}}let Mn=l||a,{dsMatches:xn,revalidatingFetchers:hn}=C3(le,Ve,s,r,n.history,H,me,un,de,Et?[]:i,Et===!0,_e,Le,ue,ce,J,Mn,c,n.patchRoutesOnNavigation!=null,pt);if(ie=++se,!n.dataStrategy&&!xn.some(qt=>qt.shouldLoad)&&hn.length===0){let qt=ks();return Ct(de,{matches:me,loaderData:{},errors:pt&&So(pt[1])?{[pt[0]]:pt[1].error}:null,...O3(pt),...qt?{fetchers:new Map(H.fetchers)}:{}},{flushSync:Nt}),{shortCircuited:!0}}if(wn){let qt={};if(!qe){qt.navigation=Lt;let Si=jn(pt);Si!==void 0&&(qt.actionData=Si)}hn.length>0&&(qt.fetchers=Qi(hn)),et(qt,{flushSync:Nt})}hn.forEach(qt=>{mi(qt.key),qt.controller&&ee.set(qt.key,qt.controller)});let Aa=()=>hn.forEach(qt=>mi(qt.key));q&&q.signal.addEventListener("abort",Aa);let{loaderResults:ns,fetcherResults:$s}=await fe(xn,hn,le,Ve);if(le.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Aa),hn.forEach(qt=>ee.delete(qt.key));let Ms=w1(ns);if(Ms)return await Ce(le,Ms.result,!0,{replace:ft}),{shortCircuited:!0};if(Ms=w1($s),Ms)return J.add(Ms.key),await Ce(le,Ms.result,!0,{replace:ft}),{shortCircuited:!0};let{loaderData:ta,errors:na}=N3(H,me,ns,pt,hn,$s);Et&&H.errors&&(na={...H.errors,...na});let bc=ks(),qs=ms(ie),dr=bc||qs||hn.length>0;return{matches:me,loaderData:ta,errors:na,...dr?{fetchers:new Map(H.fetchers)}:{}}}function jn(le){if(le&&!So(le[1]))return{[le[0]]:le[1].data};if(H.actionData)return Object.keys(H.actionData).length===0?null:H.actionData}function Qi(le){return le.forEach(de=>{let me=H.fetchers.get(de.key),Ve=vb(void 0,me?me.data:void 0);H.fetchers.set(de.key,Ve)}),new Map(H.fetchers)}async function Tt(le,de,me,Ve){mi(le);let qe=(Ve&&Ve.flushSync)===!0,Je=l||a,ht=iP(H.location,H.matches,c,me,de,Ve==null?void 0:Ve.relative),Ne=ef(Je,ht,c),ft=kt(Ne,Je,ht);if(ft.active&&ft.matches&&(Ne=ft.matches),!Ne){Xe(le,de,ol(404,{pathname:ht}),{flushSync:qe});return}let{path:Et,submission:Nt,error:pt}=S3(!0,ht,Ve);if(pt){Xe(le,de,pt,{flushSync:qe});return}let Lt=Pb(Ne,Et),un=new A3(n.unstable_getContext?await n.unstable_getContext():void 0),wn=(Ve&&Ve.preventScrollReset)===!0;if(Nt&&Co(Nt.formMethod)){await oe(le,de,Et,Lt,Ne,un,ft.active,qe,wn,Nt);return}ce.set(le,{routeId:de,path:Et}),await be(le,de,Et,Lt,Ne,un,ft.active,qe,wn,Nt)}async function oe(le,de,me,Ve,qe,Je,ht,Ne,ft,Et){Ae(),ce.delete(le);function Nt(Fn){if(!Fn.route.action&&!Fn.route.lazy){let Zt=ol(405,{method:Et.formMethod,pathname:me,routeId:de});return Xe(le,de,Zt,{flushSync:Ne}),!0}return!1}if(!ht&&Nt(Ve))return;let pt=H.fetchers.get(le);Oe(le,RJ(Et,pt),{flushSync:Ne});let Lt=new AbortController,un=Uy(n.history,me,Lt.signal,Et);if(ht){let Fn=await Yn(qe,me,un.signal,le);if(Fn.type==="aborted")return;if(Fn.type==="error"){Xe(le,de,Fn.error,{flushSync:Ne});return}else if(Fn.matches){if(qe=Fn.matches,Ve=Pb(qe,me),Nt(Ve))return}else{Xe(le,de,ol(404,{pathname:me}),{flushSync:Ne});return}}ee.set(le,Lt);let wn=se,Mn=dv(s,r,un,qe,Ve,i,Je),hn=(await Ke(un,Mn,Je,le))[Ve.route.id];if(un.signal.aborted){ee.get(le)===Lt&&ee.delete(le);return}if(ue.has(le)){if(gp(hn)||So(hn)){Oe(le,Yd(void 0));return}}else{if(gp(hn))if(ee.delete(le),ie>wn){Oe(le,Yd(void 0));return}else return J.add(le),Oe(le,vb(Et)),Ce(un,hn,!1,{fetcherSubmission:Et,preventScrollReset:ft});if(So(hn)){Xe(le,de,hn.error);return}}let Aa=H.navigation.location||H.location,ns=Uy(n.history,Aa,Lt.signal),$s=l||a,Ms=H.navigation.state!=="idle"?ef($s,H.navigation.location,c):H.matches;_n(Ms,"Didn't find any matches after fetcher action");let ta=++se;Te.set(le,ta);let na=vb(Et,hn.data);H.fetchers.set(le,na);let{dsMatches:bc,revalidatingFetchers:qs}=C3(ns,Je,s,r,n.history,H,Ms,Et,Aa,i,!1,_e,Le,ue,ce,J,$s,c,n.patchRoutesOnNavigation!=null,[Ve.route.id,hn]);qs.filter(Fn=>Fn.key!==le).forEach(Fn=>{let Zt=Fn.key,Vn=H.fetchers.get(Zt),Hi=vb(void 0,Vn?Vn.data:void 0);H.fetchers.set(Zt,Hi),mi(Zt),Fn.controller&&ee.set(Zt,Fn.controller)}),et({fetchers:new Map(H.fetchers)});let dr=()=>qs.forEach(Fn=>mi(Fn.key));Lt.signal.addEventListener("abort",dr);let{loaderResults:qt,fetcherResults:Si}=await fe(bc,qs,ns,Je);if(Lt.signal.aborted)return;if(Lt.signal.removeEventListener("abort",dr),Te.delete(le),ee.delete(le),qs.forEach(Fn=>ee.delete(Fn.key)),H.fetchers.has(le)){let Fn=Yd(hn.data);H.fetchers.set(le,Fn)}let Ps=w1(qt);if(Ps)return Ce(ns,Ps.result,!1,{preventScrollReset:ft});if(Ps=w1(Si),Ps)return J.add(Ps.key),Ce(ns,Ps.result,!1,{preventScrollReset:ft});let{loaderData:fr,errors:Ga}=N3(H,Ms,qt,void 0,qs,Si);ms(ta),H.navigation.state==="loading"&&ta>ie?(_n(B,"Expected pending action"),q&&q.abort(),Ct(H.navigation.location,{matches:Ms,loaderData:fr,errors:Ga,fetchers:new Map(H.fetchers)})):(et({errors:Ga,loaderData:L3(H.loaderData,fr,Ms,Ga),fetchers:new Map(H.fetchers)}),_e=!1)}async function be(le,de,me,Ve,qe,Je,ht,Ne,ft,Et){let Nt=H.fetchers.get(le);Oe(le,vb(Et,Nt?Nt.data:void 0),{flushSync:Ne});let pt=new AbortController,Lt=Uy(n.history,me,pt.signal);if(ht){let hn=await Yn(qe,me,Lt.signal,le);if(hn.type==="aborted")return;if(hn.type==="error"){Xe(le,de,hn.error,{flushSync:Ne});return}else if(hn.matches)qe=hn.matches,Ve=Pb(qe,me);else{Xe(le,de,ol(404,{pathname:me}),{flushSync:Ne});return}}ee.set(le,pt);let un=se,wn=dv(s,r,Lt,qe,Ve,i,Je),xn=(await Ke(Lt,wn,Je,le))[Ve.route.id];if(ee.get(le)===pt&&ee.delete(le),!Lt.signal.aborted){if(ue.has(le)){Oe(le,Yd(void 0));return}if(gp(xn))if(ie>un){Oe(le,Yd(void 0));return}else{J.add(le),await Ce(Lt,xn,!1,{preventScrollReset:ft});return}if(So(xn)){Xe(le,de,xn.error);return}Oe(le,Yd(xn.data))}}async function Ce(le,de,me,{submission:Ve,fetcherSubmission:qe,preventScrollReset:Je,replace:ht}={}){de.response.headers.has("X-Remix-Revalidate")&&(_e=!0);let Ne=de.response.headers.get("Location");_n(Ne,"Expected a Location header on the redirect Response"),Ne=I3(Ne,new URL(le.url),c);let ft=xw(H.location,Ne,{_isRedirect:!0});if(t){let wn=!1;if(de.response.headers.has("X-Remix-Reload-Document"))wn=!0;else if(JD.test(Ne)){const Mn=tU(Ne,!0);wn=Mn.origin!==e.location.origin||gl(Mn.pathname,c)==null}if(wn){ht?e.location.replace(Ne):e.location.assign(Ne);return}}q=null;let Et=ht===!0||de.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Nt,formAction:pt,formEncType:Lt}=H.navigation;!Ve&&!qe&&Nt&&pt&&Lt&&(Ve=V3(H.navigation));let un=Ve||qe;if(uJ.has(de.response.status)&&un&&Co(un.formMethod))await On(Et,ft,{submission:{...un,formAction:Ne},preventScrollReset:Je||j,enableViewTransition:me?Y:void 0});else{let wn=H2(ft,Ve);await On(Et,ft,{overrideNavigation:wn,fetcherSubmission:qe,preventScrollReset:Je||j,enableViewTransition:me?Y:void 0})}}async function Ke(le,de,me,Ve){let qe,Je={};try{qe=await _J(h,le,de,Ve,me,!1)}catch(ht){return de.filter(Ne=>Ne.shouldLoad).forEach(Ne=>{Je[Ne.route.id]={type:"error",error:ht}}),Je}if(le.signal.aborted)return Je;for(let[ht,Ne]of Object.entries(qe))if(TJ(Ne)){let ft=Ne.result;Je[ht]={type:"redirect",response:xJ(ft,le,ht,de,c)}}else Je[ht]=await wJ(Ne);return Je}async function fe(le,de,me,Ve){let qe=Ke(me,le,Ve,null),Je=Promise.all(de.map(async ft=>{if(ft.matches&&ft.match&&ft.request&&ft.controller){let Nt=(await Ke(ft.request,ft.matches,Ve,ft.key))[ft.match.route.id];return{[ft.key]:Nt}}else return Promise.resolve({[ft.key]:{type:"error",error:ol(404,{pathname:ft.path})}})})),ht=await qe,Ne=(await Je).reduce((ft,Et)=>Object.assign(ft,Et),{});return{loaderResults:ht,fetcherResults:Ne}}function Ae(){_e=!0,ce.forEach((le,de)=>{ee.has(de)&&Le.add(de),mi(de)})}function Oe(le,de,me={}){H.fetchers.set(le,de),et({fetchers:new Map(H.fetchers)},{flushSync:(me&&me.flushSync)===!0})}function Xe(le,de,me,Ve={}){let qe=dp(H.matches,de);sn(le),et({errors:{[qe.route.id]:me},fetchers:new Map(H.fetchers)},{flushSync:(Ve&&Ve.flushSync)===!0})}function Rt(le){return ge.set(le,(ge.get(le)||0)+1),ue.has(le)&&ue.delete(le),H.fetchers.get(le)||hJ}function sn(le){let de=H.fetchers.get(le);ee.has(le)&&!(de&&de.state==="loading"&&Te.has(le))&&mi(le),ce.delete(le),Te.delete(le),J.delete(le),ue.delete(le),Le.delete(le),H.fetchers.delete(le)}function Ji(le){let de=(ge.get(le)||0)-1;de<=0?(ge.delete(le),ue.add(le)):ge.set(le,de),et({fetchers:new Map(H.fetchers)})}function mi(le){let de=ee.get(le);de&&(de.abort(),ee.delete(le))}function es(le){for(let de of le){let me=Rt(de),Ve=Yd(me.data);H.fetchers.set(de,Ve)}}function ks(){let le=[],de=!1;for(let me of J){let Ve=H.fetchers.get(me);_n(Ve,`Expected fetcher: ${me}`),Ve.state==="loading"&&(J.delete(me),le.push(me),de=!0)}return es(le),de}function ms(le){let de=[];for(let[me,Ve]of Te)if(Ve<le){let qe=H.fetchers.get(me);_n(qe,`Expected fetcher: ${me}`),qe.state==="loading"&&(mi(me),Te.delete(me),de.push(me))}return es(de),de.length>0}function ts(le,de){let me=H.blockers.get(le)||yb;return De.get(le)!==de&&De.set(le,de),me}function lr(le){H.blockers.delete(le),De.delete(le)}function Ui(le,de){let me=H.blockers.get(le)||yb;_n(me.state==="unblocked"&&de.state==="blocked"||me.state==="blocked"&&de.state==="blocked"||me.state==="blocked"&&de.state==="proceeding"||me.state==="blocked"&&de.state==="unblocked"||me.state==="proceeding"&&de.state==="unblocked",`Invalid blocker state transition: ${me.state} -> ${de.state}`);let Ve=new Map(H.blockers);Ve.set(le,de),et({blockers:Ve})}function cr({currentLocation:le,nextLocation:de,historyAction:me}){if(De.size===0)return;De.size>1&&Yi(!1,"A router only supports one blocker at a time");let Ve=Array.from(De.entries()),[qe,Je]=Ve[Ve.length-1],ht=H.blockers.get(qe);if(!(ht&&ht.state==="proceeding")&&Je({currentLocation:le,nextLocation:de,historyAction:me}))return qe}function ps(le){let de=ol(404,{pathname:le}),me=l||a,{matches:Ve,route:qe}=j3(me);return{notFoundMatches:Ve,route:qe,error:de}}function jo(le,de,me){if(w=le,S=de,E=me||null,!C&&H.navigation===U2){C=!0;let Ve=qa(H.location,H.matches);Ve!=null&&et({restoreScrollPosition:Ve})}return()=>{w=null,S=null,E=null}}function ur(le,de){return E&&E(le,de.map(Ve=>UQ(Ve,H.loaderData)))||le.key}function hr(le,de){if(w&&S){let me=ur(le,de);w[me]=S()}}function qa(le,de){if(w){let me=ur(le,de),Ve=w[me];if(typeof Ve=="number")return Ve}return null}function kt(le,de,me){if(n.patchRoutesOnNavigation)if(le){if(Object.keys(le[0].params).length>0)return{active:!0,matches:J1(de,me,c,!0)}}else return{active:!0,matches:J1(de,me,c,!0)||[]};return{active:!1,matches:null}}async function Yn(le,de,me,Ve){if(!n.patchRoutesOnNavigation)return{type:"success",matches:le};let qe=le;for(;;){let Je=l==null,ht=l||a,Ne=r;try{await n.patchRoutesOnNavigation({signal:me,path:de,matches:qe,fetcherKey:Ve,patch:(Nt,pt)=>{me.aborted||R3(Nt,pt,ht,Ne,s)}})}catch(Nt){return{type:"error",error:Nt,partialMatches:qe}}finally{Je&&!me.aborted&&(a=[...a])}if(me.aborted)return{type:"aborted"};let ft=ef(ht,de,c);if(ft)return{type:"success",matches:ft};let Et=J1(ht,de,c,!0);if(!Et||qe.length===Et.length&&qe.every((Nt,pt)=>Nt.route.id===Et[pt].route.id))return{type:"success",matches:null};qe=Et}}function ti(le){r={},l=sS(le,s,void 0,r)}function Ti(le,de){let me=l==null;R3(le,de,l||a,r,s),me&&(a=[...a],et({}))}return V={get basename(){return c},get future(){return f},get state(){return H},get routes(){return a},get window(){return e},initialize:We,subscribe:nt,enableScrollRestoration:jo,navigate:Dt,fetch:Tt,revalidate:cn,createHref:le=>n.history.createHref(le),encodeLocation:le=>n.history.encodeLocation(le),getFetcher:Rt,deleteFetcher:Ji,dispose:je,getBlocker:ts,deleteBlocker:lr,patchRoutes:Ti,_internalFetchControllers:ee,_internalSetRoutes:ti},V}function mJ(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function iP(n,e,t,i,s,r){let a,l;if(s){a=[];for(let h of e)if(a.push(h),h.route.id===s){l=h;break}}else a=e,l=e[e.length-1];let c=LC(i||".",NC(a),gl(n.pathname,t)||n.pathname,r==="path");if(i==null&&(c.search=n.search,c.hash=n.hash),(i==null||i===""||i===".")&&l){let h=eN(c.search);if(l.route.index&&!h)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&h){let f=new URLSearchParams(c.search),p=f.getAll("index");f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let v=f.toString();c.search=v?`?${v}`:""}}return t!=="/"&&(c.pathname=c.pathname==="/"?t:hu([t,c.pathname])),am(c)}function S3(n,e,t){if(!t||!mJ(t))return{path:e};if(t.formMethod&&!SJ(t.formMethod))return{path:e,error:ol(405,{method:t.formMethod})};let i=()=>({path:e,error:ol(400,{type:"invalid-body"})}),r=(t.formMethod||"get").toUpperCase(),a=fU(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Co(r))return i();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((v,[w,E])=>`${v}${w}=${E}
`,""):String(t.body);return{path:e,submission:{formMethod:r,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!Co(r))return i();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:r,formAction:a,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}_n(typeof FormData=="function","FormData is not available in this environment");let l,c;if(t.formData)l=aP(t.formData),c=t.formData;else if(t.body instanceof FormData)l=aP(t.body),c=t.body;else if(t.body instanceof URLSearchParams)l=t.body,c=D3(l);else if(t.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(t.body),c=D3(l)}catch{return i()}let h={formMethod:r,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Co(h.formMethod))return{path:e,submission:h};let f=Jh(e);return n&&f.search&&eN(f.search)&&l.append("index",""),f.search=`?${l}`,{path:am(f),submission:h}}function C3(n,e,t,i,s,r,a,l,c,h,f,p,v,w,E,S,C,k,N,I){var Q;let z=I?So(I[1])?I[1].error:I[1].data:void 0,V=s.createURL(r.location),H=s.createURL(c),B;if(f&&r.errors){let _e=Object.keys(r.errors)[0];B=a.findIndex(Le=>Le.route.id===_e)}else if(I&&So(I[1])){let _e=I[0];B=a.findIndex(Le=>Le.route.id===_e)-1}let j=I?I[1].statusCode:void 0,q=j&&j>=400,Y={currentUrl:V,currentParams:((Q=r.matches[0])==null?void 0:Q.params)||{},nextUrl:H,nextParams:a[0].params,...l,actionResult:z,actionStatus:j},Z=a.map((_e,Le)=>{let{route:ee}=_e,se=null;if(B!=null&&Le>B?se=!1:ee.lazy?se=!0:ee.loader==null?se=!1:f?se=sP(ee,r.loaderData,r.errors):pJ(r.loaderData,r.matches[Le],_e)&&(se=!0),se!==null)return rP(t,i,n,_e,h,e,se);let ie=q?!1:p||V.pathname+V.search===H.pathname+H.search||V.search!==H.search||gJ(r.matches[Le],_e),Te={...Y,defaultShouldRevalidate:ie},J=oS(_e,Te);return rP(t,i,n,_e,h,e,J,Te)}),ne=[];return E.forEach((_e,Le)=>{if(f||!a.some(ue=>ue.route.id===_e.routeId)||w.has(Le))return;let ee=r.fetchers.get(Le),se=ee&&ee.state!=="idle"&&ee.data===void 0,ie=ef(C,_e.path,k);if(!ie){if(N&&se)return;ne.push({key:Le,routeId:_e.routeId,path:_e.path,matches:null,match:null,request:null,controller:null});return}if(S.has(Le))return;let Te=Pb(ie,_e.path),J=new AbortController,ce=Uy(s,_e.path,J.signal),ge=null;if(v.has(Le))v.delete(Le),ge=dv(t,i,ce,ie,Te,h,e);else if(se)p&&(ge=dv(t,i,ce,ie,Te,h,e));else{let ue={...Y,defaultShouldRevalidate:q?!1:p};oS(Te,ue)&&(ge=dv(t,i,ce,ie,Te,h,e,ue))}ge&&ne.push({key:Le,routeId:_e.routeId,path:_e.path,matches:ge,match:Te,request:ce,controller:J})}),{dsMatches:Z,revalidatingFetchers:ne}}function sP(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function pJ(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function gJ(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function oS(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function R3(n,e,t,i,s){let r;if(n){let c=i[n];_n(c,`No route found to patch children into: routeId = ${n}`),c.children||(c.children=[]),r=c.children}else r=t;let a=e.filter(c=>!r.some(h=>lU(c,h))),l=sS(a,s,[n||"_","patch",String((r==null?void 0:r.length)||"0")],i);r.push(...l)}function lU(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(r=>lU(t,r))}):!1}var k3=new WeakMap,cU=({key:n,route:e,manifest:t,mapRouteProperties:i})=>{let s=t[e.id];if(_n(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let r=s.lazy[n];if(!r)return;let a=k3.get(s);a||(a={},k3.set(s,a));let l=a[n];if(l)return l;let c=(async()=>{let h=FQ(n),p=s[n]!==void 0&&n!=="hasErrorBoundary";if(h)Yi(!h,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),a[n]=Promise.resolve();else if(p)Yi(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let v=await r();v!=null&&(Object.assign(s,{[n]:v}),Object.assign(s,i(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(v=>v===void 0)&&(s.lazy=void 0))})();return a[n]=c,c},M3=new WeakMap;function yJ(n,e,t,i,s){let r=t[n.id];if(_n(r,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let f=M3.get(r);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{_n(typeof n.lazy=="function","No lazy route function found");let v=await n.lazy(),w={};for(let E in v){let S=v[E];if(S===void 0)continue;let C=BQ(E),N=r[E]!==void 0&&E!=="hasErrorBoundary";C?Yi(!C,"Route property "+E+" is not a supported property to be returned from a lazy route function. This property will be ignored."):N?Yi(!N,`Route "${r.id}" has a static property "${E}" defined but its lazy function is also returning a value for this property. The lazy route property "${E}" will be ignored.`):w[E]=S}Object.assign(r,w),Object.assign(r,{...i(r),lazy:void 0})})();return M3.set(r,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let a=Object.keys(n.lazy),l=[],c;for(let f of a){if(s&&s.includes(f))continue;let p=cU({key:f,route:n,manifest:t,mapRouteProperties:i});p&&(l.push(p),f===e&&(c=p))}let h=l.length>0?Promise.all(l).then(()=>{}):void 0;return h==null||h.catch(()=>{}),c==null||c.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:c}}async function P3(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,r)=>{t[e[r].route.id]=s}),t}async function vJ(n){return n.matches.some(e=>e.route.unstable_middleware)?uU(n,!1,()=>P3(n),(e,t)=>({[t]:{type:"error",result:e}})):P3(n)}async function uU(n,e,t,i){let{matches:s,request:r,params:a,context:l}=n,c={handlerResult:void 0};try{let h=s.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(v=>[p.route.id,v]):[]),f=await hU({request:r,params:a,context:l},h,e,c,t);return e?f:c.handlerResult}catch(h){if(!c.middlewareError)throw h;let f=await i(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,f):f}}async function hU(n,e,t,i,s,r=0){let{request:a}=n;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let l=e[r];if(!l)return i.handlerResult=await s(),i.handlerResult;let[c,h]=l,f=!1,p,v=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await hU(n,e,t,i,s,r+1)};try{let w=await h({request:n.request,params:n.params,context:n.context},v);return f?w===void 0?p:w:v()}catch(w){throw i.middlewareError?i.middlewareError.error!==w&&(i.middlewareError={routeId:c,error:w}):i.middlewareError={routeId:c,error:w},w}}function dU(n,e,t,i,s){let r=cU({key:"unstable_middleware",route:i.route,manifest:e,mapRouteProperties:n}),a=yJ(i.route,Co(t.method)?"action":"loader",e,n,s);return{middleware:r,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function rP(n,e,t,i,s,r,a,l=null){let c=!1,h=dU(n,e,t,i,s);return{...i,_lazyPromises:h,shouldLoad:a,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return c=!0,l?typeof f=="boolean"?oS(i,{...l,defaultShouldRevalidate:f}):oS(i,l):a},resolve(f){return c||a||f&&t.method==="GET"&&(i.route.lazy||i.route.loader)?bJ({request:t,match:i,lazyHandlerPromise:h==null?void 0:h.handler,lazyRoutePromise:h==null?void 0:h.route,handlerOverride:f,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function dv(n,e,t,i,s,r,a,l=null){return i.map(c=>c.route.id!==s.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:dU(n,e,t,c,r),resolve:()=>Promise.resolve({type:"data",result:void 0})}:rP(n,e,t,c,r,a,!0,l))}async function _J(n,e,t,i,s,r){t.some(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(t.map(h=>{var f;return(f=h._lazyPromises)==null?void 0:f.middleware}));let a={request:e,params:t[0].params,context:s,matches:t},c=await n({...a,fetcherKey:i,unstable_runClientMiddleware:h=>{let f=a;return uU(f,!1,()=>h({...f,fetcherKey:i,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,v)=>({[v]:{type:"error",result:p}}))}});try{await Promise.all(t.flatMap(h=>{var f,p;return[(f=h._lazyPromises)==null?void 0:f.handler,(p=h._lazyPromises)==null?void 0:p.route]}))}catch{}return c}async function bJ({request:n,match:e,lazyHandlerPromise:t,lazyRoutePromise:i,handlerOverride:s,scopedContext:r}){let a,l,c=Co(n.method),h=c?"action":"loader",f=p=>{let v,w=new Promise((C,k)=>v=k);l=()=>v(),n.signal.addEventListener("abort",l);let E=C=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:n,params:e.params,context:r},...C!==void 0?[C]:[]),S=(async()=>{try{return{type:"data",result:await(s?s(k=>E(k)):E())}}catch(C){return{type:"error",result:C}}})();return Promise.race([S,w])};try{let p=c?e.route.action:e.route.loader;if(t||i)if(p){let v,[w]=await Promise.all([f(p).catch(E=>{v=E}),t,i]);if(v!==void 0)throw v;a=w}else{await t;let v=c?e.route.action:e.route.loader;if(v)[a]=await Promise.all([f(v),i]);else if(h==="action"){let w=new URL(n.url),E=w.pathname+w.search;throw ol(405,{method:n.method,pathname:E,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)a=await f(p);else{let v=new URL(n.url),w=v.pathname+v.search;throw ol(404,{pathname:w})}}catch(p){return{type:"error",result:p}}finally{l&&n.signal.removeEventListener("abort",l)}return a}async function wJ(n){var i,s,r,a,l,c;let{result:e,type:t}=n;if(mU(e)){let h;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(f){return{type:"error",error:f}}return t==="error"?{type:"error",error:new aS(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}return t==="error"?F3(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new aS(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:Ew(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Ew(e)?e.status:void 0}:F3(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function xJ(n,e,t,i,s){let r=n.headers.get("Location");if(_n(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!JD.test(r)){let a=i.slice(0,i.findIndex(l=>l.route.id===t)+1);r=iP(new URL(e.url),a,s,r),n.headers.set("Location",r)}return n}function I3(n,e,t){if(JD.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),r=gl(s.pathname,t)!=null;if(s.origin===e.origin&&r)return s.pathname+s.search+s.hash}return n}function Uy(n,e,t,i){let s=n.createURL(fU(e)).toString(),r={signal:t};if(i&&Co(i.formMethod)){let{formMethod:a,formEncType:l}=i;r.method=a.toUpperCase(),l==="application/json"?(r.headers=new Headers({"Content-Type":l}),r.body=JSON.stringify(i.json)):l==="text/plain"?r.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?r.body=aP(i.formData):r.body=i.formData}return new Request(s,r)}function aP(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function D3(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function EJ(n,e,t,i=!1,s=!1){let r={},a=null,l,c=!1,h={},f=t&&So(t[1])?t[1].error:void 0;return n.forEach(p=>{if(!(p.route.id in e))return;let v=p.route.id,w=e[v];if(_n(!gp(w),"Cannot handle redirect results in processLoaderData"),So(w)){let E=w.error;if(f!==void 0&&(E=f,f=void 0),a=a||{},s)a[v]=E;else{let S=dp(n,v);a[S.route.id]==null&&(a[S.route.id]=E)}i||(r[v]=oU),c||(c=!0,l=Ew(w.error)?w.error.status:500),w.headers&&(h[v]=w.headers)}else r[v]=w.data,w.statusCode&&w.statusCode!==200&&!c&&(l=w.statusCode),w.headers&&(h[v]=w.headers)}),f!==void 0&&t&&(a={[t[0]]:f},t[2]&&(r[t[2]]=void 0)),{loaderData:r,errors:a,statusCode:l||200,loaderHeaders:h}}function N3(n,e,t,i,s,r){let{loaderData:a,errors:l}=EJ(e,t,i);return s.filter(c=>!c.matches||c.matches.some(h=>h.shouldLoad)).forEach(c=>{let{key:h,match:f,controller:p}=c,v=r[h];if(_n(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(So(v)){let w=dp(n.matches,f==null?void 0:f.route.id);l&&l[w.route.id]||(l={...l,[w.route.id]:v.error}),n.fetchers.delete(h)}else if(gp(v))_n(!1,"Unhandled fetcher revalidation redirect");else{let w=Yd(v.data);n.fetchers.set(h,w)}}),{loaderData:a,errors:l}}function L3(n,e,t,i){let s=Object.entries(e).filter(([,r])=>r!==oU).reduce((r,[a,l])=>(r[a]=l,r),{});for(let r of t){let a=r.route.id;if(!e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&r.route.loader&&(s[a]=n[a]),i&&i.hasOwnProperty(a))break}return s}function O3(n){return n?So(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function dp(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function j3(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ol(n,{pathname:e,routeId:t,method:i,type:s,message:r}={}){let a="Unknown Server Error",l="Unknown @remix-run/router error";return n===400?(a="Bad Request",i&&e&&t?l=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(l="Unable to encode submission body")):n===403?(a="Forbidden",l=`Route "${t}" does not match URL "${e}"`):n===404?(a="Not Found",l=`No route matches URL "${e}"`):n===405&&(a="Method Not Allowed",i&&e&&t?l=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(l=`Invalid request method "${i.toUpperCase()}"`)),new aS(n||500,a,new Error(l),!0)}function w1(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(gp(s))return{key:i,result:s}}}function fU(n){let e=typeof n=="string"?Jh(n):n;return am({...e,hash:""})}function AJ(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function TJ(n){return mU(n.result)&&cJ.has(n.result.status)}function So(n){return n.type==="error"}function gp(n){return(n&&n.type)==="redirect"}function F3(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function mU(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function SJ(n){return lJ.has(n.toUpperCase())}function Co(n){return aJ.has(n.toUpperCase())}function eN(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Pb(n,e){let t=typeof e=="string"?Jh(e).search:e.search;if(n[n.length-1].route.index&&eN(t||""))return n[n.length-1];let i=sU(n);return i[i.length-1]}function V3(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:r,json:a}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(r!=null)return{formMethod:e,formAction:t,formEncType:i,formData:r,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:a,text:void 0}}}function H2(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function CJ(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function vb(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function RJ(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Yd(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function kJ(n,e){try{let t=n.sessionStorage.getItem(aU);if(t){let i=JSON.parse(t);for(let[s,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(s,new Set(r||[]))}}catch{}}function MJ(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(aU,JSON.stringify(t))}catch(i){Yi(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function PJ(){let n,e,t=new Promise((i,s)=>{n=async r=>{i(r);try{await t}catch{}},e=async r=>{s(r);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var $g=P.createContext(null);$g.displayName="DataRouter";var PE=P.createContext(null);PE.displayName="DataRouterState";var tN=P.createContext({isTransitioning:!1});tN.displayName="ViewTransition";var pU=P.createContext(new Map);pU.displayName="Fetchers";var IJ=P.createContext(null);IJ.displayName="Await";var mc=P.createContext(null);mc.displayName="Navigation";var OC=P.createContext(null);OC.displayName="Location";var pc=P.createContext({outlet:null,matches:[],isDataRoute:!1});pc.displayName="Route";var nN=P.createContext(null);nN.displayName="RouteError";function DJ(n,{relative:e}={}){_n(Q_(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=P.useContext(mc),{hash:s,pathname:r,search:a}=IE(n,{relative:e}),l=r;return t!=="/"&&(l=r==="/"?t:hu([t,r])),i.createHref({pathname:l,search:a,hash:s})}function Q_(){return P.useContext(OC)!=null}function Tm(){return _n(Q_(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(OC).location}var gU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yU(n){P.useContext(mc).static||P.useLayoutEffect(n)}function qg(){let{isDataRoute:n}=P.useContext(pc);return n?KJ():NJ()}function NJ(){_n(Q_(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext($g),{basename:e,navigator:t}=P.useContext(mc),{matches:i}=P.useContext(pc),{pathname:s}=Tm(),r=JSON.stringify(NC(i)),a=P.useRef(!1);return yU(()=>{a.current=!0}),P.useCallback((c,h={})=>{if(Yi(a.current,gU),!a.current)return;if(typeof c=="number"){t.go(c);return}let f=LC(c,JSON.parse(r),s,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hu([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,r,s,n])}var LJ=P.createContext(null);function OJ(n){let e=P.useContext(pc).outlet;return e&&P.createElement(LJ.Provider,{value:n},e)}function IE(n,{relative:e}={}){let{matches:t}=P.useContext(pc),{pathname:i}=Tm(),s=JSON.stringify(NC(t));return P.useMemo(()=>LC(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function jJ(n,e,t,i){_n(Q_(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(mc),{matches:r}=P.useContext(pc),a=r[r.length-1],l=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",f=a&&a.route;{let k=f&&f.path||"";vU(c,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let p=Tm(),v;v=p;let w=v.pathname||"/",E=w;if(h!=="/"){let k=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=ef(n,{pathname:E});return Yi(f||S!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Yi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),UJ(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:hu([h,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?h:hu([h,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),r,t,i)}function FJ(){let n=WJ(),e=Ew(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:r},"ErrorBoundary")," or"," ",P.createElement("code",{style:r},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,a)}var VJ=P.createElement(FJ,null),BJ=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?P.createElement(pc.Provider,{value:this.props.routeContext},P.createElement(nN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zJ({routeContext:n,match:e,children:t}){let i=P.useContext($g);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(pc.Provider,{value:n},t)}function UJ(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let c=s.findIndex(h=>h.route.id&&(r==null?void 0:r[h.route.id])!==void 0);_n(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(t)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:p}=t,v=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let p,v=!1,w=null,E=null;t&&(p=r&&h.route.id?r[h.route.id]:void 0,w=h.route.errorElement||VJ,a&&(l<0&&f===0?(vU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):l===f&&(v=!0,E=h.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,f+1)),C=()=>{let k;return p?k=w:v?k=E:h.route.Component?k=P.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=c,P.createElement(zJ,{match:h,routeContext:{outlet:c,matches:S,isDataRoute:t!=null},children:k})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?P.createElement(BJ,{location:t.location,revalidation:t.revalidation,component:w,error:p,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}function iN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HJ(n){let e=P.useContext($g);return _n(e,iN(n)),e}function $J(n){let e=P.useContext(PE);return _n(e,iN(n)),e}function qJ(n){let e=P.useContext(pc);return _n(e,iN(n)),e}function sN(n){let e=qJ(n),t=e.matches[e.matches.length-1];return _n(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GJ(){return sN("useRouteId")}function WJ(){var i;let n=P.useContext(nN),e=$J("useRouteError"),t=sN("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function KJ(){let{router:n}=HJ("useNavigate"),e=sN("useNavigate"),t=P.useRef(!1);return yU(()=>{t.current=!0}),P.useCallback(async(s,r={})=>{Yi(t.current,gU),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var B3={};function vU(n,e,t){!e&&!B3[n]&&(B3[n]=!0,Yi(!1,t))}var z3={};function U3(n,e){!n&&!z3[e]&&(z3[e]=!0,console.warn(e))}function YJ(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Yi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:P.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Yi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:P.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Yi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:P.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var ZJ=["HydrateFallback","hydrateFallbackElement"],XJ=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function QJ({router:n,flushSync:e}){let[t,i]=P.useState(n.state),[s,r]=P.useState(),[a,l]=P.useState({isTransitioning:!1}),[c,h]=P.useState(),[f,p]=P.useState(),[v,w]=P.useState(),E=P.useRef(new Map),S=P.useCallback((I,{deletedFetchers:z,flushSync:V,viewTransitionOpts:H})=>{I.fetchers.forEach((j,q)=>{j.data!==void 0&&E.current.set(q,j.data)}),z.forEach(j=>E.current.delete(j)),U3(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let B=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(U3(H==null||B,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!B){e&&V?e(()=>i(I)):P.startTransition(()=>i(I));return}if(e&&V){e(()=>{f&&(c&&c.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let j=n.window.document.startViewTransition(()=>{e(()=>i(I))});j.finished.finally(()=>{e(()=>{h(void 0),p(void 0),r(void 0),l({isTransitioning:!1})})}),e(()=>p(j));return}f?(c&&c.resolve(),f.skipTransition(),w({state:I,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(r(I),l({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,e,f,c]);P.useLayoutEffect(()=>n.subscribe(S),[n,S]),P.useEffect(()=>{a.isTransitioning&&!a.flushSync&&h(new XJ)},[a]),P.useEffect(()=>{if(c&&s&&n.window){let I=s,z=c.promise,V=n.window.document.startViewTransition(async()=>{P.startTransition(()=>i(I)),await z});V.finished.finally(()=>{h(void 0),p(void 0),r(void 0),l({isTransitioning:!1})}),p(V)}},[s,c,n.window]),P.useEffect(()=>{c&&s&&t.location.key===s.location.key&&c.resolve()},[c,f,t.location,s]),P.useEffect(()=>{!a.isTransitioning&&v&&(r(v.state),l({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),w(void 0))},[a.isTransitioning,v]);let C=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,z,V)=>n.navigate(I,{state:z,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(I,z,V)=>n.navigate(I,{replace:!0,state:z,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[n]),k=n.basename||"/",N=P.useMemo(()=>({router:n,navigator:C,static:!1,basename:k}),[n,C,k]);return P.createElement(P.Fragment,null,P.createElement($g.Provider,{value:N},P.createElement(PE.Provider,{value:t},P.createElement(pU.Provider,{value:E.current},P.createElement(tN.Provider,{value:a},P.createElement(nee,{basename:k,location:t.location,navigationType:t.historyAction,navigator:C},P.createElement(JJ,{routes:n.routes,future:n.future,state:t})))))),null)}var JJ=P.memo(eee);function eee({routes:n,future:e,state:t}){return jJ(n,void 0,t,e)}function tee({to:n,replace:e,state:t,relative:i}){_n(Q_(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(mc);Yi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=P.useContext(pc),{pathname:a}=Tm(),l=qg(),c=LC(n,NC(r),a,i==="path"),h=JSON.stringify(c);return P.useEffect(()=>{l(JSON.parse(h),{replace:e,state:t,relative:i})},[l,h,i,e,t]),null}function jC(n){return OJ(n.context)}function nee({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){_n(!Q_(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:s,static:r,future:{}}),[a,s,r]);typeof t=="string"&&(t=Jh(t));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:v="default"}=t,w=P.useMemo(()=>{let E=gl(c,a);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:v},navigationType:i}},[a,c,h,f,p,v,i]);return Yi(w!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:P.createElement(mc.Provider,{value:l},P.createElement(OC.Provider,{children:e,value:w}))}var eT="get",tT="application/x-www-form-urlencoded";function FC(n){return n!=null&&typeof n.tagName=="string"}function iee(n){return FC(n)&&n.tagName.toLowerCase()==="button"}function see(n){return FC(n)&&n.tagName.toLowerCase()==="form"}function ree(n){return FC(n)&&n.tagName.toLowerCase()==="input"}function aee(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function oee(n,e){return n.button===0&&(!e||e==="_self")&&!aee(n)}var x1=null;function lee(){if(x1===null)try{new FormData(document.createElement("form"),0),x1=!1}catch{x1=!0}return x1}var cee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $2(n){return n!=null&&!cee.has(n)?(Yi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tT}"`),null):n}function uee(n,e){let t,i,s,r,a;if(see(n)){let l=n.getAttribute("action");i=l?gl(l,e):null,t=n.getAttribute("method")||eT,s=$2(n.getAttribute("enctype"))||tT,r=new FormData(n)}else if(iee(n)||ree(n)&&(n.type==="submit"||n.type==="image")){let l=n.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||l.getAttribute("action");if(i=c?gl(c,e):null,t=n.getAttribute("formmethod")||l.getAttribute("method")||eT,s=$2(n.getAttribute("formenctype"))||$2(l.getAttribute("enctype"))||tT,r=new FormData(l,n),!lee()){let{name:h,type:f,value:p}=n;if(f==="image"){let v=h?`${h}.`:"";r.append(`${v}x`,"0"),r.append(`${v}y`,"0")}else h&&r.append(h,p)}}else{if(FC(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=eT,i=null,s=tT,a=n}return r&&s==="text/plain"&&(a=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:a}}function rN(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hee(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dee(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function fee(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let a=await hee(r,t);return a.links?a.links():[]}return[]}));return yee(i.flat(1).filter(dee).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function H3(n,e,t,i,s,r){let a=(c,h)=>t[h]?c.route.id!==t[h].route.id:!0,l=(c,h)=>{var f;return t[h].pathname!==c.pathname||((f=t[h].route.path)==null?void 0:f.endsWith("*"))&&t[h].params["*"]!==c.params["*"]};return r==="assets"?e.filter((c,h)=>a(c,h)||l(c,h)):r==="data"?e.filter((c,h)=>{var p;let f=i.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(a(c,h)||l(c,h))return!0;if(c.route.shouldRevalidate){let v=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function mee(n,e,{includeHydrateFallback:t}={}){return pee(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function pee(n){return[...new Set(n)]}function gee(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function yee(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(gee(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vee=new Set([100,101,204,205]);function _ee(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&gl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function _U(){let n=P.useContext($g);return rN(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function bee(){let n=P.useContext(PE);return rN(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var aN=P.createContext(void 0);aN.displayName="FrameworkContext";function bU(){let n=P.useContext(aN);return rN(n,"You must render this element inside a <HydratedRouter> element"),n}function wee(n,e){let t=P.useContext(aN),[i,s]=P.useState(!1),[r,a]=P.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,v=P.useRef(null);P.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=k=>{k.forEach(N=>{a(N.isIntersecting)})},C=new IntersectionObserver(S,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),P.useEffect(()=>{if(i){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[i]);let w=()=>{s(!0)},E=()=>{s(!1),a(!1)};return t?n!=="intent"?[r,v,{}]:[r,v,{onFocus:_b(l,w),onBlur:_b(c,E),onMouseEnter:_b(h,w),onMouseLeave:_b(f,E),onTouchStart:_b(p,w)}]:[!1,v,{}]}function _b(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xee({page:n,...e}){let{router:t}=_U(),i=P.useMemo(()=>ef(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?P.createElement(Aee,{page:n,matches:i,...e}):null}function Eee(n){let{manifest:e,routeModules:t}=bU(),[i,s]=P.useState([]);return P.useEffect(()=>{let r=!1;return fee(n,e,t).then(a=>{r||s(a)}),()=>{r=!0}},[n,e,t]),i}function Aee({page:n,matches:e,...t}){let i=Tm(),{manifest:s,routeModules:r}=bU(),{basename:a}=_U(),{loaderData:l,matches:c}=bee(),h=P.useMemo(()=>H3(n,e,c,s,i,"data"),[n,e,c,s,i]),f=P.useMemo(()=>H3(n,e,c,s,i,"assets"),[n,e,c,s,i]),p=P.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let E=new Set,S=!1;if(e.forEach(k=>{var I;let N=s.routes[k.route.id];!N||!N.hasLoader||(!h.some(z=>z.route.id===k.route.id)&&k.route.id in l&&((I=r[k.route.id])!=null&&I.shouldRevalidate)||N.hasClientLoader?S=!0:E.add(k.route.id))}),E.size===0)return[];let C=_ee(n,a);return S&&E.size>0&&C.searchParams.set("_routes",e.filter(k=>E.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[a,l,i,s,h,e,n,r]),v=P.useMemo(()=>mee(f,s),[f,s]),w=Eee(f);return P.createElement(P.Fragment,null,p.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),v.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:S})=>P.createElement("link",{key:E,...S})))}function Tee(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wU&&(window.__reactRouterVersion="7.6.2")}catch{}function See(n,e){return fJ({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:NQ({window:e==null?void 0:e.window}),hydrationData:Cee(),routes:n,mapRouteProperties:YJ,hydrationRouteProperties:ZJ,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Cee(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Ree(n.errors)}),n}function Ree(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new aS(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let r=window[s.__subType];if(typeof r=="function")try{let a=new r(s.message);a.stack="",t[i]=a}catch{}}if(t[i]==null){let r=new Error(s.message);r.stack="",t[i]=r}}else t[i]=s;return t}var xU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zf=P.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:a,state:l,target:c,to:h,preventScrollReset:f,viewTransition:p,...v},w){let{basename:E}=P.useContext(mc),S=typeof h=="string"&&xU.test(h),C,k=!1;if(typeof h=="string"&&S&&(C=h,wU))try{let q=new URL(window.location.href),Y=h.startsWith("//")?new URL(q.protocol+h):new URL(h),Z=gl(Y.pathname,E);Y.origin===q.origin&&Z!=null?h=Z+Y.search+Y.hash:k=!0}catch{Yi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=DJ(h,{relative:s}),[I,z,V]=wee(i,v),H=Iee(h,{replace:a,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:p});function B(q){e&&e(q),q.defaultPrevented||H(q)}let j=P.createElement("a",{...v,...V,href:C||N,onClick:k||r?e:B,ref:Tee(w,z),target:c,"data-discover":!S&&t==="render"?"true":void 0});return I&&!S?P.createElement(P.Fragment,null,j,P.createElement(xee,{page:N})):j});Zf.displayName="Link";var kee=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:a,viewTransition:l,children:c,...h},f){let p=IE(a,{relative:h.relative}),v=Tm(),w=P.useContext(PE),{navigator:E,basename:S}=P.useContext(mc),C=w!=null&&jee(p)&&l===!0,k=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,N=v.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(N=N.toLowerCase(),I=I?I.toLowerCase():null,k=k.toLowerCase()),I&&S&&(I=gl(I,S)||I);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let V=N===k||!s&&N.startsWith(k)&&N.charAt(z)==="/",H=I!=null&&(I===k||!s&&I.startsWith(k)&&I.charAt(k.length)==="/"),B={isActive:V,isPending:H,isTransitioning:C},j=V?e:void 0,q;typeof i=="function"?q=i(B):q=[i,V?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Y=typeof r=="function"?r(B):r;return P.createElement(Zf,{...h,"aria-current":j,className:q,ref:f,style:Y,to:a,viewTransition:l},typeof c=="function"?c(B):c)});kee.displayName="NavLink";var Mee=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:a=eT,action:l,onSubmit:c,relative:h,preventScrollReset:f,viewTransition:p,...v},w)=>{let E=Lee(),S=Oee(l,{relative:h}),C=a.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&xU.test(l),N=I=>{if(c&&c(I),I.defaultPrevented)return;I.preventDefault();let z=I.nativeEvent.submitter,V=(z==null?void 0:z.getAttribute("formmethod"))||a;E(z||I.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:r,relative:h,preventScrollReset:f,viewTransition:p})};return P.createElement("form",{ref:w,method:C,action:S,onSubmit:i?c:N,...v,"data-discover":!k&&n==="render"?"true":void 0})});Mee.displayName="Form";function Pee(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EU(n){let e=P.useContext($g);return _n(e,Pee(n)),e}function Iee(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:a}={}){let l=qg(),c=Tm(),h=IE(n,{relative:r});return P.useCallback(f=>{if(oee(f,e)){f.preventDefault();let p=t!==void 0?t:am(c)===am(h);l(n,{replace:p,state:i,preventScrollReset:s,relative:r,viewTransition:a})}},[c,l,h,t,i,e,n,s,r,a])}var Dee=0,Nee=()=>`__${String(++Dee)}__`;function Lee(){let{router:n}=EU("useSubmit"),{basename:e}=P.useContext(mc),t=GJ();return P.useCallback(async(i,s={})=>{let{action:r,method:a,encType:l,formData:c,body:h}=uee(i,e);if(s.navigate===!1){let f=s.fetcherKey||Nee();await n.fetch(f,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||l,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:c,body:h,formMethod:s.method||a,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function Oee(n,{relative:e}={}){let{basename:t}=P.useContext(mc),i=P.useContext(pc);_n(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...IE(n||".",{relative:e})},a=Tm();if(n==null){r.search=a.search;let l=new URLSearchParams(r.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();r.search=f?`?${f}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:hu([t,r.pathname])),am(r)}function jee(n,e={}){let t=P.useContext(tN);_n(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=EU("useViewTransitionState"),s=IE(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=gl(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=gl(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rS(s.pathname,a)!=null||rS(s.pathname,r)!=null}[...vee];var DE=Q6();const AU=IC(DE);/**
 * react-router v7.6.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fee(n){return P.createElement(QJ,{flushSync:DE.flushSync,...n})}function $3(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function VC(...n){return e=>{let t=!1;const i=n.map(s=>{const r=$3(s,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let s=0;s<i.length;s++){const r=i[s];typeof r=="function"?r():$3(n[s],null)}}}}function Bi(...n){return P.useCallback(VC(...n),n)}function I_(n){const e=Vee(n),t=P.forwardRef((i,s)=>{const{children:r,...a}=i,l=P.Children.toArray(r),c=l.find(Bee);if(c){const h=c.props.children,f=l.map(p=>p===c?P.Children.count(h)>1?P.Children.only(null):P.isValidElement(h)?h.props.children:null:p);return b.jsx(e,{...a,ref:s,children:P.isValidElement(h)?P.cloneElement(h,void 0,f):null})}return b.jsx(e,{...a,ref:s,children:r})});return t.displayName=`${n}.Slot`,t}var BC=I_("Slot");function Vee(n){const e=P.forwardRef((t,i)=>{const{children:s,...r}=t;if(P.isValidElement(s)){const a=Uee(s),l=zee(r,s.props);return s.type!==P.Fragment&&(l.ref=i?VC(i,a):a),P.cloneElement(s,l)}return P.Children.count(s)>1?P.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var TU=Symbol("radix.slottable");function SU(n){const e=({children:t})=>b.jsx(b.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=TU,e}function Bee(n){return P.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===TU}function zee(n,e){const t={...e};for(const i in e){const s=n[i],r=e[i];/^on[A-Z]/.test(i)?s&&r?t[i]=(...l)=>{const c=r(...l);return s(...l),c}:s&&(t[i]=s):i==="style"?t[i]={...s,...r}:i==="className"&&(t[i]=[s,r].filter(Boolean).join(" "))}return{...n,...t}}function Uee(n){var i,s;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function CU(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=CU(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function RU(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=CU(n))&&(i&&(i+=" "),i+=e);return i}const q3=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,G3=RU,oN=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return G3(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:r}=e,a=Object.keys(s).map(h=>{const f=t==null?void 0:t[h],p=r==null?void 0:r[h];if(f===null)return null;const v=q3(f)||q3(p);return s[h][v]}),l=t&&Object.entries(t).reduce((h,f)=>{let[p,v]=f;return v===void 0||(h[p]=v),h},{}),c=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((h,f)=>{let{class:p,className:v,...w}=f;return Object.entries(w).every(E=>{let[S,C]=E;return Array.isArray(C)?C.includes({...r,...l}[S]):{...r,...l}[S]===C})?[...h,p,v]:h},[]);return G3(n,a,c,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$ee=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),W3=n=>{const e=$ee(n);return e.charAt(0).toUpperCase()+e.slice(1)},kU=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),qee=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:r,iconNode:a,...l},c)=>P.createElement("svg",{ref:c,...Gee,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:kU("lucide",s),...!r&&!qee(l)&&{"aria-hidden":"true"},...l},[...a.map(([h,f])=>P.createElement(h,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(n,e)=>{const t=P.forwardRef(({className:i,...s},r)=>P.createElement(Wee,{ref:r,iconNode:e,className:kU(`lucide-${Hee(W3(n))}`,`lucide-${n}`,i),...s}));return t.displayName=W3(n),t};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Yee=ot("arrow-up",Kee);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],Xee=ot("ban",Zee);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MU=ot("check",Qee);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],NE=ot("chevron-down",Jee);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tte=ot("chevron-right",ete);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ite=ot("chevron-up",nte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rte=ot("circle-check",ste);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M12 2a10 10 0 0 1 7.38 16.75",key:"175t95"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M2.5 8.875a10 10 0 0 0-.5 3",key:"1vce0s"}],["path",{d:"M2.83 16a10 10 0 0 0 2.43 3.4",key:"o3fkw4"}],["path",{d:"M4.636 5.235a10 10 0 0 1 .891-.857",key:"1szpfk"}],["path",{d:"M8.644 21.42a10 10 0 0 0 7.631-.38",key:"9yhvd4"}]],ote=ot("circle-fading-plus",ate);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cte=ot("circle-help",lte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hte=ot("circle-user-round",ute);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fte=ot("circle-x",dte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],PU=ot("clock",mte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],gte=ot("cog",pte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lN=ot("copy",yte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],_te=ot("database",vte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Aw=ot("download",bte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],cN=ot("ellipsis-vertical",wte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ete=ot("eye-off",xte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tte=ot("eye",Ate);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uN=ot("file-text",Ste);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Rte=ot("file",Cte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M21 14h-1.343",key:"1jdnxi"}],["path",{d:"M9.128 3.47A9 9 0 0 1 21 12v3.343",key:"6kipu2"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M20.414 20.414A2 2 0 0 1 19 21h-1a2 2 0 0 1-2-2v-3",key:"9x50f4"}],["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 2.636-6.364",key:"1bkxnm"}]],Mte=ot("headphone-off",kte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],IU=ot("headphones",Pte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Dte=ot("house",Ite);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],DU=ot("image",Nte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]],Ote=ot("images",Lte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],Fte=ot("infinity",jte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dr=ot("loader-circle",Vte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NU=ot("log-out",Bte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ute=ot("mail",zte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],LU=ot("map-pin",Hte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],qte=ot("menu",$te);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Wte=ot("message-circle",Gte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["path",{d:"M11.7 3H5a2 2 0 0 0-2 2v16l4-4h12a2 2 0 0 0 2-2v-2.7",key:"uodpkb"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}]],Yte=ot("message-square-dot",Kte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]],Xte=ot("message-square-text",Zte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],Jte=ot("messages-square",Qte);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],OU=ot("mic",ene);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],nne=ot("moon",tne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],sne=ot("panel-left",ine);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],ane=ot("pause",rne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],lne=ot("phone",one);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],jU=ot("play",cne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],J_=ot("plus",une);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],dne=ot("qr-code",hne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],mne=ot("refresh-ccw",fne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"m12 17-5-5 5-5",key:"1s3y5u"}],["path",{d:"M22 18v-2a4 4 0 0 0-4-4H7",key:"1fcyog"}],["path",{d:"m7 17-5-5 5-5",key:"1ed8i2"}]],FU=ot("reply-all",pne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],yne=ot("reply",gne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],VU=ot("rotate-ccw",vne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bne=ot("search",_ne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],BU=ot("send-horizontal",wne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ene=ot("settings",xne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zU=ot("shield",Ane);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Sne=ot("smartphone",Tne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Rne=ot("smile",Cne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Mne=ot("sparkles",kne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ine=ot("square-check",Pne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]],Nne=ot("square-mouse-pointer",Dne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M14 3v4a2 2 0 0 0 2 2h4",key:"36rjfy"}],["path",{d:"M8 13h.01",key:"1sbv64"}],["path",{d:"M16 13h.01",key:"wip0gl"}],["path",{d:"M10 16s.8 1 2 1c1.3 0 2-1 2-1",key:"1vvgv3"}]],One=ot("sticker",Lne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],hN=ot("store",jne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Vne=ot("sun",Fne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tw=ot("tag",Bne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],zC=ot("trash",zne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Hne=ot("upload",Une);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],qne=ot("user-plus",$ne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],e0=ot("user",Gne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],t0=ot("users",Wne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],UU=ot("video",Kne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zne=ot("wallet",Yne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Qne=ot("wifi",Xne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n0=ot("x",Jne);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dN=ot("zap",eie),q2=768;function tie(){const[n,e]=P.useState(void 0);return P.useEffect(()=>{const t=window.matchMedia(`(max-width: ${q2-1}px)`),i=()=>{e(window.innerWidth<q2)};return t.addEventListener("change",i),e(window.innerWidth<q2),()=>t.removeEventListener("change",i)},[]),!!n}const fN="-",nie=n=>{const e=sie(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const l=a.split(fN);return l[0]===""&&l.length!==1&&l.shift(),HU(l,e)||iie(a)},getConflictingClassGroupIds:(a,l)=>{const c=t[a]||[];return l&&i[a]?[...c,...i[a]]:c}}},HU=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),s=i?HU(n.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const r=n.join(fN);return(a=e.validators.find(({validator:l})=>l(r)))==null?void 0:a.classGroupId},K3=/^\[(.+)\]$/,iie=n=>{if(K3.test(n)){const e=K3.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},sie=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const s in t)oP(t[s],i,s,e);return i},oP=(n,e,t,i)=>{n.forEach(s=>{if(typeof s=="string"){const r=s===""?e:Y3(e,s);r.classGroupId=t;return}if(typeof s=="function"){if(rie(s)){oP(s(i),e,t,i);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([r,a])=>{oP(a,Y3(e,r),t,i)})})},Y3=(n,e)=>{let t=n;return e.split(fN).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},rie=n=>n.isThemeGetter,aie=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const s=(r,a)=>{t.set(r,a),e++,e>n&&(e=0,i=t,t=new Map)};return{get(r){let a=t.get(r);if(a!==void 0)return a;if((a=i.get(r))!==void 0)return s(r,a),a},set(r,a){t.has(r)?t.set(r,a):s(r,a)}}},lP="!",cP=":",oie=cP.length,lie=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=s=>{const r=[];let a=0,l=0,c=0,h;for(let E=0;E<s.length;E++){let S=s[E];if(a===0&&l===0){if(S===cP){r.push(s.slice(c,E)),c=E+oie;continue}if(S==="/"){h=E;continue}}S==="["?a++:S==="]"?a--:S==="("?l++:S===")"&&l--}const f=r.length===0?s:s.substring(c),p=cie(f),v=p!==f,w=h&&h>c?h-c:void 0;return{modifiers:r,hasImportantModifier:v,baseClassName:p,maybePostfixModifierPosition:w}};if(e){const s=e+cP,r=i;i=a=>a.startsWith(s)?r(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const s=i;i=r=>t({className:r,parseClassName:s})}return i},cie=n=>n.endsWith(lP)?n.substring(0,n.length-1):n.startsWith(lP)?n.substring(1):n,uie=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let r=[];return i.forEach(a=>{a[0]==="["||e[a]?(s.push(...r.sort(),a),r=[]):r.push(a)}),s.push(...r.sort()),s}},hie=n=>({cache:aie(n.cacheSize),parseClassName:lie(n),sortModifiers:uie(n),...nie(n)}),die=/\s+/,fie=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:r}=e,a=[],l=n.trim().split(die);let c="";for(let h=l.length-1;h>=0;h-=1){const f=l[h],{isExternal:p,modifiers:v,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:S}=t(f);if(p){c=f+(c.length>0?" "+c:c);continue}let C=!!S,k=i(C?E.substring(0,S):E);if(!k){if(!C){c=f+(c.length>0?" "+c:c);continue}if(k=i(E),!k){c=f+(c.length>0?" "+c:c);continue}C=!1}const N=r(v).join(":"),I=w?N+lP:N,z=I+k;if(a.includes(z))continue;a.push(z);const V=s(k,C);for(let H=0;H<V.length;++H){const B=V[H];a.push(I+B)}c=f+(c.length>0?" "+c:c)}return c};function mie(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=$U(e))&&(i&&(i+=" "),i+=t);return i}const $U=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=$U(n[i]))&&(t&&(t+=" "),t+=e);return t};function pie(n,...e){let t,i,s,r=a;function a(c){const h=e.reduce((f,p)=>p(f),n());return t=hie(h),i=t.cache.get,s=t.cache.set,r=l,l(c)}function l(c){const h=i(c);if(h)return h;const f=fie(c,t);return s(c,f),f}return function(){return r(mie.apply(null,arguments))}}const Ls=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},qU=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GU=/^\((?:(\w[\w-]*):)?(.+)\)$/i,gie=/^\d+\/\d+$/,yie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_ie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jy=n=>gie.test(n),mn=n=>!!n&&!Number.isNaN(Number(n)),Wd=n=>!!n&&Number.isInteger(Number(n)),G2=n=>n.endsWith("%")&&mn(n.slice(0,-1)),Xu=n=>yie.test(n),xie=()=>!0,Eie=n=>vie.test(n)&&!_ie.test(n),WU=()=>!1,Aie=n=>bie.test(n),Tie=n=>wie.test(n),Sie=n=>!_t(n)&&!bt(n),Cie=n=>i0(n,ZU,WU),_t=n=>qU.test(n),rp=n=>i0(n,XU,Eie),W2=n=>i0(n,Iie,mn),Z3=n=>i0(n,KU,WU),Rie=n=>i0(n,YU,Tie),E1=n=>i0(n,QU,Aie),bt=n=>GU.test(n),bb=n=>s0(n,XU),kie=n=>s0(n,Die),X3=n=>s0(n,KU),Mie=n=>s0(n,ZU),Pie=n=>s0(n,YU),A1=n=>s0(n,QU,!0),i0=(n,e,t)=>{const i=qU.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},s0=(n,e,t=!1)=>{const i=GU.exec(n);return i?i[1]?e(i[1]):t:!1},KU=n=>n==="position"||n==="percentage",YU=n=>n==="image"||n==="url",ZU=n=>n==="length"||n==="size"||n==="bg-size",XU=n=>n==="length",Iie=n=>n==="number",Die=n=>n==="family-name",QU=n=>n==="shadow",Nie=()=>{const n=Ls("color"),e=Ls("font"),t=Ls("text"),i=Ls("font-weight"),s=Ls("tracking"),r=Ls("leading"),a=Ls("breakpoint"),l=Ls("container"),c=Ls("spacing"),h=Ls("radius"),f=Ls("shadow"),p=Ls("inset-shadow"),v=Ls("text-shadow"),w=Ls("drop-shadow"),E=Ls("blur"),S=Ls("perspective"),C=Ls("aspect"),k=Ls("ease"),N=Ls("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...z(),bt,_t],H=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],j=()=>[bt,_t,c],q=()=>[jy,"full","auto",...j()],Y=()=>[Wd,"none","subgrid",bt,_t],Z=()=>["auto",{span:["full",Wd,bt,_t]},Wd,bt,_t],ne=()=>[Wd,"auto",bt,_t],Q=()=>["auto","min","max","fr",bt,_t],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...j()],se=()=>[jy,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],ie=()=>[n,bt,_t],Te=()=>[...z(),X3,Z3,{position:[bt,_t]}],J=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ce=()=>["auto","cover","contain",Mie,Cie,{size:[bt,_t]}],ge=()=>[G2,bb,rp],ue=()=>["","none","full",h,bt,_t],De=()=>["",mn,bb,rp],$e=()=>["solid","dashed","dotted","double"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],We=()=>[mn,G2,X3,Z3],je=()=>["","none",E,bt,_t],nt=()=>["none",mn,bt,_t],et=()=>["none",mn,bt,_t],Ct=()=>[mn,bt,_t],Dt=()=>[jy,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xu],breakpoint:[Xu],color:[xie],container:[Xu],"drop-shadow":[Xu],ease:["in","out","in-out"],font:[Sie],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xu],shadow:[Xu],spacing:["px",mn],text:[Xu],"text-shadow":[Xu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jy,_t,bt,C]}],container:["container"],columns:[{columns:[mn,_t,bt,l]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Wd,"auto",bt,_t]}],basis:[{basis:[jy,"full","auto",l,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[mn,jy,"auto","initial","none",_t]}],grow:[{grow:["",mn,bt,_t]}],shrink:[{shrink:["",mn,bt,_t]}],order:[{order:[Wd,"first","last","none",bt,_t]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[l,"screen",...se()]}],"min-w":[{"min-w":[l,"screen","none",...se()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",t,bb,rp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,bt,W2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",G2,_t]}],"font-family":[{font:[kie,_t,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,bt,_t]}],"line-clamp":[{"line-clamp":[mn,"none",bt,W2]}],leading:[{leading:[r,...j()]}],"list-image":[{"list-image":["none",bt,_t]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bt,_t]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ie()}],"text-color":[{text:ie()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[mn,"from-font","auto",bt,rp]}],"text-decoration-color":[{decoration:ie()}],"underline-offset":[{"underline-offset":[mn,"auto",bt,_t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt,_t]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt,_t]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Te()}],"bg-repeat":[{bg:J()}],"bg-size":[{bg:ce()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wd,bt,_t],radial:["",bt,_t],conic:[Wd,bt,_t]},Pie,Rie]}],"bg-color":[{bg:ie()}],"gradient-from-pos":[{from:ge()}],"gradient-via-pos":[{via:ge()}],"gradient-to-pos":[{to:ge()}],"gradient-from":[{from:ie()}],"gradient-via":[{via:ie()}],"gradient-to":[{to:ie()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:De()}],"border-w-x":[{"border-x":De()}],"border-w-y":[{"border-y":De()}],"border-w-s":[{"border-s":De()}],"border-w-e":[{"border-e":De()}],"border-w-t":[{"border-t":De()}],"border-w-r":[{"border-r":De()}],"border-w-b":[{"border-b":De()}],"border-w-l":[{"border-l":De()}],"divide-x":[{"divide-x":De()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":De()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:ie()}],"border-color-x":[{"border-x":ie()}],"border-color-y":[{"border-y":ie()}],"border-color-s":[{"border-s":ie()}],"border-color-e":[{"border-e":ie()}],"border-color-t":[{"border-t":ie()}],"border-color-r":[{"border-r":ie()}],"border-color-b":[{"border-b":ie()}],"border-color-l":[{"border-l":ie()}],"divide-color":[{divide:ie()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[mn,bt,_t]}],"outline-w":[{outline:["",mn,bb,rp]}],"outline-color":[{outline:ie()}],shadow:[{shadow:["","none",f,A1,E1]}],"shadow-color":[{shadow:ie()}],"inset-shadow":[{"inset-shadow":["none",p,A1,E1]}],"inset-shadow-color":[{"inset-shadow":ie()}],"ring-w":[{ring:De()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ie()}],"ring-offset-w":[{"ring-offset":[mn,rp]}],"ring-offset-color":[{"ring-offset":ie()}],"inset-ring-w":[{"inset-ring":De()}],"inset-ring-color":[{"inset-ring":ie()}],"text-shadow":[{"text-shadow":["none",v,A1,E1]}],"text-shadow-color":[{"text-shadow":ie()}],opacity:[{opacity:[mn,bt,_t]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[mn]}],"mask-image-linear-from-pos":[{"mask-linear-from":We()}],"mask-image-linear-to-pos":[{"mask-linear-to":We()}],"mask-image-linear-from-color":[{"mask-linear-from":ie()}],"mask-image-linear-to-color":[{"mask-linear-to":ie()}],"mask-image-t-from-pos":[{"mask-t-from":We()}],"mask-image-t-to-pos":[{"mask-t-to":We()}],"mask-image-t-from-color":[{"mask-t-from":ie()}],"mask-image-t-to-color":[{"mask-t-to":ie()}],"mask-image-r-from-pos":[{"mask-r-from":We()}],"mask-image-r-to-pos":[{"mask-r-to":We()}],"mask-image-r-from-color":[{"mask-r-from":ie()}],"mask-image-r-to-color":[{"mask-r-to":ie()}],"mask-image-b-from-pos":[{"mask-b-from":We()}],"mask-image-b-to-pos":[{"mask-b-to":We()}],"mask-image-b-from-color":[{"mask-b-from":ie()}],"mask-image-b-to-color":[{"mask-b-to":ie()}],"mask-image-l-from-pos":[{"mask-l-from":We()}],"mask-image-l-to-pos":[{"mask-l-to":We()}],"mask-image-l-from-color":[{"mask-l-from":ie()}],"mask-image-l-to-color":[{"mask-l-to":ie()}],"mask-image-x-from-pos":[{"mask-x-from":We()}],"mask-image-x-to-pos":[{"mask-x-to":We()}],"mask-image-x-from-color":[{"mask-x-from":ie()}],"mask-image-x-to-color":[{"mask-x-to":ie()}],"mask-image-y-from-pos":[{"mask-y-from":We()}],"mask-image-y-to-pos":[{"mask-y-to":We()}],"mask-image-y-from-color":[{"mask-y-from":ie()}],"mask-image-y-to-color":[{"mask-y-to":ie()}],"mask-image-radial":[{"mask-radial":[bt,_t]}],"mask-image-radial-from-pos":[{"mask-radial-from":We()}],"mask-image-radial-to-pos":[{"mask-radial-to":We()}],"mask-image-radial-from-color":[{"mask-radial-from":ie()}],"mask-image-radial-to-color":[{"mask-radial-to":ie()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[mn]}],"mask-image-conic-from-pos":[{"mask-conic-from":We()}],"mask-image-conic-to-pos":[{"mask-conic-to":We()}],"mask-image-conic-from-color":[{"mask-conic-from":ie()}],"mask-image-conic-to-color":[{"mask-conic-to":ie()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Te()}],"mask-repeat":[{mask:J()}],"mask-size":[{mask:ce()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bt,_t]}],filter:[{filter:["","none",bt,_t]}],blur:[{blur:je()}],brightness:[{brightness:[mn,bt,_t]}],contrast:[{contrast:[mn,bt,_t]}],"drop-shadow":[{"drop-shadow":["","none",w,A1,E1]}],"drop-shadow-color":[{"drop-shadow":ie()}],grayscale:[{grayscale:["",mn,bt,_t]}],"hue-rotate":[{"hue-rotate":[mn,bt,_t]}],invert:[{invert:["",mn,bt,_t]}],saturate:[{saturate:[mn,bt,_t]}],sepia:[{sepia:["",mn,bt,_t]}],"backdrop-filter":[{"backdrop-filter":["","none",bt,_t]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[mn,bt,_t]}],"backdrop-contrast":[{"backdrop-contrast":[mn,bt,_t]}],"backdrop-grayscale":[{"backdrop-grayscale":["",mn,bt,_t]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mn,bt,_t]}],"backdrop-invert":[{"backdrop-invert":["",mn,bt,_t]}],"backdrop-opacity":[{"backdrop-opacity":[mn,bt,_t]}],"backdrop-saturate":[{"backdrop-saturate":[mn,bt,_t]}],"backdrop-sepia":[{"backdrop-sepia":["",mn,bt,_t]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bt,_t]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[mn,"initial",bt,_t]}],ease:[{ease:["linear","initial",k,bt,_t]}],delay:[{delay:[mn,bt,_t]}],animate:[{animate:["none",N,bt,_t]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,bt,_t]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:nt()}],"rotate-x":[{"rotate-x":nt()}],"rotate-y":[{"rotate-y":nt()}],"rotate-z":[{"rotate-z":nt()}],scale:[{scale:et()}],"scale-x":[{"scale-x":et()}],"scale-y":[{"scale-y":et()}],"scale-z":[{"scale-z":et()}],"scale-3d":["scale-3d"],skew:[{skew:Ct()}],"skew-x":[{"skew-x":Ct()}],"skew-y":[{"skew-y":Ct()}],transform:[{transform:[bt,_t,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Dt()}],"translate-x":[{"translate-x":Dt()}],"translate-y":[{"translate-y":Dt()}],"translate-z":[{"translate-z":Dt()}],"translate-none":["translate-none"],accent:[{accent:ie()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ie()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt,_t]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt,_t]}],fill:[{fill:["none",...ie()]}],"stroke-w":[{stroke:[mn,bb,rp,W2]}],stroke:[{stroke:["none",...ie()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Lie=pie(Nie);function tt(...n){return Lie(RU(n))}const mN=oN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function mt({className:n,variant:e,size:t,asChild:i=!1,...s}){const r=i?BC:"button";return b.jsx(r,{"data-slot":"button",className:tt(mN({variant:e,size:t,className:n})),...s})}function xu({className:n,type:e,...t}){return b.jsx("input",{type:e,"data-slot":"input",className:tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var Oie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kn=Oie.reduce((n,e)=>{const t=I_(`Primitive.${e}`),i=P.forwardRef((s,r)=>{const{asChild:a,...l}=s,c=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(c,{...l,ref:r})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function JU(n,e){n&&DE.flushSync(()=>n.dispatchEvent(e))}function Ft(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function jie(n,e){const t=P.createContext(e),i=r=>{const{children:a,...l}=r,c=P.useMemo(()=>l,Object.values(l));return b.jsx(t.Provider,{value:c,children:a})};i.displayName=n+"Provider";function s(r){const a=P.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${n}\``)}return[i,s]}function bl(n,e=[]){let t=[];function i(r,a){const l=P.createContext(a),c=t.length;t=[...t,a];const h=p=>{var k;const{scope:v,children:w,...E}=p,S=((k=v==null?void 0:v[n])==null?void 0:k[c])||l,C=P.useMemo(()=>E,Object.values(E));return b.jsx(S.Provider,{value:C,children:w})};h.displayName=r+"Provider";function f(p,v){var S;const w=((S=v==null?void 0:v[n])==null?void 0:S[c])||l,E=P.useContext(w);if(E)return E;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${r}\``)}return[h,f]}const s=()=>{const r=t.map(a=>P.createContext(a));return function(l){const c=(l==null?void 0:l[n])||r;return P.useMemo(()=>({[`__scope${n}`]:{...l,[n]:c}}),[l,c])}};return s.scopeName=n,[i,Fie(s,...e)]}function Fie(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(r){const a=i.reduce((l,{useScope:c,scopeName:h})=>{const p=c(r)[`__scope${h}`];return{...l,...p}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var yl=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{},Vie=J6[" useId ".trim().toString()]||(()=>{}),Bie=0;function oc(n){const[e,t]=P.useState(Vie());return yl(()=>{t(i=>i??String(Bie++))},[n]),e?`radix-${e}`:""}var zie=J6[" useInsertionEffect ".trim().toString()]||yl;function Sm({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[s,r,a]=Uie({defaultProp:e,onChange:t}),l=n!==void 0,c=l?n:s;{const f=P.useRef(n!==void 0);P.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${i} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,i])}const h=P.useCallback(f=>{var p;if(l){const v=Hie(f)?f(n):f;v!==n&&((p=a.current)==null||p.call(a,v))}else r(f)},[l,n,r,a]);return[c,h]}function Uie({defaultProp:n,onChange:e}){const[t,i]=P.useState(n),s=P.useRef(t),r=P.useRef(e);return zie(()=>{r.current=e},[e]),P.useEffect(()=>{var a;s.current!==t&&((a=r.current)==null||a.call(r,t),s.current=t)},[t,s]),[t,i,r]}function Hie(n){return typeof n=="function"}function vl(n){const e=P.useRef(n);return P.useEffect(()=>{e.current=n}),P.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function $ie(n,e=globalThis==null?void 0:globalThis.document){const t=vl(n);P.useEffect(()=>{const i=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var qie="DismissableLayer",uP="dismissableLayer.update",Gie="dismissableLayer.pointerDownOutside",Wie="dismissableLayer.focusOutside",Q3,e9=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),UC=P.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:r,onInteractOutside:a,onDismiss:l,...c}=n,h=P.useContext(e9),[f,p]=P.useState(null),v=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=P.useState({}),E=Bi(e,B=>p(B)),S=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),k=S.indexOf(C),N=f?S.indexOf(f):-1,I=h.layersWithOutsidePointerEventsDisabled.size>0,z=N>=k,V=Zie(B=>{const j=B.target,q=[...h.branches].some(Y=>Y.contains(j));!z||q||(s==null||s(B),a==null||a(B),B.defaultPrevented||l==null||l())},v),H=Xie(B=>{const j=B.target;[...h.branches].some(Y=>Y.contains(j))||(r==null||r(B),a==null||a(B),B.defaultPrevented||l==null||l())},v);return $ie(B=>{N===h.layers.size-1&&(i==null||i(B),!B.defaultPrevented&&l&&(B.preventDefault(),l()))},v),P.useEffect(()=>{if(f)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Q3=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),J3(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Q3)}},[f,v,t,h]),P.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),J3())},[f,h]),P.useEffect(()=>{const B=()=>w({});return document.addEventListener(uP,B),()=>document.removeEventListener(uP,B)},[]),b.jsx(Kn.div,{...c,ref:E,style:{pointerEvents:I?z?"auto":"none":void 0,...n.style},onFocusCapture:Ft(n.onFocusCapture,H.onFocusCapture),onBlurCapture:Ft(n.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Ft(n.onPointerDownCapture,V.onPointerDownCapture)})});UC.displayName=qie;var Kie="DismissableLayerBranch",Yie=P.forwardRef((n,e)=>{const t=P.useContext(e9),i=P.useRef(null),s=Bi(e,i);return P.useEffect(()=>{const r=i.current;if(r)return t.branches.add(r),()=>{t.branches.delete(r)}},[t.branches]),b.jsx(Kn.div,{...n,ref:s})});Yie.displayName=Kie;function Zie(n,e=globalThis==null?void 0:globalThis.document){const t=vl(n),i=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{const r=l=>{if(l.target&&!i.current){let c=function(){t9(Gie,t,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);i.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",r),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function Xie(n,e=globalThis==null?void 0:globalThis.document){const t=vl(n),i=P.useRef(!1);return P.useEffect(()=>{const s=r=>{r.target&&!i.current&&t9(Wie,t,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function J3(){const n=new CustomEvent(uP);document.dispatchEvent(n)}function t9(n,e,t,{discrete:i}){const s=t.originalEvent.target,r=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),i?JU(s,r):s.dispatchEvent(r)}var K2="focusScope.autoFocusOnMount",Y2="focusScope.autoFocusOnUnmount",eV={bubbles:!1,cancelable:!0},Qie="FocusScope",pN=P.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:s,onUnmountAutoFocus:r,...a}=n,[l,c]=P.useState(null),h=vl(s),f=vl(r),p=P.useRef(null),v=Bi(e,S=>c(S)),w=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(i){let S=function(I){if(w.paused||!l)return;const z=I.target;l.contains(z)?p.current=z:Zd(p.current,{select:!0})},C=function(I){if(w.paused||!l)return;const z=I.relatedTarget;z!==null&&(l.contains(z)||Zd(p.current,{select:!0}))},k=function(I){if(document.activeElement===document.body)for(const V of I)V.removedNodes.length>0&&Zd(l)};document.addEventListener("focusin",S),document.addEventListener("focusout",C);const N=new MutationObserver(k);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",C),N.disconnect()}}},[i,l,w.paused]),P.useEffect(()=>{if(l){nV.add(w);const S=document.activeElement;if(!l.contains(S)){const k=new CustomEvent(K2,eV);l.addEventListener(K2,h),l.dispatchEvent(k),k.defaultPrevented||(Jie(sse(n9(l)),{select:!0}),document.activeElement===S&&Zd(l))}return()=>{l.removeEventListener(K2,h),setTimeout(()=>{const k=new CustomEvent(Y2,eV);l.addEventListener(Y2,f),l.dispatchEvent(k),k.defaultPrevented||Zd(S??document.body,{select:!0}),l.removeEventListener(Y2,f),nV.remove(w)},0)}}},[l,h,f,w]);const E=P.useCallback(S=>{if(!t&&!i||w.paused)return;const C=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,k=document.activeElement;if(C&&k){const N=S.currentTarget,[I,z]=ese(N);I&&z?!S.shiftKey&&k===z?(S.preventDefault(),t&&Zd(I,{select:!0})):S.shiftKey&&k===I&&(S.preventDefault(),t&&Zd(z,{select:!0})):k===N&&S.preventDefault()}},[t,i,w.paused]);return b.jsx(Kn.div,{tabIndex:-1,...a,ref:v,onKeyDown:E})});pN.displayName=Qie;function Jie(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Zd(i,{select:e}),document.activeElement!==t)return}function ese(n){const e=n9(n),t=tV(e,n),i=tV(e.reverse(),n);return[t,i]}function n9(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const s=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||s?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function tV(n,e){for(const t of n)if(!tse(t,{upTo:e}))return t}function tse(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function nse(n){return n instanceof HTMLInputElement&&"select"in n}function Zd(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&nse(n)&&e&&n.select()}}var nV=ise();function ise(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=iV(n,e),n.unshift(e)},remove(e){var t;n=iV(n,e),(t=n[0])==null||t.resume()}}}function iV(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function sse(n){return n.filter(e=>e.tagName!=="A")}var rse="Portal",HC=P.forwardRef((n,e)=>{var l;const{container:t,...i}=n,[s,r]=P.useState(!1);yl(()=>r(!0),[]);const a=t||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?AU.createPortal(b.jsx(Kn.div,{...i,ref:e}),a):null});HC.displayName=rse;function ase(n,e){return P.useReducer((t,i)=>e[t][i]??t,n)}var gc=n=>{const{present:e,children:t}=n,i=ose(e),s=typeof t=="function"?t({present:i.isPresent}):P.Children.only(t),r=Bi(i.ref,lse(s));return typeof t=="function"||i.isPresent?P.cloneElement(s,{ref:r}):null};gc.displayName="Presence";function ose(n){const[e,t]=P.useState(),i=P.useRef(null),s=P.useRef(n),r=P.useRef("none"),a=n?"mounted":"unmounted",[l,c]=ase(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const h=T1(i.current);r.current=l==="mounted"?h:"none"},[l]),yl(()=>{const h=i.current,f=s.current;if(f!==n){const v=r.current,w=T1(h);n?c("MOUNT"):w==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(f&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,c]),yl(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,p=w=>{const S=T1(i.current).includes(w.animationName);if(w.target===e&&S&&(c("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=w=>{w.target===e&&(r.current=T1(i.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(h=>{i.current=h?getComputedStyle(h):null,t(h)},[])}}function T1(n){return(n==null?void 0:n.animationName)||"none"}function lse(n){var i,s;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Z2=0;function i9(){P.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??sV()),document.body.insertAdjacentElement("beforeend",n[1]??sV()),Z2++,()=>{Z2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Z2--}},[])}function sV(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var au=function(){return au=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},au.apply(this,arguments)};function LE(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function cse(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,r;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var nT="right-scroll-bar-position",iT="width-before-scroll-bar",use="with-scroll-bars-hidden",hse="--removed-body-scroll-bar-size";function X2(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function dse(n,e){var t=P.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var s=t.value;s!==i&&(t.value=i,t.callback(i,s))}}}})[0];return t.callback=e,t.facade}var fse=typeof window<"u"?P.useLayoutEffect:P.useEffect,rV=new WeakMap;function mse(n,e){var t=dse(null,function(i){return n.forEach(function(s){return X2(s,i)})});return fse(function(){var i=rV.get(t);if(i){var s=new Set(i),r=new Set(n),a=t.current;s.forEach(function(l){r.has(l)||X2(l,null)}),r.forEach(function(l){s.has(l)||X2(l,a)})}rV.set(t,n)},[n]),t}function pse(n){return n}function gse(n,e){e===void 0&&(e=pse);var t=[],i=!1,s={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(r){var a=e(r,i);return t.push(a),function(){t=t.filter(function(l){return l!==a})}},assignSyncMedium:function(r){for(i=!0;t.length;){var a=t;t=[],a.forEach(r)}t={push:function(l){return r(l)},filter:function(){return t}}},assignMedium:function(r){i=!0;var a=[];if(t.length){var l=t;t=[],l.forEach(r),a=t}var c=function(){var f=a;a=[],f.forEach(r)},h=function(){return Promise.resolve().then(c)};h(),t={push:function(f){a.push(f),h()},filter:function(f){return a=a.filter(f),t}}}};return s}function yse(n){n===void 0&&(n={});var e=gse(null);return e.options=au({async:!0,ssr:!1},n),e}var s9=function(n){var e=n.sideCar,t=LE(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return P.createElement(i,au({},t))};s9.isSideCarExport=!0;function vse(n,e){return n.useMedium(e),s9}var r9=yse(),Q2=function(){},$C=P.forwardRef(function(n,e){var t=P.useRef(null),i=P.useState({onScrollCapture:Q2,onWheelCapture:Q2,onTouchMoveCapture:Q2}),s=i[0],r=i[1],a=n.forwardProps,l=n.children,c=n.className,h=n.removeScrollBar,f=n.enabled,p=n.shards,v=n.sideCar,w=n.noRelative,E=n.noIsolation,S=n.inert,C=n.allowPinchZoom,k=n.as,N=k===void 0?"div":k,I=n.gapMode,z=LE(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=v,H=mse([t,e]),B=au(au({},z),s);return P.createElement(P.Fragment,null,f&&P.createElement(V,{sideCar:r9,removeScrollBar:h,shards:p,noRelative:w,noIsolation:E,inert:S,setCallbacks:r,allowPinchZoom:!!C,lockRef:t,gapMode:I}),a?P.cloneElement(P.Children.only(l),au(au({},B),{ref:H})):P.createElement(N,au({},B,{className:c,ref:H}),l))});$C.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$C.classNames={fullWidth:iT,zeroRight:nT};var _se=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bse(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=_se();return e&&n.setAttribute("nonce",e),n}function wse(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xse(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Ese=function(){var n=0,e=null;return{add:function(t){n==0&&(e=bse())&&(wse(e,t),xse(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ase=function(){var n=Ese();return function(e,t){P.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},a9=function(){var n=Ase(),e=function(t){var i=t.styles,s=t.dynamic;return n(i,s),null};return e},Tse={left:0,top:0,right:0,gap:0},J2=function(n){return parseInt(n||"",10)||0},Sse=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[J2(t),J2(i),J2(s)]},Cse=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Tse;var e=Sse(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Rse=a9(),fv="data-scroll-locked",kse=function(n,e,t,i){var s=n.left,r=n.top,a=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(use,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(l,"px ").concat(i,`;
  }
  body[`).concat(fv,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nT,` {
    right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(iT,` {
    margin-right: `).concat(l,"px ").concat(i,`;
  }
  
  .`).concat(nT," .").concat(nT,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(iT," .").concat(iT,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(fv,`] {
    `).concat(hse,": ").concat(l,`px;
  }
`)},aV=function(){var n=parseInt(document.body.getAttribute(fv)||"0",10);return isFinite(n)?n:0},Mse=function(){P.useEffect(function(){return document.body.setAttribute(fv,(aV()+1).toString()),function(){var n=aV()-1;n<=0?document.body.removeAttribute(fv):document.body.setAttribute(fv,n.toString())}},[])},Pse=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,s=i===void 0?"margin":i;Mse();var r=P.useMemo(function(){return Cse(s)},[s]);return P.createElement(Rse,{styles:kse(r,!e,s,t?"":"!important")})},hP=!1;if(typeof window<"u")try{var S1=Object.defineProperty({},"passive",{get:function(){return hP=!0,!0}});window.addEventListener("test",S1,S1),window.removeEventListener("test",S1,S1)}catch{hP=!1}var Fy=hP?{passive:!1}:!1,Ise=function(n){return n.tagName==="TEXTAREA"},o9=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Ise(n)&&t[e]==="visible")},Dse=function(n){return o9(n,"overflowY")},Nse=function(n){return o9(n,"overflowX")},oV=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var s=l9(n,i);if(s){var r=c9(n,i),a=r[1],l=r[2];if(a>l)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},Lse=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},Ose=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},l9=function(n,e){return n==="v"?Dse(e):Nse(e)},c9=function(n,e){return n==="v"?Lse(e):Ose(e)},jse=function(n,e){return n==="h"&&e==="rtl"?-1:1},Fse=function(n,e,t,i,s){var r=jse(n,window.getComputedStyle(e).direction),a=r*i,l=t.target,c=e.contains(l),h=!1,f=a>0,p=0,v=0;do{if(!l)break;var w=c9(n,l),E=w[0],S=w[1],C=w[2],k=S-C-r*E;(E||k)&&l9(n,l)&&(p+=k,v+=E);var N=l.parentNode;l=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(f&&Math.abs(p)<1||!f&&Math.abs(v)<1)&&(h=!0),h},C1=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},lV=function(n){return[n.deltaX,n.deltaY]},cV=function(n){return n&&"current"in n?n.current:n},Vse=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Bse=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},zse=0,Vy=[];function Use(n){var e=P.useRef([]),t=P.useRef([0,0]),i=P.useRef(),s=P.useState(zse++)[0],r=P.useState(a9)[0],a=P.useRef(n);P.useEffect(function(){a.current=n},[n]),P.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var S=cse([n.lockRef.current],(n.shards||[]).map(cV),!0).filter(Boolean);return S.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var l=P.useCallback(function(S,C){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!a.current.allowPinchZoom;var k=C1(S),N=t.current,I="deltaX"in S?S.deltaX:N[0]-k[0],z="deltaY"in S?S.deltaY:N[1]-k[1],V,H=S.target,B=Math.abs(I)>Math.abs(z)?"h":"v";if("touches"in S&&B==="h"&&H.type==="range")return!1;var j=oV(B,H);if(!j)return!0;if(j?V=B:(V=B==="v"?"h":"v",j=oV(B,H)),!j)return!1;if(!i.current&&"changedTouches"in S&&(I||z)&&(i.current=V),!V)return!0;var q=i.current||V;return Fse(q,C,S,q==="h"?I:z)},[]),c=P.useCallback(function(S){var C=S;if(!(!Vy.length||Vy[Vy.length-1]!==r)){var k="deltaY"in C?lV(C):C1(C),N=e.current.filter(function(V){return V.name===C.type&&(V.target===C.target||C.target===V.shadowParent)&&Vse(V.delta,k)})[0];if(N&&N.should){C.cancelable&&C.preventDefault();return}if(!N){var I=(a.current.shards||[]).map(cV).filter(Boolean).filter(function(V){return V.contains(C.target)}),z=I.length>0?l(C,I[0]):!a.current.noIsolation;z&&C.cancelable&&C.preventDefault()}}},[]),h=P.useCallback(function(S,C,k,N){var I={name:S,delta:C,target:k,should:N,shadowParent:Hse(k)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(z){return z!==I})},1)},[]),f=P.useCallback(function(S){t.current=C1(S),i.current=void 0},[]),p=P.useCallback(function(S){h(S.type,lV(S),S.target,l(S,n.lockRef.current))},[]),v=P.useCallback(function(S){h(S.type,C1(S),S.target,l(S,n.lockRef.current))},[]);P.useEffect(function(){return Vy.push(r),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",c,Fy),document.addEventListener("touchmove",c,Fy),document.addEventListener("touchstart",f,Fy),function(){Vy=Vy.filter(function(S){return S!==r}),document.removeEventListener("wheel",c,Fy),document.removeEventListener("touchmove",c,Fy),document.removeEventListener("touchstart",f,Fy)}},[]);var w=n.removeScrollBar,E=n.inert;return P.createElement(P.Fragment,null,E?P.createElement(r,{styles:Bse(s)}):null,w?P.createElement(Pse,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Hse(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const $se=vse(r9,Use);var gN=P.forwardRef(function(n,e){return P.createElement($C,au({},n,{ref:e,sideCar:$se}))});gN.classNames=$C.classNames;var qse=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},By=new WeakMap,R1=new WeakMap,k1={},eM=0,u9=function(n){return n&&(n.host||u9(n.parentNode))},Gse=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=u9(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Wse=function(n,e,t,i){var s=Gse(e,Array.isArray(n)?n:[n]);k1[t]||(k1[t]=new WeakMap);var r=k1[t],a=[],l=new Set,c=new Set(s),h=function(p){!p||l.has(p)||(l.add(p),h(p.parentNode))};s.forEach(h);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(v){if(l.has(v))f(v);else try{var w=v.getAttribute(i),E=w!==null&&w!=="false",S=(By.get(v)||0)+1,C=(r.get(v)||0)+1;By.set(v,S),r.set(v,C),a.push(v),S===1&&E&&R1.set(v,!0),C===1&&v.setAttribute(t,"true"),E||v.setAttribute(i,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return f(e),l.clear(),eM++,function(){a.forEach(function(p){var v=By.get(p)-1,w=r.get(p)-1;By.set(p,v),r.set(p,w),v||(R1.has(p)||p.removeAttribute(i),R1.delete(p)),w||p.removeAttribute(t)}),eM--,eM||(By=new WeakMap,By=new WeakMap,R1=new WeakMap,k1={})}},h9=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),s=qse(n);return s?(i.push.apply(i,Array.from(s.querySelectorAll("[aria-live], script"))),Wse(i,s,t,"aria-hidden")):function(){return null}},qC="Dialog",[d9,f9]=bl(qC),[Kse,yc]=d9(qC),m9=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:s,onOpenChange:r,modal:a=!0}=n,l=P.useRef(null),c=P.useRef(null),[h,f]=Sm({prop:i,defaultProp:s??!1,onChange:r,caller:qC});return b.jsx(Kse,{scope:e,triggerRef:l,contentRef:c,contentId:oc(),titleId:oc(),descriptionId:oc(),open:h,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(p=>!p),[f]),modal:a,children:t})};m9.displayName=qC;var p9="DialogTrigger",g9=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,s=yc(p9,t),r=Bi(e,s.triggerRef);return b.jsx(Kn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_N(s.open),...i,ref:r,onClick:Ft(n.onClick,s.onOpenToggle)})});g9.displayName=p9;var yN="DialogPortal",[Yse,y9]=d9(yN,{forceMount:void 0}),v9=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:s}=n,r=yc(yN,e);return b.jsx(Yse,{scope:e,forceMount:t,children:P.Children.map(i,a=>b.jsx(gc,{present:t||r.open,children:b.jsx(HC,{asChild:!0,container:s,children:a})}))})};v9.displayName=yN;var lS="DialogOverlay",_9=P.forwardRef((n,e)=>{const t=y9(lS,n.__scopeDialog),{forceMount:i=t.forceMount,...s}=n,r=yc(lS,n.__scopeDialog);return r.modal?b.jsx(gc,{present:i||r.open,children:b.jsx(Xse,{...s,ref:e})}):null});_9.displayName=lS;var Zse=I_("DialogOverlay.RemoveScroll"),Xse=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,s=yc(lS,t);return b.jsx(gN,{as:Zse,allowPinchZoom:!0,shards:[s.contentRef],children:b.jsx(Kn.div,{"data-state":_N(s.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Pg="DialogContent",b9=P.forwardRef((n,e)=>{const t=y9(Pg,n.__scopeDialog),{forceMount:i=t.forceMount,...s}=n,r=yc(Pg,n.__scopeDialog);return b.jsx(gc,{present:i||r.open,children:r.modal?b.jsx(Qse,{...s,ref:e}):b.jsx(Jse,{...s,ref:e})})});b9.displayName=Pg;var Qse=P.forwardRef((n,e)=>{const t=yc(Pg,n.__scopeDialog),i=P.useRef(null),s=Bi(e,t.contentRef,i);return P.useEffect(()=>{const r=i.current;if(r)return h9(r)},[]),b.jsx(w9,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ft(n.onCloseAutoFocus,r=>{var a;r.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ft(n.onPointerDownOutside,r=>{const a=r.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&r.preventDefault()}),onFocusOutside:Ft(n.onFocusOutside,r=>r.preventDefault())})}),Jse=P.forwardRef((n,e)=>{const t=yc(Pg,n.__scopeDialog),i=P.useRef(!1),s=P.useRef(!1);return b.jsx(w9,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var a,l;(a=n.onCloseAutoFocus)==null||a.call(n,r),r.defaultPrevented||(i.current||(l=t.triggerRef.current)==null||l.focus(),r.preventDefault()),i.current=!1,s.current=!1},onInteractOutside:r=>{var c,h;(c=n.onInteractOutside)==null||c.call(n,r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=r.target;((h=t.triggerRef.current)==null?void 0:h.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&s.current&&r.preventDefault()}})}),w9=P.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:r,...a}=n,l=yc(Pg,t),c=P.useRef(null),h=Bi(e,c);return i9(),b.jsxs(b.Fragment,{children:[b.jsx(pN,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:s,onUnmountAutoFocus:r,children:b.jsx(UC,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":_N(l.open),...a,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),b.jsxs(b.Fragment,{children:[b.jsx(tre,{titleId:l.titleId}),b.jsx(ire,{contentRef:c,descriptionId:l.descriptionId})]})]})}),vN="DialogTitle",x9=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,s=yc(vN,t);return b.jsx(Kn.h2,{id:s.titleId,...i,ref:e})});x9.displayName=vN;var E9="DialogDescription",A9=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,s=yc(E9,t);return b.jsx(Kn.p,{id:s.descriptionId,...i,ref:e})});A9.displayName=E9;var T9="DialogClose",S9=P.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,s=yc(T9,t);return b.jsx(Kn.button,{type:"button",...i,ref:e,onClick:Ft(n.onClick,()=>s.onOpenChange(!1))})});S9.displayName=T9;function _N(n){return n?"open":"closed"}var C9="DialogTitleWarning",[ere,R9]=jie(C9,{contentName:Pg,titleName:vN,docsSlug:"dialog"}),tre=({titleId:n})=>{const e=R9(C9),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},nre="DialogDescriptionWarning",ire=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R9(nre).contentName}}.`;return P.useEffect(()=>{var r;const s=(r=n.current)==null?void 0:r.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},bN=m9,k9=g9,wN=v9,xN=_9,EN=b9,AN=x9,TN=A9,OE=S9;function sre({...n}){return b.jsx(bN,{"data-slot":"sheet",...n})}function rre({...n}){return b.jsx(wN,{"data-slot":"sheet-portal",...n})}function are({className:n,...e}){return b.jsx(xN,{"data-slot":"sheet-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function ore({className:n,children:e,side:t="right",...i}){return b.jsxs(rre,{children:[b.jsx(are,{}),b.jsxs(EN,{"data-slot":"sheet-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...i,children:[e,b.jsxs(OE,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[b.jsx(n0,{className:"size-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function lre({className:n,...e}){return b.jsx("div",{"data-slot":"sheet-header",className:tt("flex flex-col gap-1.5 p-4",n),...e})}function cre({className:n,...e}){return b.jsx(AN,{"data-slot":"sheet-title",className:tt("text-foreground font-semibold",n),...e})}function ure({className:n,...e}){return b.jsx(TN,{"data-slot":"sheet-description",className:tt("text-muted-foreground text-sm",n),...e})}const hre=["top","right","bottom","left"],om=Math.min,Mo=Math.max,cS=Math.round,M1=Math.floor,du=n=>({x:n,y:n}),dre={left:"right",right:"left",bottom:"top",top:"bottom"},fre={start:"end",end:"start"};function dP(n,e,t){return Mo(n,om(e,t))}function Uh(n,e){return typeof n=="function"?n(e):n}function Hh(n){return n.split("-")[0]}function r0(n){return n.split("-")[1]}function SN(n){return n==="x"?"y":"x"}function CN(n){return n==="y"?"height":"width"}function cu(n){return["top","bottom"].includes(Hh(n))?"y":"x"}function RN(n){return SN(cu(n))}function mre(n,e,t){t===void 0&&(t=!1);const i=r0(n),s=RN(n),r=CN(s);let a=s==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=uS(a)),[a,uS(a)]}function pre(n){const e=uS(n);return[fP(n),e,fP(e)]}function fP(n){return n.replace(/start|end/g,e=>fre[e])}function gre(n,e,t){const i=["left","right"],s=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:i:e?i:s;case"left":case"right":return e?r:a;default:return[]}}function yre(n,e,t,i){const s=r0(n);let r=gre(Hh(n),t==="start",i);return s&&(r=r.map(a=>a+"-"+s),e&&(r=r.concat(r.map(fP)))),r}function uS(n){return n.replace(/left|right|bottom|top/g,e=>dre[e])}function vre(n){return{top:0,right:0,bottom:0,left:0,...n}}function M9(n){return typeof n!="number"?vre(n):{top:n,right:n,bottom:n,left:n}}function hS(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function uV(n,e,t){let{reference:i,floating:s}=n;const r=cu(e),a=RN(e),l=CN(a),c=Hh(e),h=r==="y",f=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,v=i[l]/2-s[l]/2;let w;switch(c){case"top":w={x:f,y:i.y-s.height};break;case"bottom":w={x:f,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:p};break;case"left":w={x:i.x-s.width,y:p};break;default:w={x:i.x,y:i.y}}switch(r0(e)){case"start":w[a]-=v*(t&&h?-1:1);break;case"end":w[a]+=v*(t&&h?-1:1);break}return w}const _re=async(n,e,t)=>{const{placement:i="bottom",strategy:s="absolute",middleware:r=[],platform:a}=t,l=r.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:n,floating:e,strategy:s}),{x:f,y:p}=uV(h,i,c),v=i,w={},E=0;for(let S=0;S<l.length;S++){const{name:C,fn:k}=l[S],{x:N,y:I,data:z,reset:V}=await k({x:f,y:p,initialPlacement:i,placement:v,strategy:s,middlewareData:w,rects:h,platform:a,elements:{reference:n,floating:e}});f=N??f,p=I??p,w={...w,[C]:{...w[C],...z}},V&&E<=50&&(E++,typeof V=="object"&&(V.placement&&(v=V.placement),V.rects&&(h=V.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:s}):V.rects),{x:f,y:p}=uV(h,v,c)),S=-1)}return{x:f,y:p,placement:v,strategy:s,middlewareData:w}};async function Sw(n,e){var t;e===void 0&&(e={});const{x:i,y:s,platform:r,rects:a,elements:l,strategy:c}=n,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:v=!1,padding:w=0}=Uh(e,n),E=M9(w),C=l[v?p==="floating"?"reference":"floating":p],k=hS(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(C)))==null||t?C:C.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:h,rootBoundary:f,strategy:c})),N=p==="floating"?{x:i,y:s,width:a.floating.width,height:a.floating.height}:a.reference,I=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),z=await(r.isElement==null?void 0:r.isElement(I))?await(r.getScale==null?void 0:r.getScale(I))||{x:1,y:1}:{x:1,y:1},V=hS(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:I,strategy:c}):N);return{top:(k.top-V.top+E.top)/z.y,bottom:(V.bottom-k.bottom+E.bottom)/z.y,left:(k.left-V.left+E.left)/z.x,right:(V.right-k.right+E.right)/z.x}}const bre=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:s,rects:r,platform:a,elements:l,middlewareData:c}=e,{element:h,padding:f=0}=Uh(n,e)||{};if(h==null)return{};const p=M9(f),v={x:t,y:i},w=RN(s),E=CN(w),S=await a.getDimensions(h),C=w==="y",k=C?"top":"left",N=C?"bottom":"right",I=C?"clientHeight":"clientWidth",z=r.reference[E]+r.reference[w]-v[w]-r.floating[E],V=v[w]-r.reference[w],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let B=H?H[I]:0;(!B||!await(a.isElement==null?void 0:a.isElement(H)))&&(B=l.floating[I]||r.floating[E]);const j=z/2-V/2,q=B/2-S[E]/2-1,Y=om(p[k],q),Z=om(p[N],q),ne=Y,Q=B-S[E]-Z,_e=B/2-S[E]/2+j,Le=dP(ne,_e,Q),ee=!c.arrow&&r0(s)!=null&&_e!==Le&&r.reference[E]/2-(_e<ne?Y:Z)-S[E]/2<0,se=ee?_e<ne?_e-ne:_e-Q:0;return{[w]:v[w]+se,data:{[w]:Le,centerOffset:_e-Le-se,...ee&&{alignmentOffset:se}},reset:ee}}}),wre=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:s,middlewareData:r,rects:a,initialPlacement:l,platform:c,elements:h}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...C}=Uh(n,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const k=Hh(s),N=cu(l),I=Hh(l)===l,z=await(c.isRTL==null?void 0:c.isRTL(h.floating)),V=v||(I||!S?[uS(l)]:pre(l)),H=E!=="none";!v&&H&&V.push(...yre(l,S,E,z));const B=[l,...V],j=await Sw(e,C),q=[];let Y=((i=r.flip)==null?void 0:i.overflows)||[];if(f&&q.push(j[k]),p){const _e=mre(s,a,z);q.push(j[_e[0]],j[_e[1]])}if(Y=[...Y,{placement:s,overflows:q}],!q.every(_e=>_e<=0)){var Z,ne;const _e=(((Z=r.flip)==null?void 0:Z.index)||0)+1,Le=B[_e];if(Le&&(!(p==="alignment"?N!==cu(Le):!1)||Y.every(ie=>ie.overflows[0]>0&&cu(ie.placement)===N)))return{data:{index:_e,overflows:Y},reset:{placement:Le}};let ee=(ne=Y.filter(se=>se.overflows[0]<=0).sort((se,ie)=>se.overflows[1]-ie.overflows[1])[0])==null?void 0:ne.placement;if(!ee)switch(w){case"bestFit":{var Q;const se=(Q=Y.filter(ie=>{if(H){const Te=cu(ie.placement);return Te===N||Te==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(Te=>Te>0).reduce((Te,J)=>Te+J,0)]).sort((ie,Te)=>ie[1]-Te[1])[0])==null?void 0:Q[0];se&&(ee=se);break}case"initialPlacement":ee=l;break}if(s!==ee)return{reset:{placement:ee}}}return{}}}};function hV(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function dV(n){return hre.some(e=>n[e]>=0)}const xre=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...s}=Uh(n,e);switch(i){case"referenceHidden":{const r=await Sw(e,{...s,elementContext:"reference"}),a=hV(r,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dV(a)}}}case"escaped":{const r=await Sw(e,{...s,altBoundary:!0}),a=hV(r,t.floating);return{data:{escapedOffsets:a,escaped:dV(a)}}}default:return{}}}}};async function Ere(n,e){const{placement:t,platform:i,elements:s}=n,r=await(i.isRTL==null?void 0:i.isRTL(s.floating)),a=Hh(t),l=r0(t),c=cu(t)==="y",h=["left","top"].includes(a)?-1:1,f=r&&c?-1:1,p=Uh(e,n);let{mainAxis:v,crossAxis:w,alignmentAxis:E}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof E=="number"&&(w=l==="end"?E*-1:E),c?{x:w*f,y:v*h}:{x:v*h,y:w*f}}const Are=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:s,y:r,placement:a,middlewareData:l}=e,c=await Ere(e,n);return a===((t=l.offset)==null?void 0:t.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:s+c.x,y:r+c.y,data:{...c,placement:a}}}}},Tre=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:s}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:C=>{let{x:k,y:N}=C;return{x:k,y:N}}},...c}=Uh(n,e),h={x:t,y:i},f=await Sw(e,c),p=cu(Hh(s)),v=SN(p);let w=h[v],E=h[p];if(r){const C=v==="y"?"top":"left",k=v==="y"?"bottom":"right",N=w+f[C],I=w-f[k];w=dP(N,w,I)}if(a){const C=p==="y"?"top":"left",k=p==="y"?"bottom":"right",N=E+f[C],I=E-f[k];E=dP(N,E,I)}const S=l.fn({...e,[v]:w,[p]:E});return{...S,data:{x:S.x-t,y:S.y-i,enabled:{[v]:r,[p]:a}}}}}},Sre=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:s,rects:r,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:h=!0}=Uh(n,e),f={x:t,y:i},p=cu(s),v=SN(p);let w=f[v],E=f[p];const S=Uh(l,e),C=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const I=v==="y"?"height":"width",z=r.reference[v]-r.floating[I]+C.mainAxis,V=r.reference[v]+r.reference[I]-C.mainAxis;w<z?w=z:w>V&&(w=V)}if(h){var k,N;const I=v==="y"?"width":"height",z=["top","left"].includes(Hh(s)),V=r.reference[p]-r.floating[I]+(z&&((k=a.offset)==null?void 0:k[p])||0)+(z?0:C.crossAxis),H=r.reference[p]+r.reference[I]+(z?0:((N=a.offset)==null?void 0:N[p])||0)-(z?C.crossAxis:0);E<V?E=V:E>H&&(E=H)}return{[v]:w,[p]:E}}}},Cre=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:s,rects:r,platform:a,elements:l}=e,{apply:c=()=>{},...h}=Uh(n,e),f=await Sw(e,h),p=Hh(s),v=r0(s),w=cu(s)==="y",{width:E,height:S}=r.floating;let C,k;p==="top"||p==="bottom"?(C=p,k=v===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(k=p,C=v==="end"?"top":"bottom");const N=S-f.top-f.bottom,I=E-f.left-f.right,z=om(S-f[C],N),V=om(E-f[k],I),H=!e.middlewareData.shift;let B=z,j=V;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(j=I),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(B=N),H&&!v){const Y=Mo(f.left,0),Z=Mo(f.right,0),ne=Mo(f.top,0),Q=Mo(f.bottom,0);w?j=E-2*(Y!==0||Z!==0?Y+Z:Mo(f.left,f.right)):B=S-2*(ne!==0||Q!==0?ne+Q:Mo(f.top,f.bottom))}await c({...e,availableWidth:j,availableHeight:B});const q=await a.getDimensions(l.floating);return E!==q.width||S!==q.height?{reset:{rects:!0}}:{}}}};function GC(){return typeof window<"u"}function a0(n){return P9(n)?(n.nodeName||"").toLowerCase():"#document"}function No(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ru(n){var e;return(e=(P9(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function P9(n){return GC()?n instanceof Node||n instanceof No(n).Node:!1}function cc(n){return GC()?n instanceof Element||n instanceof No(n).Element:!1}function Eu(n){return GC()?n instanceof HTMLElement||n instanceof No(n).HTMLElement:!1}function fV(n){return!GC()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof No(n).ShadowRoot}function jE(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=uc(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function Rre(n){return["table","td","th"].includes(a0(n))}function WC(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function kN(n){const e=MN(),t=cc(n)?uc(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function kre(n){let e=lm(n);for(;Eu(e)&&!D_(e);){if(kN(e))return e;if(WC(e))return null;e=lm(e)}return null}function MN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function D_(n){return["html","body","#document"].includes(a0(n))}function uc(n){return No(n).getComputedStyle(n)}function KC(n){return cc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function lm(n){if(a0(n)==="html")return n;const e=n.assignedSlot||n.parentNode||fV(n)&&n.host||Ru(n);return fV(e)?e.host:e}function I9(n){const e=lm(n);return D_(e)?n.ownerDocument?n.ownerDocument.body:n.body:Eu(e)&&jE(e)?e:I9(e)}function Cw(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=I9(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),a=No(s);if(r){const l=mP(a);return e.concat(a,a.visualViewport||[],jE(s)?s:[],l&&t?Cw(l):[])}return e.concat(s,Cw(s,[],t))}function mP(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function D9(n){const e=uc(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=Eu(n),r=s?n.offsetWidth:t,a=s?n.offsetHeight:i,l=cS(t)!==r||cS(i)!==a;return l&&(t=r,i=a),{width:t,height:i,$:l}}function PN(n){return cc(n)?n:n.contextElement}function mv(n){const e=PN(n);if(!Eu(e))return du(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:r}=D9(e);let a=(r?cS(t.width):t.width)/i,l=(r?cS(t.height):t.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Mre=du(0);function N9(n){const e=No(n);return!MN()||!e.visualViewport?Mre:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pre(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==No(n)?!1:e}function Ig(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),r=PN(n);let a=du(1);e&&(i?cc(i)&&(a=mv(i)):a=mv(n));const l=Pre(r,t,i)?N9(r):du(0);let c=(s.left+l.x)/a.x,h=(s.top+l.y)/a.y,f=s.width/a.x,p=s.height/a.y;if(r){const v=No(r),w=i&&cc(i)?No(i):i;let E=v,S=mP(E);for(;S&&i&&w!==E;){const C=mv(S),k=S.getBoundingClientRect(),N=uc(S),I=k.left+(S.clientLeft+parseFloat(N.paddingLeft))*C.x,z=k.top+(S.clientTop+parseFloat(N.paddingTop))*C.y;c*=C.x,h*=C.y,f*=C.x,p*=C.y,c+=I,h+=z,E=No(S),S=mP(E)}}return hS({width:f,height:p,x:c,y:h})}function IN(n,e){const t=KC(n).scrollLeft;return e?e.left+t:Ig(Ru(n)).left+t}function L9(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=i.left+e.scrollLeft-(t?0:IN(n,i)),r=i.top+e.scrollTop;return{x:s,y:r}}function Ire(n){let{elements:e,rect:t,offsetParent:i,strategy:s}=n;const r=s==="fixed",a=Ru(i),l=e?WC(e.floating):!1;if(i===a||l&&r)return t;let c={scrollLeft:0,scrollTop:0},h=du(1);const f=du(0),p=Eu(i);if((p||!p&&!r)&&((a0(i)!=="body"||jE(a))&&(c=KC(i)),Eu(i))){const w=Ig(i);h=mv(i),f.x=w.x+i.clientLeft,f.y=w.y+i.clientTop}const v=a&&!p&&!r?L9(a,c,!0):du(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-c.scrollLeft*h.x+f.x+v.x,y:t.y*h.y-c.scrollTop*h.y+f.y+v.y}}function Dre(n){return Array.from(n.getClientRects())}function Nre(n){const e=Ru(n),t=KC(n),i=n.ownerDocument.body,s=Mo(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=Mo(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-t.scrollLeft+IN(n);const l=-t.scrollTop;return uc(i).direction==="rtl"&&(a+=Mo(e.clientWidth,i.clientWidth)-s),{width:s,height:r,x:a,y:l}}function Lre(n,e){const t=No(n),i=Ru(n),s=t.visualViewport;let r=i.clientWidth,a=i.clientHeight,l=0,c=0;if(s){r=s.width,a=s.height;const h=MN();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:r,height:a,x:l,y:c}}function Ore(n,e){const t=Ig(n,!0,e==="fixed"),i=t.top+n.clientTop,s=t.left+n.clientLeft,r=Eu(n)?mv(n):du(1),a=n.clientWidth*r.x,l=n.clientHeight*r.y,c=s*r.x,h=i*r.y;return{width:a,height:l,x:c,y:h}}function mV(n,e,t){let i;if(e==="viewport")i=Lre(n,t);else if(e==="document")i=Nre(Ru(n));else if(cc(e))i=Ore(e,t);else{const s=N9(n);i={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hS(i)}function O9(n,e){const t=lm(n);return t===e||!cc(t)||D_(t)?!1:uc(t).position==="fixed"||O9(t,e)}function jre(n,e){const t=e.get(n);if(t)return t;let i=Cw(n,[],!1).filter(l=>cc(l)&&a0(l)!=="body"),s=null;const r=uc(n).position==="fixed";let a=r?lm(n):n;for(;cc(a)&&!D_(a);){const l=uc(a),c=kN(a);!c&&l.position==="fixed"&&(s=null),(r?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||jE(a)&&!c&&O9(n,a))?i=i.filter(f=>f!==a):s=l,a=lm(a)}return e.set(n,i),i}function Fre(n){let{element:e,boundary:t,rootBoundary:i,strategy:s}=n;const a=[...t==="clippingAncestors"?WC(e)?[]:jre(e,this._c):[].concat(t),i],l=a[0],c=a.reduce((h,f)=>{const p=mV(e,f,s);return h.top=Mo(p.top,h.top),h.right=om(p.right,h.right),h.bottom=om(p.bottom,h.bottom),h.left=Mo(p.left,h.left),h},mV(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Vre(n){const{width:e,height:t}=D9(n);return{width:e,height:t}}function Bre(n,e,t){const i=Eu(e),s=Ru(e),r=t==="fixed",a=Ig(n,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=du(0);function h(){c.x=IN(s)}if(i||!i&&!r)if((a0(e)!=="body"||jE(s))&&(l=KC(e)),i){const w=Ig(e,!0,r,e);c.x=w.x+e.clientLeft,c.y=w.y+e.clientTop}else s&&h();r&&!i&&s&&h();const f=s&&!i&&!r?L9(s,l):du(0),p=a.left+l.scrollLeft-c.x-f.x,v=a.top+l.scrollTop-c.y-f.y;return{x:p,y:v,width:a.width,height:a.height}}function tM(n){return uc(n).position==="static"}function pV(n,e){if(!Eu(n)||uc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ru(n)===t&&(t=t.ownerDocument.body),t}function j9(n,e){const t=No(n);if(WC(n))return t;if(!Eu(n)){let s=lm(n);for(;s&&!D_(s);){if(cc(s)&&!tM(s))return s;s=lm(s)}return t}let i=pV(n,e);for(;i&&Rre(i)&&tM(i);)i=pV(i,e);return i&&D_(i)&&tM(i)&&!kN(i)?t:i||kre(n)||t}const zre=async function(n){const e=this.getOffsetParent||j9,t=this.getDimensions,i=await t(n.floating);return{reference:Bre(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Ure(n){return uc(n).direction==="rtl"}const Hre={convertOffsetParentRelativeRectToViewportRelativeRect:Ire,getDocumentElement:Ru,getClippingRect:Fre,getOffsetParent:j9,getElementRects:zre,getClientRects:Dre,getDimensions:Vre,getScale:mv,isElement:cc,isRTL:Ure};function F9(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function $re(n,e){let t=null,i;const s=Ru(n);function r(){var l;clearTimeout(i),(l=t)==null||l.disconnect(),t=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),r();const h=n.getBoundingClientRect(),{left:f,top:p,width:v,height:w}=h;if(l||e(),!v||!w)return;const E=M1(p),S=M1(s.clientWidth-(f+v)),C=M1(s.clientHeight-(p+w)),k=M1(f),I={rootMargin:-E+"px "+-S+"px "+-C+"px "+-k+"px",threshold:Mo(0,om(1,c))||1};let z=!0;function V(H){const B=H[0].intersectionRatio;if(B!==c){if(!z)return a();B?a(!1,B):i=setTimeout(()=>{a(!1,1e-7)},1e3)}B===1&&!F9(h,n.getBoundingClientRect())&&a(),z=!1}try{t=new IntersectionObserver(V,{...I,root:s.ownerDocument})}catch{t=new IntersectionObserver(V,I)}t.observe(n)}return a(!0),r}function qre(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,h=PN(n),f=s||r?[...h?Cw(h):[],...Cw(e)]:[];f.forEach(k=>{s&&k.addEventListener("scroll",t,{passive:!0}),r&&k.addEventListener("resize",t)});const p=h&&l?$re(h,t):null;let v=-1,w=null;a&&(w=new ResizeObserver(k=>{let[N]=k;N&&N.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(e)})),t()}),h&&!c&&w.observe(h),w.observe(e));let E,S=c?Ig(n):null;c&&C();function C(){const k=Ig(n);S&&!F9(S,k)&&t(),S=k,E=requestAnimationFrame(C)}return t(),()=>{var k;f.forEach(N=>{s&&N.removeEventListener("scroll",t),r&&N.removeEventListener("resize",t)}),p==null||p(),(k=w)==null||k.disconnect(),w=null,c&&cancelAnimationFrame(E)}}const Gre=Are,Wre=Tre,Kre=wre,Yre=Cre,Zre=xre,gV=bre,Xre=Sre,Qre=(n,e,t)=>{const i=new Map,s={platform:Hre,...t},r={...s.platform,_c:i};return _re(n,e,{...s,platform:r})};var Jre=typeof document<"u",eae=function(){},sT=Jre?P.useLayoutEffect:eae;function dS(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!dS(n[i],e[i]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,s[i]))return!1;for(i=t;i--!==0;){const r=s[i];if(!(r==="_owner"&&n.$$typeof)&&!dS(n[r],e[r]))return!1}return!0}return n!==n&&e!==e}function V9(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function yV(n,e){const t=V9(n);return Math.round(e*t)/t}function nM(n){const e=P.useRef(n);return sT(()=>{e.current=n}),e}function tae(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:s,elements:{reference:r,floating:a}={},transform:l=!0,whileElementsMounted:c,open:h}=n,[f,p]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=P.useState(i);dS(v,i)||w(i);const[E,S]=P.useState(null),[C,k]=P.useState(null),N=P.useCallback(ie=>{ie!==H.current&&(H.current=ie,S(ie))},[]),I=P.useCallback(ie=>{ie!==B.current&&(B.current=ie,k(ie))},[]),z=r||E,V=a||C,H=P.useRef(null),B=P.useRef(null),j=P.useRef(f),q=c!=null,Y=nM(c),Z=nM(s),ne=nM(h),Q=P.useCallback(()=>{if(!H.current||!B.current)return;const ie={placement:e,strategy:t,middleware:v};Z.current&&(ie.platform=Z.current),Qre(H.current,B.current,ie).then(Te=>{const J={...Te,isPositioned:ne.current!==!1};_e.current&&!dS(j.current,J)&&(j.current=J,DE.flushSync(()=>{p(J)}))})},[v,e,t,Z,ne]);sT(()=>{h===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,p(ie=>({...ie,isPositioned:!1})))},[h]);const _e=P.useRef(!1);sT(()=>(_e.current=!0,()=>{_e.current=!1}),[]),sT(()=>{if(z&&(H.current=z),V&&(B.current=V),z&&V){if(Y.current)return Y.current(z,V,Q);Q()}},[z,V,Q,Y,q]);const Le=P.useMemo(()=>({reference:H,floating:B,setReference:N,setFloating:I}),[N,I]),ee=P.useMemo(()=>({reference:z,floating:V}),[z,V]),se=P.useMemo(()=>{const ie={position:t,left:0,top:0};if(!ee.floating)return ie;const Te=yV(ee.floating,f.x),J=yV(ee.floating,f.y);return l?{...ie,transform:"translate("+Te+"px, "+J+"px)",...V9(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Te,top:J}},[t,l,ee.floating,f.x,f.y]);return P.useMemo(()=>({...f,update:Q,refs:Le,elements:ee,floatingStyles:se}),[f,Q,Le,ee,se])}const nae=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:s}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?gV({element:i.current,padding:s}).fn(t):{}:i?gV({element:i,padding:s}).fn(t):{}}}},iae=(n,e)=>({...Gre(n),options:[n,e]}),sae=(n,e)=>({...Wre(n),options:[n,e]}),rae=(n,e)=>({...Xre(n),options:[n,e]}),aae=(n,e)=>({...Kre(n),options:[n,e]}),oae=(n,e)=>({...Yre(n),options:[n,e]}),lae=(n,e)=>({...Zre(n),options:[n,e]}),cae=(n,e)=>({...nae(n),options:[n,e]});var uae="Arrow",B9=P.forwardRef((n,e)=>{const{children:t,width:i=10,height:s=5,...r}=n;return b.jsx(Kn.svg,{...r,ref:e,width:i,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});B9.displayName=uae;var hae=B9;function dae(n){const[e,t]=P.useState(void 0);return yl(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const r=s[0];let a,l;if("borderBoxSize"in r){const c=r.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,l=h.blockSize}else a=n.offsetWidth,l=n.offsetHeight;t({width:a,height:l})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var DN="Popper",[z9,YC]=bl(DN),[fae,U9]=z9(DN),H9=n=>{const{__scopePopper:e,children:t}=n,[i,s]=P.useState(null);return b.jsx(fae,{scope:e,anchor:i,onAnchorChange:s,children:t})};H9.displayName=DN;var $9="PopperAnchor",q9=P.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...s}=n,r=U9($9,t),a=P.useRef(null),l=Bi(e,a);return P.useEffect(()=>{r.onAnchorChange((i==null?void 0:i.current)||a.current)}),i?null:b.jsx(Kn.div,{...s,ref:l})});q9.displayName=$9;var NN="PopperContent",[mae,pae]=z9(NN),G9=P.forwardRef((n,e)=>{var We,je,nt,et,Ct,Dt;const{__scopePopper:t,side:i="bottom",sideOffset:s=0,align:r="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:E,...S}=n,C=U9(NN,t),[k,N]=P.useState(null),I=Bi(e,cn=>N(cn)),[z,V]=P.useState(null),H=dae(z),B=(H==null?void 0:H.width)??0,j=(H==null?void 0:H.height)??0,q=i+(r!=="center"?"-"+r:""),Y=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},Z=Array.isArray(h)?h:[h],ne=Z.length>0,Q={padding:Y,boundary:Z.filter(yae),altBoundary:ne},{refs:_e,floatingStyles:Le,placement:ee,isPositioned:se,middlewareData:ie}=tae({strategy:"fixed",placement:q,whileElementsMounted:(...cn)=>qre(...cn,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[iae({mainAxis:s+j,alignmentAxis:a}),c&&sae({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?rae():void 0,...Q}),c&&aae({...Q}),oae({...Q,apply:({elements:cn,rects:On,availableWidth:Zi,availableHeight:Xi})=>{const{width:jn,height:Qi}=On.reference,Tt=cn.floating.style;Tt.setProperty("--radix-popper-available-width",`${Zi}px`),Tt.setProperty("--radix-popper-available-height",`${Xi}px`),Tt.setProperty("--radix-popper-anchor-width",`${jn}px`),Tt.setProperty("--radix-popper-anchor-height",`${Qi}px`)}}),z&&cae({element:z,padding:l}),vae({arrowWidth:B,arrowHeight:j}),v&&lae({strategy:"referenceHidden",...Q})]}),[Te,J]=Y9(ee),ce=vl(E);yl(()=>{se&&(ce==null||ce())},[se,ce]);const ge=(We=ie.arrow)==null?void 0:We.x,ue=(je=ie.arrow)==null?void 0:je.y,De=((nt=ie.arrow)==null?void 0:nt.centerOffset)!==0,[$e,Pe]=P.useState();return yl(()=>{k&&Pe(window.getComputedStyle(k).zIndex)},[k]),b.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:se?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(et=ie.transformOrigin)==null?void 0:et.x,(Ct=ie.transformOrigin)==null?void 0:Ct.y].join(" "),...((Dt=ie.hide)==null?void 0:Dt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:b.jsx(mae,{scope:t,placedSide:Te,onArrowChange:V,arrowX:ge,arrowY:ue,shouldHideArrow:De,children:b.jsx(Kn.div,{"data-side":Te,"data-align":J,...S,ref:I,style:{...S.style,animation:se?void 0:"none"}})})})});G9.displayName=NN;var W9="PopperArrow",gae={top:"bottom",right:"left",bottom:"top",left:"right"},K9=P.forwardRef(function(e,t){const{__scopePopper:i,...s}=e,r=pae(W9,i),a=gae[r.placedSide];return b.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:b.jsx(hae,{...s,ref:t,style:{...s.style,display:"block"}})})});K9.displayName=W9;function yae(n){return n!==null}var vae=n=>({name:"transformOrigin",options:n,fn(e){var C,k,N;const{placement:t,rects:i,middlewareData:s}=e,a=((C=s.arrow)==null?void 0:C.centerOffset)!==0,l=a?0:n.arrowWidth,c=a?0:n.arrowHeight,[h,f]=Y9(t),p={start:"0%",center:"50%",end:"100%"}[f],v=(((k=s.arrow)==null?void 0:k.x)??0)+l/2,w=(((N=s.arrow)==null?void 0:N.y)??0)+c/2;let E="",S="";return h==="bottom"?(E=a?p:`${v}px`,S=`${-c}px`):h==="top"?(E=a?p:`${v}px`,S=`${i.floating.height+c}px`):h==="right"?(E=`${-c}px`,S=a?p:`${w}px`):h==="left"&&(E=`${i.floating.width+c}px`,S=a?p:`${w}px`),{data:{x:E,y:S}}}});function Y9(n){const[e,t="center"]=n.split("-");return[e,t]}var LN=H9,Z9=q9,X9=G9,Q9=K9,_ae=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bae="VisuallyHidden",J9=P.forwardRef((n,e)=>b.jsx(Kn.span,{...n,ref:e,style:{..._ae,...n.style}}));J9.displayName=bae;var wae=J9,[ZC,JRe]=bl("Tooltip",[YC]),XC=YC(),e8="TooltipProvider",xae=700,pP="tooltip.open",[Eae,ON]=ZC(e8),t8=n=>{const{__scopeTooltip:e,delayDuration:t=xae,skipDelayDuration:i=300,disableHoverableContent:s=!1,children:r}=n,a=P.useRef(!0),l=P.useRef(!1),c=P.useRef(0);return P.useEffect(()=>{const h=c.current;return()=>window.clearTimeout(h)},[]),b.jsx(Eae,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:P.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,i)},[i]),isPointerInTransitRef:l,onPointerInTransitChange:P.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:r})};t8.displayName=e8;var Rw="Tooltip",[Aae,FE]=ZC(Rw),n8=n=>{const{__scopeTooltip:e,children:t,open:i,defaultOpen:s,onOpenChange:r,disableHoverableContent:a,delayDuration:l}=n,c=ON(Rw,n.__scopeTooltip),h=XC(e),[f,p]=P.useState(null),v=oc(),w=P.useRef(0),E=a??c.disableHoverableContent,S=l??c.delayDuration,C=P.useRef(!1),[k,N]=Sm({prop:i,defaultProp:s??!1,onChange:B=>{B?(c.onOpen(),document.dispatchEvent(new CustomEvent(pP))):c.onClose(),r==null||r(B)},caller:Rw}),I=P.useMemo(()=>k?C.current?"delayed-open":"instant-open":"closed",[k]),z=P.useCallback(()=>{window.clearTimeout(w.current),w.current=0,C.current=!1,N(!0)},[N]),V=P.useCallback(()=>{window.clearTimeout(w.current),w.current=0,N(!1)},[N]),H=P.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{C.current=!0,N(!0),w.current=0},S)},[S,N]);return P.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),b.jsx(LN,{...h,children:b.jsx(Aae,{scope:e,contentId:v,open:k,stateAttribute:I,trigger:f,onTriggerChange:p,onTriggerEnter:P.useCallback(()=>{c.isOpenDelayedRef.current?H():z()},[c.isOpenDelayedRef,H,z]),onTriggerLeave:P.useCallback(()=>{E?V():(window.clearTimeout(w.current),w.current=0)},[V,E]),onOpen:z,onClose:V,disableHoverableContent:E,children:t})})};n8.displayName=Rw;var gP="TooltipTrigger",i8=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=FE(gP,t),r=ON(gP,t),a=XC(t),l=P.useRef(null),c=Bi(e,l,s.onTriggerChange),h=P.useRef(!1),f=P.useRef(!1),p=P.useCallback(()=>h.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),b.jsx(Z9,{asChild:!0,...a,children:b.jsx(Kn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...i,ref:c,onPointerMove:Ft(n.onPointerMove,v=>{v.pointerType!=="touch"&&!f.current&&!r.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ft(n.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:Ft(n.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ft(n.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ft(n.onBlur,s.onClose),onClick:Ft(n.onClick,s.onClose)})})});i8.displayName=gP;var jN="TooltipPortal",[Tae,Sae]=ZC(jN,{forceMount:void 0}),s8=n=>{const{__scopeTooltip:e,forceMount:t,children:i,container:s}=n,r=FE(jN,e);return b.jsx(Tae,{scope:e,forceMount:t,children:b.jsx(gc,{present:t||r.open,children:b.jsx(HC,{asChild:!0,container:s,children:i})})})};s8.displayName=jN;var N_="TooltipContent",r8=P.forwardRef((n,e)=>{const t=Sae(N_,n.__scopeTooltip),{forceMount:i=t.forceMount,side:s="top",...r}=n,a=FE(N_,n.__scopeTooltip);return b.jsx(gc,{present:i||a.open,children:a.disableHoverableContent?b.jsx(a8,{side:s,...r,ref:e}):b.jsx(Cae,{side:s,...r,ref:e})})}),Cae=P.forwardRef((n,e)=>{const t=FE(N_,n.__scopeTooltip),i=ON(N_,n.__scopeTooltip),s=P.useRef(null),r=Bi(e,s),[a,l]=P.useState(null),{trigger:c,onClose:h}=t,f=s.current,{onPointerInTransitChange:p}=i,v=P.useCallback(()=>{l(null),p(!1)},[p]),w=P.useCallback((E,S)=>{const C=E.currentTarget,k={x:E.clientX,y:E.clientY},N=Pae(k,C.getBoundingClientRect()),I=Iae(k,N),z=Dae(S.getBoundingClientRect()),V=Lae([...I,...z]);l(V),p(!0)},[p]);return P.useEffect(()=>()=>v(),[v]),P.useEffect(()=>{if(c&&f){const E=C=>w(C,f),S=C=>w(C,c);return c.addEventListener("pointerleave",E),f.addEventListener("pointerleave",S),()=>{c.removeEventListener("pointerleave",E),f.removeEventListener("pointerleave",S)}}},[c,f,w,v]),P.useEffect(()=>{if(a){const E=S=>{const C=S.target,k={x:S.clientX,y:S.clientY},N=(c==null?void 0:c.contains(C))||(f==null?void 0:f.contains(C)),I=!Nae(k,a);N?v():I&&(v(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[c,f,a,h,v]),b.jsx(a8,{...n,ref:r})}),[Rae,kae]=ZC(Rw,{isInside:!1}),Mae=SU("TooltipContent"),a8=P.forwardRef((n,e)=>{const{__scopeTooltip:t,children:i,"aria-label":s,onEscapeKeyDown:r,onPointerDownOutside:a,...l}=n,c=FE(N_,t),h=XC(t),{onClose:f}=c;return P.useEffect(()=>(document.addEventListener(pP,f),()=>document.removeEventListener(pP,f)),[f]),P.useEffect(()=>{if(c.trigger){const p=v=>{const w=v.target;w!=null&&w.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),b.jsx(UC,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:b.jsxs(X9,{"data-state":c.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(Mae,{children:i}),b.jsx(Rae,{scope:t,isInside:!0,children:b.jsx(wae,{id:c.contentId,role:"tooltip",children:s||i})})]})})});r8.displayName=N_;var o8="TooltipArrow",l8=P.forwardRef((n,e)=>{const{__scopeTooltip:t,...i}=n,s=XC(t);return kae(o8,t).isInside?null:b.jsx(Q9,{...s,...i,ref:e})});l8.displayName=o8;function Pae(n,e){const t=Math.abs(e.top-n.y),i=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),r=Math.abs(e.left-n.x);switch(Math.min(t,i,s,r)){case r:return"left";case s:return"right";case t:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function Iae(n,e,t=5){const i=[];switch(e){case"top":i.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":i.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":i.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":i.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return i}function Dae(n){const{top:e,right:t,bottom:i,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:i},{x:s,y:i}]}function Nae(n,e){const{x:t,y:i}=n;let s=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const l=e[r],c=e[a],h=l.x,f=l.y,p=c.x,v=c.y;f>i!=v>i&&t<(p-h)*(i-f)/(v-f)+h&&(s=!s)}return s}function Lae(n){const e=n.slice();return e.sort((t,i)=>t.x<i.x?-1:t.x>i.x?1:t.y<i.y?-1:t.y>i.y?1:0),Oae(e)}function Oae(n){if(n.length<=1)return n.slice();const e=[];for(let i=0;i<n.length;i++){const s=n[i];for(;e.length>=2;){const r=e[e.length-1],a=e[e.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let i=n.length-1;i>=0;i--){const s=n[i];for(;t.length>=2;){const r=t[t.length-1],a=t[t.length-2];if((r.x-a.x)*(s.y-a.y)>=(r.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var jae=t8,Fae=n8,Vae=i8,Bae=s8,zae=r8,Uae=l8;function FN({delayDuration:n=0,...e}){return b.jsx(jae,{"data-slot":"tooltip-provider",delayDuration:n,...e})}function Gg({...n}){return b.jsx(FN,{children:b.jsx(Fae,{"data-slot":"tooltip",...n})})}function Wg({...n}){return b.jsx(Vae,{"data-slot":"tooltip-trigger",...n})}function Kg({className:n,sideOffset:e=0,children:t,...i}){return b.jsx(Bae,{children:b.jsxs(zae,{"data-slot":"tooltip-content",sideOffset:e,className:tt("bg-background text-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance shadow-md",n),...i,children:[t,b.jsx(Uae,{className:"bg-background fill-background z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Hae="sidebar_state",$ae=60*60*24*7,qae="16rem",Gae="18rem",Wae="3rem",Kae="b",c8=P.createContext(null);function VN(){const n=P.useContext(c8);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function Yae({defaultOpen:n=!0,open:e,onOpenChange:t,className:i,style:s,children:r,...a}){const l=tie(),[c,h]=P.useState(!1),[f,p]=P.useState(n),v=e??f,w=P.useCallback(k=>{const N=typeof k=="function"?k(v):k;t?t(N):p(N),document.cookie=`${Hae}=${N}; path=/; max-age=${$ae}`},[t,v]),E=P.useCallback(()=>l?h(k=>!k):w(k=>!k),[l,w,h]);P.useEffect(()=>{const k=N=>{N.key===Kae&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),E())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[E]);const S=v?"expanded":"collapsed",C=P.useMemo(()=>({state:S,open:v,setOpen:w,isMobile:l,openMobile:c,setOpenMobile:h,toggleSidebar:E}),[S,v,w,l,c,h,E]);return b.jsx(c8.Provider,{value:C,children:b.jsx(FN,{delayDuration:0,children:b.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":qae,"--sidebar-width-icon":Wae,...s},className:tt("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",i),...a,children:r})})})}function Zae({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:i,children:s,...r}){const{isMobile:a,state:l,openMobile:c,setOpenMobile:h}=VN();return t==="none"?b.jsx("div",{"data-slot":"sidebar",className:tt("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",i),...r,children:s}):a?b.jsx(sre,{open:c,onOpenChange:h,...r,children:b.jsxs(ore,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Gae},side:n,children:[b.jsxs(lre,{className:"sr-only",children:[b.jsx(cre,{children:"Sidebar"}),b.jsx(ure,{children:"Displays the mobile sidebar."})]}),b.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):b.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[b.jsx("div",{"data-slot":"sidebar-gap",className:tt("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),b.jsx("div",{"data-slot":"sidebar-container",className:tt("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...r,children:b.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function Xae({className:n,onClick:e,...t}){const{toggleSidebar:i}=VN();return b.jsxs(mt,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:tt("size-7",n),onClick:s=>{e==null||e(s),i()},...t,children:[b.jsx(sne,{}),b.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function Qae({className:n,...e}){return b.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:tt("flex flex-col gap-2 p-2",n),...e})}function Jae({className:n,...e}){return b.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:tt("flex flex-col gap-2 p-2",n),...e})}function eoe({className:n,...e}){return b.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:tt("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e})}function toe({className:n,...e}){return b.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:tt("relative flex w-full min-w-0 flex-col p-2",n),...e})}function noe({className:n,...e}){return b.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:tt("w-full text-sm",n),...e})}function u8({className:n,...e}){return b.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:tt("flex w-full min-w-0 flex-col gap-1",n),...e})}function h8({className:n,...e}){return b.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:tt("group/menu-item relative",n),...e})}const ioe=oN("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function d8({asChild:n=!1,isActive:e=!1,variant:t="default",size:i="default",tooltip:s,className:r,...a}){const l=n?BC:"button",{isMobile:c,state:h}=VN(),f=b.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":e,className:tt(ioe({variant:t,size:i}),r),...a});return s?(typeof s=="string"&&(s={children:s}),b.jsxs(Gg,{children:[b.jsx(Wg,{asChild:!0,children:f}),b.jsx(Kg,{side:"right",align:"center",hidden:h!=="collapsed"||c,...s})]})):f}function soe(){return b.jsx("div",{className:"p-6 w-full",children:b.jsx(jC,{})})}function BN(n){const e=n+"CollectionProvider",[t,i]=bl(e),[s,r]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=S=>{const{scope:C,children:k}=S,N=xe.useRef(null),I=xe.useRef(new Map).current;return b.jsx(s,{scope:C,itemMap:I,collectionRef:N,children:k})};a.displayName=e;const l=n+"CollectionSlot",c=I_(l),h=xe.forwardRef((S,C)=>{const{scope:k,children:N}=S,I=r(l,k),z=Bi(C,I.collectionRef);return b.jsx(c,{ref:z,children:N})});h.displayName=l;const f=n+"CollectionItemSlot",p="data-radix-collection-item",v=I_(f),w=xe.forwardRef((S,C)=>{const{scope:k,children:N,...I}=S,z=xe.useRef(null),V=Bi(C,z),H=r(f,k);return xe.useEffect(()=>(H.itemMap.set(z,{ref:z,...I}),()=>void H.itemMap.delete(z))),b.jsx(v,{[p]:"",ref:V,children:N})});w.displayName=f;function E(S){const C=r(n+"CollectionConsumer",S);return xe.useCallback(()=>{const N=C.collectionRef.current;if(!N)return[];const I=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((H,B)=>I.indexOf(H.ref.current)-I.indexOf(B.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:a,Slot:h,ItemSlot:w},E,i]}var roe=P.createContext(void 0);function zN(n){const e=P.useContext(roe);return n||e||"ltr"}var iM="rovingFocusGroup.onEntryFocus",aoe={bubbles:!1,cancelable:!0},VE="RovingFocusGroup",[yP,f8,ooe]=BN(VE),[loe,m8]=bl(VE,[ooe]),[coe,uoe]=loe(VE),p8=P.forwardRef((n,e)=>b.jsx(yP.Provider,{scope:n.__scopeRovingFocusGroup,children:b.jsx(yP.Slot,{scope:n.__scopeRovingFocusGroup,children:b.jsx(hoe,{...n,ref:e})})}));p8.displayName=VE;var hoe=P.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:s=!1,dir:r,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...p}=n,v=P.useRef(null),w=Bi(e,v),E=zN(r),[S,C]=Sm({prop:a,defaultProp:l??null,onChange:c,caller:VE}),[k,N]=P.useState(!1),I=vl(h),z=f8(t),V=P.useRef(!1),[H,B]=P.useState(0);return P.useEffect(()=>{const j=v.current;if(j)return j.addEventListener(iM,I),()=>j.removeEventListener(iM,I)},[I]),b.jsx(coe,{scope:t,orientation:i,dir:E,loop:s,currentTabStopId:S,onItemFocus:P.useCallback(j=>C(j),[C]),onItemShiftTab:P.useCallback(()=>N(!0),[]),onFocusableItemAdd:P.useCallback(()=>B(j=>j+1),[]),onFocusableItemRemove:P.useCallback(()=>B(j=>j-1),[]),children:b.jsx(Kn.div,{tabIndex:k||H===0?-1:0,"data-orientation":i,...p,ref:w,style:{outline:"none",...n.style},onMouseDown:Ft(n.onMouseDown,()=>{V.current=!0}),onFocus:Ft(n.onFocus,j=>{const q=!V.current;if(j.target===j.currentTarget&&q&&!k){const Y=new CustomEvent(iM,aoe);if(j.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Z=z().filter(ee=>ee.focusable),ne=Z.find(ee=>ee.active),Q=Z.find(ee=>ee.id===S),Le=[ne,Q,...Z].filter(Boolean).map(ee=>ee.ref.current);v8(Le,f)}}V.current=!1}),onBlur:Ft(n.onBlur,()=>N(!1))})})}),g8="RovingFocusGroupItem",y8=P.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:s=!1,tabStopId:r,children:a,...l}=n,c=oc(),h=r||c,f=uoe(g8,t),p=f.currentTabStopId===h,v=f8(t),{onFocusableItemAdd:w,onFocusableItemRemove:E,currentTabStopId:S}=f;return P.useEffect(()=>{if(i)return w(),()=>E()},[i,w,E]),b.jsx(yP.ItemSlot,{scope:t,id:h,focusable:i,active:s,children:b.jsx(Kn.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:e,onMouseDown:Ft(n.onMouseDown,C=>{i?f.onItemFocus(h):C.preventDefault()}),onFocus:Ft(n.onFocus,()=>f.onItemFocus(h)),onKeyDown:Ft(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){f.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=moe(C,f.orientation,f.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let I=v().filter(z=>z.focusable).map(z=>z.ref.current);if(k==="last")I.reverse();else if(k==="prev"||k==="next"){k==="prev"&&I.reverse();const z=I.indexOf(C.currentTarget);I=f.loop?poe(I,z+1):I.slice(z+1)}setTimeout(()=>v8(I))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:S!=null}):a})})});y8.displayName=g8;var doe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function foe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function moe(n,e,t){const i=foe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return doe[i]}function v8(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function poe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var goe=p8,yoe=y8,vP=["Enter"," "],voe=["ArrowDown","PageUp","Home"],_8=["ArrowUp","PageDown","End"],_oe=[...voe,..._8],boe={ltr:[...vP,"ArrowRight"],rtl:[...vP,"ArrowLeft"]},woe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},BE="Menu",[kw,xoe,Eoe]=BN(BE),[Yg,QC]=bl(BE,[Eoe,YC,m8]),zE=YC(),b8=m8(),[w8,Cm]=Yg(BE),[Aoe,UE]=Yg(BE),x8=n=>{const{__scopeMenu:e,open:t=!1,children:i,dir:s,onOpenChange:r,modal:a=!0}=n,l=zE(e),[c,h]=P.useState(null),f=P.useRef(!1),p=vl(r),v=zN(s);return P.useEffect(()=>{const w=()=>{f.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>f.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),b.jsx(LN,{...l,children:b.jsx(w8,{scope:e,open:t,onOpenChange:p,content:c,onContentChange:h,children:b.jsx(Aoe,{scope:e,onClose:P.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:v,modal:a,children:i})})})};x8.displayName=BE;var Toe="MenuAnchor",UN=P.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,s=zE(t);return b.jsx(Z9,{...s,...i,ref:e})});UN.displayName=Toe;var HN="MenuPortal",[Soe,E8]=Yg(HN,{forceMount:void 0}),A8=n=>{const{__scopeMenu:e,forceMount:t,children:i,container:s}=n,r=Cm(HN,e);return b.jsx(Soe,{scope:e,forceMount:t,children:b.jsx(gc,{present:t||r.open,children:b.jsx(HC,{asChild:!0,container:s,children:i})})})};A8.displayName=HN;var hl="MenuContent",[Coe,$N]=Yg(hl),T8=P.forwardRef((n,e)=>{const t=E8(hl,n.__scopeMenu),{forceMount:i=t.forceMount,...s}=n,r=Cm(hl,n.__scopeMenu),a=UE(hl,n.__scopeMenu);return b.jsx(kw.Provider,{scope:n.__scopeMenu,children:b.jsx(gc,{present:i||r.open,children:b.jsx(kw.Slot,{scope:n.__scopeMenu,children:a.modal?b.jsx(Roe,{...s,ref:e}):b.jsx(koe,{...s,ref:e})})})})}),Roe=P.forwardRef((n,e)=>{const t=Cm(hl,n.__scopeMenu),i=P.useRef(null),s=Bi(e,i);return P.useEffect(()=>{const r=i.current;if(r)return h9(r)},[]),b.jsx(qN,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ft(n.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),koe=P.forwardRef((n,e)=>{const t=Cm(hl,n.__scopeMenu);return b.jsx(qN,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Moe=I_("MenuContent.ScrollLock"),qN=P.forwardRef((n,e)=>{const{__scopeMenu:t,loop:i=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:w,disableOutsideScroll:E,...S}=n,C=Cm(hl,t),k=UE(hl,t),N=zE(t),I=b8(t),z=xoe(t),[V,H]=P.useState(null),B=P.useRef(null),j=Bi(e,B,C.onContentChange),q=P.useRef(0),Y=P.useRef(""),Z=P.useRef(0),ne=P.useRef(null),Q=P.useRef("right"),_e=P.useRef(0),Le=E?gN:P.Fragment,ee=E?{as:Moe,allowPinchZoom:!0}:void 0,se=Te=>{var We,je;const J=Y.current+Te,ce=z().filter(nt=>!nt.disabled),ge=document.activeElement,ue=(We=ce.find(nt=>nt.ref.current===ge))==null?void 0:We.textValue,De=ce.map(nt=>nt.textValue),$e=Uoe(De,J,ue),Pe=(je=ce.find(nt=>nt.textValue===$e))==null?void 0:je.ref.current;(function nt(et){Y.current=et,window.clearTimeout(q.current),et!==""&&(q.current=window.setTimeout(()=>nt(""),1e3))})(J),Pe&&setTimeout(()=>Pe.focus())};P.useEffect(()=>()=>window.clearTimeout(q.current),[]),i9();const ie=P.useCallback(Te=>{var ce,ge;return Q.current===((ce=ne.current)==null?void 0:ce.side)&&$oe(Te,(ge=ne.current)==null?void 0:ge.area)},[]);return b.jsx(Coe,{scope:t,searchRef:Y,onItemEnter:P.useCallback(Te=>{ie(Te)&&Te.preventDefault()},[ie]),onItemLeave:P.useCallback(Te=>{var J;ie(Te)||((J=B.current)==null||J.focus(),H(null))},[ie]),onTriggerLeave:P.useCallback(Te=>{ie(Te)&&Te.preventDefault()},[ie]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:P.useCallback(Te=>{ne.current=Te},[]),children:b.jsx(Le,{...ee,children:b.jsx(pN,{asChild:!0,trapped:s,onMountAutoFocus:Ft(r,Te=>{var J;Te.preventDefault(),(J=B.current)==null||J.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:b.jsx(UC,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:v,onDismiss:w,children:b.jsx(goe,{asChild:!0,...I,dir:k.dir,orientation:"vertical",loop:i,currentTabStopId:V,onCurrentTabStopIdChange:H,onEntryFocus:Ft(c,Te=>{k.isUsingKeyboardRef.current||Te.preventDefault()}),preventScrollOnEntryFocus:!0,children:b.jsx(X9,{role:"menu","aria-orientation":"vertical","data-state":U8(C.open),"data-radix-menu-content":"",dir:k.dir,...N,...S,ref:j,style:{outline:"none",...S.style},onKeyDown:Ft(S.onKeyDown,Te=>{const ce=Te.target.closest("[data-radix-menu-content]")===Te.currentTarget,ge=Te.ctrlKey||Te.altKey||Te.metaKey,ue=Te.key.length===1;ce&&(Te.key==="Tab"&&Te.preventDefault(),!ge&&ue&&se(Te.key));const De=B.current;if(Te.target!==De||!_oe.includes(Te.key))return;Te.preventDefault();const Pe=z().filter(We=>!We.disabled).map(We=>We.ref.current);_8.includes(Te.key)&&Pe.reverse(),Boe(Pe)}),onBlur:Ft(n.onBlur,Te=>{Te.currentTarget.contains(Te.target)||(window.clearTimeout(q.current),Y.current="")}),onPointerMove:Ft(n.onPointerMove,Mw(Te=>{const J=Te.target,ce=_e.current!==Te.clientX;if(Te.currentTarget.contains(J)&&ce){const ge=Te.clientX>_e.current?"right":"left";Q.current=ge,_e.current=Te.clientX}}))})})})})})})});T8.displayName=hl;var Poe="MenuGroup",GN=P.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return b.jsx(Kn.div,{role:"group",...i,ref:e})});GN.displayName=Poe;var Ioe="MenuLabel",S8=P.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return b.jsx(Kn.div,{...i,ref:e})});S8.displayName=Ioe;var fS="MenuItem",vV="menu.itemSelect",JC=P.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:i,...s}=n,r=P.useRef(null),a=UE(fS,n.__scopeMenu),l=$N(fS,n.__scopeMenu),c=Bi(e,r),h=P.useRef(!1),f=()=>{const p=r.current;if(!t&&p){const v=new CustomEvent(vV,{bubbles:!0,cancelable:!0});p.addEventListener(vV,w=>i==null?void 0:i(w),{once:!0}),JU(p,v),v.defaultPrevented?h.current=!1:a.onClose()}};return b.jsx(C8,{...s,ref:c,disabled:t,onClick:Ft(n.onClick,f),onPointerDown:p=>{var v;(v=n.onPointerDown)==null||v.call(n,p),h.current=!0},onPointerUp:Ft(n.onPointerUp,p=>{var v;h.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:Ft(n.onKeyDown,p=>{const v=l.searchRef.current!=="";t||v&&p.key===" "||vP.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});JC.displayName=fS;var C8=P.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:i=!1,textValue:s,...r}=n,a=$N(fS,t),l=b8(t),c=P.useRef(null),h=Bi(e,c),[f,p]=P.useState(!1),[v,w]=P.useState("");return P.useEffect(()=>{const E=c.current;E&&w((E.textContent??"").trim())},[r.children]),b.jsx(kw.ItemSlot,{scope:t,disabled:i,textValue:s??v,children:b.jsx(yoe,{asChild:!0,...l,focusable:!i,children:b.jsx(Kn.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":i||void 0,"data-disabled":i?"":void 0,...r,ref:h,onPointerMove:Ft(n.onPointerMove,Mw(E=>{i?a.onItemLeave(E):(a.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ft(n.onPointerLeave,Mw(E=>a.onItemLeave(E))),onFocus:Ft(n.onFocus,()=>p(!0)),onBlur:Ft(n.onBlur,()=>p(!1))})})})}),Doe="MenuCheckboxItem",R8=P.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:i,...s}=n;return b.jsx(D8,{scope:n.__scopeMenu,checked:t,children:b.jsx(JC,{role:"menuitemcheckbox","aria-checked":mS(t)?"mixed":t,...s,ref:e,"data-state":YN(t),onSelect:Ft(s.onSelect,()=>i==null?void 0:i(mS(t)?!0:!t),{checkForDefaultPrevented:!1})})})});R8.displayName=Doe;var k8="MenuRadioGroup",[Noe,Loe]=Yg(k8,{value:void 0,onValueChange:()=>{}}),M8=P.forwardRef((n,e)=>{const{value:t,onValueChange:i,...s}=n,r=vl(i);return b.jsx(Noe,{scope:n.__scopeMenu,value:t,onValueChange:r,children:b.jsx(GN,{...s,ref:e})})});M8.displayName=k8;var P8="MenuRadioItem",I8=P.forwardRef((n,e)=>{const{value:t,...i}=n,s=Loe(P8,n.__scopeMenu),r=t===s.value;return b.jsx(D8,{scope:n.__scopeMenu,checked:r,children:b.jsx(JC,{role:"menuitemradio","aria-checked":r,...i,ref:e,"data-state":YN(r),onSelect:Ft(i.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,t)},{checkForDefaultPrevented:!1})})})});I8.displayName=P8;var WN="MenuItemIndicator",[D8,Ooe]=Yg(WN,{checked:!1}),N8=P.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:i,...s}=n,r=Ooe(WN,t);return b.jsx(gc,{present:i||mS(r.checked)||r.checked===!0,children:b.jsx(Kn.span,{...s,ref:e,"data-state":YN(r.checked)})})});N8.displayName=WN;var joe="MenuSeparator",L8=P.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n;return b.jsx(Kn.div,{role:"separator","aria-orientation":"horizontal",...i,ref:e})});L8.displayName=joe;var Foe="MenuArrow",O8=P.forwardRef((n,e)=>{const{__scopeMenu:t,...i}=n,s=zE(t);return b.jsx(Q9,{...s,...i,ref:e})});O8.displayName=Foe;var KN="MenuSub",[Voe,j8]=Yg(KN),F8=n=>{const{__scopeMenu:e,children:t,open:i=!1,onOpenChange:s}=n,r=Cm(KN,e),a=zE(e),[l,c]=P.useState(null),[h,f]=P.useState(null),p=vl(s);return P.useEffect(()=>(r.open===!1&&p(!1),()=>p(!1)),[r.open,p]),b.jsx(LN,{...a,children:b.jsx(w8,{scope:e,open:i,onOpenChange:p,content:h,onContentChange:f,children:b.jsx(Voe,{scope:e,contentId:oc(),triggerId:oc(),trigger:l,onTriggerChange:c,children:t})})})};F8.displayName=KN;var Ib="MenuSubTrigger",V8=P.forwardRef((n,e)=>{const t=Cm(Ib,n.__scopeMenu),i=UE(Ib,n.__scopeMenu),s=j8(Ib,n.__scopeMenu),r=$N(Ib,n.__scopeMenu),a=P.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=r,h={__scopeMenu:n.__scopeMenu},f=P.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return P.useEffect(()=>f,[f]),P.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),b.jsx(UN,{asChild:!0,...h,children:b.jsx(C8,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":U8(t.open),...n,ref:VC(e,s.onTriggerChange),onClick:p=>{var v;(v=n.onClick)==null||v.call(n,p),!(n.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ft(n.onPointerMove,Mw(p=>{r.onItemEnter(p),!p.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(r.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:Ft(n.onPointerLeave,Mw(p=>{var w,E;f();const v=(w=t.content)==null?void 0:w.getBoundingClientRect();if(v){const S=(E=t.content)==null?void 0:E.dataset.side,C=S==="right",k=C?-5:5,N=v[C?"left":"right"],I=v[C?"right":"left"];r.onPointerGraceIntentChange({area:[{x:p.clientX+k,y:p.clientY},{x:N,y:v.top},{x:I,y:v.top},{x:I,y:v.bottom},{x:N,y:v.bottom}],side:S}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(p),p.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:Ft(n.onKeyDown,p=>{var w;const v=r.searchRef.current!=="";n.disabled||v&&p.key===" "||boe[i.dir].includes(p.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),p.preventDefault())})})})});V8.displayName=Ib;var B8="MenuSubContent",z8=P.forwardRef((n,e)=>{const t=E8(hl,n.__scopeMenu),{forceMount:i=t.forceMount,...s}=n,r=Cm(hl,n.__scopeMenu),a=UE(hl,n.__scopeMenu),l=j8(B8,n.__scopeMenu),c=P.useRef(null),h=Bi(e,c);return b.jsx(kw.Provider,{scope:n.__scopeMenu,children:b.jsx(gc,{present:i||r.open,children:b.jsx(kw.Slot,{scope:n.__scopeMenu,children:b.jsx(qN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;a.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ft(n.onFocusOutside,f=>{f.target!==l.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:Ft(n.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:Ft(n.onKeyDown,f=>{var w;const p=f.currentTarget.contains(f.target),v=woe[a.dir].includes(f.key);p&&v&&(r.onOpenChange(!1),(w=l.trigger)==null||w.focus(),f.preventDefault())})})})})})});z8.displayName=B8;function U8(n){return n?"open":"closed"}function mS(n){return n==="indeterminate"}function YN(n){return mS(n)?"indeterminate":n?"checked":"unchecked"}function Boe(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function zoe(n,e){return n.map((t,i)=>n[(e+i)%n.length])}function Uoe(n,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,r=t?n.indexOf(t):-1;let a=zoe(n,Math.max(r,0));s.length===1&&(a=a.filter(h=>h!==t));const c=a.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return c!==t?c:void 0}function Hoe(n,e){const{x:t,y:i}=n;let s=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const l=e[r],c=e[a],h=l.x,f=l.y,p=c.x,v=c.y;f>i!=v>i&&t<(p-h)*(i-f)/(v-f)+h&&(s=!s)}return s}function $oe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return Hoe(t,e)}function Mw(n){return e=>e.pointerType==="mouse"?n(e):void 0}var H8=x8,$8=UN,q8=A8,G8=T8,W8=GN,K8=S8,Y8=JC,Z8=R8,X8=M8,Q8=I8,J8=N8,eH=L8,tH=O8,qoe=F8,nH=V8,iH=z8,eR="DropdownMenu",[Goe,eke]=bl(eR,[QC]),ea=QC(),[Woe,sH]=Goe(eR),rH=n=>{const{__scopeDropdownMenu:e,children:t,dir:i,open:s,defaultOpen:r,onOpenChange:a,modal:l=!0}=n,c=ea(e),h=P.useRef(null),[f,p]=Sm({prop:s,defaultProp:r??!1,onChange:a,caller:eR});return b.jsx(Woe,{scope:e,triggerId:oc(),triggerRef:h,contentId:oc(),open:f,onOpenChange:p,onOpenToggle:P.useCallback(()=>p(v=>!v),[p]),modal:l,children:b.jsx(H8,{...c,open:f,onOpenChange:p,dir:i,modal:l,children:t})})};rH.displayName=eR;var aH="DropdownMenuTrigger",ZN=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:i=!1,...s}=n,r=sH(aH,t),a=ea(t);return b.jsx($8,{asChild:!0,...a,children:b.jsx(Kn.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":i?"":void 0,disabled:i,...s,ref:VC(e,r.triggerRef),onPointerDown:Ft(n.onPointerDown,l=>{!i&&l.button===0&&l.ctrlKey===!1&&(r.onOpenToggle(),r.open||l.preventDefault())}),onKeyDown:Ft(n.onKeyDown,l=>{i||(["Enter"," "].includes(l.key)&&r.onOpenToggle(),l.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZN.displayName=aH;var Koe="DropdownMenuPortal",oH=n=>{const{__scopeDropdownMenu:e,...t}=n,i=ea(e);return b.jsx(q8,{...i,...t})};oH.displayName=Koe;var lH="DropdownMenuContent",cH=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=sH(lH,t),r=ea(t),a=P.useRef(!1);return b.jsx(G8,{id:s.contentId,"aria-labelledby":s.triggerId,...r,...i,ref:e,onCloseAutoFocus:Ft(n.onCloseAutoFocus,l=>{var c;a.current||(c=s.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:Ft(n.onInteractOutside,l=>{const c=l.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,f=c.button===2||h;(!s.modal||f)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cH.displayName=lH;var Yoe="DropdownMenuGroup",Zoe=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(W8,{...s,...i,ref:e})});Zoe.displayName=Yoe;var Xoe="DropdownMenuLabel",Qoe=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(K8,{...s,...i,ref:e})});Qoe.displayName=Xoe;var Joe="DropdownMenuItem",uH=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(Y8,{...s,...i,ref:e})});uH.displayName=Joe;var ele="DropdownMenuCheckboxItem",tle=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(Z8,{...s,...i,ref:e})});tle.displayName=ele;var nle="DropdownMenuRadioGroup",ile=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(X8,{...s,...i,ref:e})});ile.displayName=nle;var sle="DropdownMenuRadioItem",rle=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(Q8,{...s,...i,ref:e})});rle.displayName=sle;var ale="DropdownMenuItemIndicator",ole=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(J8,{...s,...i,ref:e})});ole.displayName=ale;var lle="DropdownMenuSeparator",cle=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(eH,{...s,...i,ref:e})});cle.displayName=lle;var ule="DropdownMenuArrow",hle=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(tH,{...s,...i,ref:e})});hle.displayName=ule;var dle=n=>{const{__scopeDropdownMenu:e,children:t,open:i,onOpenChange:s,defaultOpen:r}=n,a=ea(e),[l,c]=Sm({prop:i,defaultProp:r??!1,onChange:s,caller:"DropdownMenuSub"});return b.jsx(qoe,{...a,open:l,onOpenChange:c,children:t})},fle="DropdownMenuSubTrigger",hH=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(nH,{...s,...i,ref:e})});hH.displayName=fle;var mle="DropdownMenuSubContent",dH=P.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...i}=n,s=ea(t);return b.jsx(iH,{...s,...i,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dH.displayName=mle;var ple=rH,gle=ZN,yle=oH,vle=cH,_le=uH,ble=dle,wle=hH,xle=dH;function ed({...n}){return b.jsx(ple,{"data-slot":"dropdown-menu",...n})}function Rm({...n}){return b.jsx(gle,{"data-slot":"dropdown-menu-trigger",...n})}function td({className:n,sideOffset:e=4,...t}){return b.jsx(yle,{children:b.jsx(vle,{"data-slot":"dropdown-menu-content",sideOffset:e,className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function or({className:n,inset:e,variant:t="default",...i}){return b.jsx(_le,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:tt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function Ele({...n}){return b.jsx(ble,{"data-slot":"dropdown-menu-sub",...n})}function Ale({className:n,inset:e,children:t,...i}){return b.jsxs(wle,{"data-slot":"dropdown-menu-sub-trigger","data-inset":e,className:tt("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",n),...i,children:[t,b.jsx(tte,{className:"ml-auto size-4"})]})}function Tle({className:n,...e}){return b.jsx(xle,{"data-slot":"dropdown-menu-sub-content",className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",n),...e})}const Sle={theme:"system",setTheme:()=>null},fH=P.createContext(Sle);function mH({children:n,defaultTheme:e="system",storageKey:t="vite-ui-theme",...i}){const[s,r]=P.useState(()=>localStorage.getItem(t)||e);P.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c);return}l.classList.add(s)},[s]);const a={theme:s,setTheme:l=>{localStorage.setItem(t,l),r(l)}};return b.jsx(fH.Provider,{...i,value:a,children:n})}const Cle=()=>{const n=P.useContext(fH);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function pS(){const{theme:n,setTheme:e}=Cle(),t=()=>{switch(n){case"light":return"dark";case"dark":return"light";default:return"dark"}},i=()=>{e(t())};return b.jsxs(mt,{variant:"ghost",size:"icon",onClick:i,children:[n==="dark"&&b.jsx(nne,{}),n==="light"&&b.jsx(Vne,{})]})}const Rle=()=>{};var _V={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},kle=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],a=n[t++],l=n[t++],c=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const r=n[t++],a=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return e.join("")},gH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],a=s+1<n.length,l=a?n[s+1]:0,c=s+2<n.length,h=c?n[s+2]:0,f=r>>2,p=(r&3)<<4|l>>4;let v=(l&15)<<2|h>>6,w=h&63;c||(w=64,a||(v=64)),i.push(t[f],t[p],t[v],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pH(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):kle(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],l=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const p=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||l==null||h==null||p==null)throw new Mle;const v=r<<2|l>>4;if(i.push(v),h!==64){const w=l<<4&240|h>>2;if(i.push(w),p!==64){const E=h<<6&192|p;i.push(E)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mle extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ple=function(n){const e=pH(n);return gH.encodeByteArray(e,!0)},gS=function(n){return Ple(n).replace(/\./g,"")},yH=function(n){try{return gH.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ile(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dle=()=>Ile().__FIREBASE_DEFAULTS__,Nle=()=>{if(typeof process>"u"||typeof _V>"u")return;const n=_V.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Lle=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&yH(n[1]);return e&&JSON.parse(e)},tR=()=>{try{return Rle()||Dle()||Nle()||Lle()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},vH=n=>{var e,t;return(t=(e=tR())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ole=n=>{const e=vH(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_H=()=>{var n;return(n=tR())===null||n===void 0?void 0:n.config},bH=n=>{var e;return(e=tR())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jle{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(n){return n.endsWith(".cloudworkstations.dev")}async function wH(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fle(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gS(JSON.stringify(t)),gS(JSON.stringify(a)),""].join(".")}const lw={};function Vle(){const n={prod:[],emulator:[]};for(const e of Object.keys(lw))lw[e]?n.emulator.push(e):n.prod.push(e);return n}function Ble(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let bV=!1;function xH(n,e){if(typeof window>"u"||typeof document>"u"||!o0(window.location.host)||lw[n]===e||lw[n]||bV)return;lw[n]=e;function t(v){return`__firebase__banner__${v}`}const i="__firebase__banner",r=Vle().prod.length>0;function a(){const v=document.getElementById(i);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function c(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{bV=!0,a()},v}function f(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function p(){const v=Ble(i),w=t("text"),E=document.getElementById(w)||document.createElement("span"),S=t("learnmore"),C=document.getElementById(S)||document.createElement("a"),k=t("preprendIcon"),N=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const I=v.element;l(I),f(C,S);const z=h();c(N,k),I.append(N,E,C,z),document.body.appendChild(I)}r?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zle(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jr())}function Ule(){var n;const e=(n=tR())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hle(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $le(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qle(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gle(){const n=Jr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Wle(){return!Ule()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kle(){try{return typeof indexedDB=="object"}catch{return!1}}function Yle(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zle="FirebaseError";class nd extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Zle,Object.setPrototypeOf(this,nd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HE.prototype.create)}}class HE{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],a=r?Xle(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new nd(s,l,i)}}function Xle(n,e){return n.replace(Qle,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Qle=/\{\$([^}]+)}/g;function Jle(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dg(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],a=e[s];if(wV(r)&&wV(a)){if(!Dg(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function wV(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Db(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Nb(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ece(n,e){const t=new tce(n,e);return t.subscribe.bind(t)}class tce{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");nce(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=sM),s.error===void 0&&(s.error=sM),s.complete===void 0&&(s.complete=sM);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nce(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function sM(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(n){return n&&n._delegate?n._delegate:n}class Ng{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ice{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new jle;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rce(e))try{this.getOrInitializeService({instanceIdentifier:op})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=op){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=op){return this.instances.has(e)}getOptions(e=op){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const a=this.instances.get(s);return a&&e(a,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sce(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=op){return this.component?this.component.multipleInstances?e:op:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sce(n){return n===op?void 0:n}function rce(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ice(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rn||(Rn={}));const oce={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},lce=Rn.INFO,cce={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},uce=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=cce[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XN{constructor(e){this.name=e,this._logLevel=lce,this._logHandler=uce,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oce[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...e),this._logHandler(this,Rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...e),this._logHandler(this,Rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...e),this._logHandler(this,Rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...e),this._logHandler(this,Rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...e),this._logHandler(this,Rn.ERROR,...e)}}const hce=(n,e)=>e.some(t=>n instanceof t);let xV,EV;function dce(){return xV||(xV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fce(){return EV||(EV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EH=new WeakMap,_P=new WeakMap,AH=new WeakMap,rM=new WeakMap,QN=new WeakMap;function mce(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",a)},r=()=>{t(Jf(n.result)),s()},a=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&EH.set(t,n)}).catch(()=>{}),QN.set(e,n),e}function pce(n){if(_P.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",a),n.removeEventListener("abort",a)},r=()=>{t(),s()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",a),n.addEventListener("abort",a)});_P.set(n,e)}let bP={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return _P.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AH.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Jf(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gce(n){bP=n(bP)}function yce(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(aM(this),e,...t);return AH.set(i,e.sort?e.sort():[e]),Jf(i)}:fce().includes(n)?function(...e){return n.apply(aM(this),e),Jf(EH.get(this))}:function(...e){return Jf(n.apply(aM(this),e))}}function vce(n){return typeof n=="function"?yce(n):(n instanceof IDBTransaction&&pce(n),hce(n,dce())?new Proxy(n,bP):n)}function Jf(n){if(n instanceof IDBRequest)return mce(n);if(rM.has(n))return rM.get(n);const e=vce(n);return e!==n&&(rM.set(n,e),QN.set(e,n)),e}const aM=n=>QN.get(n);function _ce(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(n,e),l=Jf(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Jf(a.result),c.oldVersion,c.newVersion,Jf(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const bce=["get","getKey","getAll","getAllKeys","count"],wce=["put","add","delete","clear"],oM=new Map;function AV(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(oM.get(e))return oM.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=wce.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||bce.includes(t)))return;const r=async function(a,...l){const c=this.transaction(a,s?"readwrite":"readonly");let h=c.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),s&&c.done]))[0]};return oM.set(e,r),r}gce(n=>({...n,get:(e,t,i)=>AV(e,t)||n.get(e,t,i),has:(e,t)=>!!AV(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ece(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ece(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wP="@firebase/app",TV="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new XN("@firebase/app"),Ace="@firebase/app-compat",Tce="@firebase/analytics-compat",Sce="@firebase/analytics",Cce="@firebase/app-check-compat",Rce="@firebase/app-check",kce="@firebase/auth",Mce="@firebase/auth-compat",Pce="@firebase/database",Ice="@firebase/data-connect",Dce="@firebase/database-compat",Nce="@firebase/functions",Lce="@firebase/functions-compat",Oce="@firebase/installations",jce="@firebase/installations-compat",Fce="@firebase/messaging",Vce="@firebase/messaging-compat",Bce="@firebase/performance",zce="@firebase/performance-compat",Uce="@firebase/remote-config",Hce="@firebase/remote-config-compat",$ce="@firebase/storage",qce="@firebase/storage-compat",Gce="@firebase/firestore",Wce="@firebase/ai",Kce="@firebase/firestore-compat",Yce="firebase",Zce="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="[DEFAULT]",Xce={[wP]:"fire-core",[Ace]:"fire-core-compat",[Sce]:"fire-analytics",[Tce]:"fire-analytics-compat",[Rce]:"fire-app-check",[Cce]:"fire-app-check-compat",[kce]:"fire-auth",[Mce]:"fire-auth-compat",[Pce]:"fire-rtdb",[Ice]:"fire-data-connect",[Dce]:"fire-rtdb-compat",[Nce]:"fire-fn",[Lce]:"fire-fn-compat",[Oce]:"fire-iid",[jce]:"fire-iid-compat",[Fce]:"fire-fcm",[Vce]:"fire-fcm-compat",[Bce]:"fire-perf",[zce]:"fire-perf-compat",[Uce]:"fire-rc",[Hce]:"fire-rc-compat",[$ce]:"fire-gcs",[qce]:"fire-gcs-compat",[Gce]:"fire-fst",[Kce]:"fire-fst-compat",[Wce]:"fire-vertex","fire-js":"fire-js",[Yce]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map,Qce=new Map,EP=new Map;function SV(n,e){try{n.container.addComponent(e)}catch(t){$h.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function L_(n){const e=n.name;if(EP.has(e))return $h.debug(`There were multiple attempts to register component ${e}.`),!1;EP.set(e,n);for(const t of yS.values())SV(t,n);for(const t of Qce.values())SV(t,n);return!0}function JN(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Io(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jce={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},em=new HE("app","Firebase",Jce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eue{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ng("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw em.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=Zce;function TH(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xP,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw em.create("bad-app-name",{appName:String(s)});if(t||(t=_H()),!t)throw em.create("no-options");const r=yS.get(s);if(r){if(Dg(t,r.options)&&Dg(i,r.config))return r;throw em.create("duplicate-app",{appName:s})}const a=new ace(s);for(const c of EP.values())a.addComponent(c);const l=new eue(t,i,a);return yS.set(s,l),l}function SH(n=xP){const e=yS.get(n);if(!e&&n===xP&&_H())return TH();if(!e)throw em.create("no-app",{appName:n});return e}function tm(n,e,t){var i;let s=(i=Xce[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$h.warn(l.join(" "));return}L_(new Ng(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue="firebase-heartbeat-database",nue=1,Pw="firebase-heartbeat-store";let lM=null;function CH(){return lM||(lM=_ce(tue,nue,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Pw)}catch(t){console.warn(t)}}}}).catch(n=>{throw em.create("idb-open",{originalErrorMessage:n.message})})),lM}async function iue(n){try{const t=(await CH()).transaction(Pw),i=await t.objectStore(Pw).get(RH(n));return await t.done,i}catch(e){if(e instanceof nd)$h.warn(e.message);else{const t=em.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$h.warn(t.message)}}}async function CV(n,e){try{const i=(await CH()).transaction(Pw,"readwrite");await i.objectStore(Pw).put(e,RH(n)),await i.done}catch(t){if(t instanceof nd)$h.warn(t.message);else{const i=em.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$h.warn(i.message)}}}function RH(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sue=1024,rue=30;class aue{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lue(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=RV();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>rue){const a=cue(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$h.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RV(),{heartbeatsToSend:i,unsentEntries:s}=oue(this._heartbeatsCache.heartbeats),r=gS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return $h.warn(t),""}}}function RV(){return new Date().toISOString().substring(0,10)}function oue(n,e=sue){const t=[];let i=n.slice();for(const s of n){const r=t.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),kV(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),kV(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class lue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kle()?Yle().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await iue(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return CV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return CV(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kV(n){return gS(JSON.stringify({version:2,heartbeats:n})).length}function cue(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(n){L_(new Ng("platform-logger",e=>new xce(e),"PRIVATE")),L_(new Ng("heartbeat",e=>new aue(e),"PRIVATE")),tm(wP,TV,n),tm(wP,TV,"esm2017"),tm("fire-js","")}uue("");var hue="firebase",due="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tm(hue,due,"app");function kH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fue=kH,MH=new HE("auth","Firebase",kH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new XN("@firebase/auth");function mue(n,...e){vS.logLevel<=Rn.WARN&&vS.warn(`Auth (${l0}): ${n}`,...e)}function rT(n,...e){vS.logLevel<=Rn.ERROR&&vS.error(`Auth (${l0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n,...e){throw eL(n,...e)}function fu(n,...e){return eL(n,...e)}function PH(n,e,t){const i=Object.assign(Object.assign({},fue()),{[e]:t});return new HE("auth","Firebase",i).create(e,{appName:n.name})}function mu(n){return PH(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eL(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return MH.create(n,...e)}function Ht(n,e,...t){if(!n)throw eL(e,...t)}function jh(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rT(e),new Error(e)}function qh(n,e){n||jh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pue(){return MV()==="http:"||MV()==="https:"}function MV(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pue()||$le()||"connection"in navigator)?navigator.onLine:!0}function yue(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,t){this.shortDelay=e,this.longDelay=t,qh(t>e,"Short delay should be less than long delay!"),this.isMobile=zle()||qle()}get(){return gue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(n,e){qh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ue=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bue=new qE(3e4,6e4);function id(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function sd(n,e,t,i,s={}){return DH(n,s,async()=>{let r={},a={};i&&(e==="GET"?a=i:r={body:JSON.stringify(i)});const l=$E(Object.assign({key:n.config.apiKey},a)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:c},r);return Hle()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&o0(n.emulatorConfig.host)&&(h.credentials="include"),IH.fetch()(await NH(n,n.config.apiHost,t,l),h)})}async function DH(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},vue),e);try{const s=new xue(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw P1(n,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw P1(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw P1(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw P1(n,"user-disabled",a);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw PH(n,f,h);hc(n,f)}}catch(s){if(s instanceof nd)throw s;hc(n,"network-request-failed",{message:String(s)})}}async function c0(n,e,t,i,s={}){const r=await sd(n,e,t,i,s);return"mfaPendingCredential"in r&&hc(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function NH(n,e,t,i){const s=`${e}${t}?${i}`,r=n,a=r.config.emulator?tL(n.config,s):`${n.config.apiScheme}://${s}`;return _ue.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function wue(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xue{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fu(this.auth,"network-request-failed")),bue.get())})}}function P1(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=fu(n,e,i);return s.customData._tokenResponse=t,s}function PV(n){return n!==void 0&&n.enterprise!==void 0}class Eue{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wue(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Aue(n,e){return sd(n,"GET","/v2/recaptchaConfig",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tue(n,e){return sd(n,"POST","/v1/accounts:delete",e)}async function _S(n,e){return sd(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sue(n,e=!1){const t=ds(n),i=await t.getIdToken(e),s=nL(i);Ht(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:cw(cM(s.auth_time)),issuedAtTime:cw(cM(s.iat)),expirationTime:cw(cM(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function cM(n){return Number(n)*1e3}function nL(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return rT("JWT malformed, contained fewer than 3 sections"),null;try{const s=yH(t);return s?JSON.parse(s):(rT("Failed to decode base64 JWT payload"),null)}catch(s){return rT("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function IV(n){const e=nL(n);return Ht(e,"internal-error"),Ht(typeof e.exp<"u","internal-error"),Ht(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof nd&&Cue(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Cue({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rue{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cw(this.lastLoginAt),this.creationTime=cw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(n){var e;const t=n.auth,i=await n.getIdToken(),s=await O_(n,_S(t,{idToken:i}));Ht(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const a=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?LH(r.providerUserInfo):[],l=Mue(n.providerData,a),c=n.isAnonymous,h=!(n.email&&r.passwordHash)&&!(l!=null&&l.length),f=c?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new TP(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function kue(n){const e=ds(n);await bS(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mue(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function LH(n){return n.map(e=>{var{providerId:t}=e,i=LE(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pue(n,e){const t=await DH(n,{},async()=>{const i=$E({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,a=await NH(n,s,"/v1/token",`key=${r}`),l=await n._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:i};return n.emulatorConfig&&o0(n.emulatorConfig.host)&&(c.credentials="include"),IH.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Iue(n,e){return sd(n,"POST","/v2/accounts:revokeToken",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ht(e.idToken,"internal-error"),Ht(typeof e.idToken<"u","internal-error"),Ht(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ht(e.length!==0,"internal-error");const t=IV(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await Pue(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,a=new pv;return i&&(Ht(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),s&&(Ht(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),r&&(Ht(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pv,this.toJSON())}_performRefresh(){return jh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(n,e){Ht(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jl{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=LE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new TP(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await O_(this,this.stsTokenManager.getToken(this.auth,e));return Ht(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Sue(this,e)}reload(){return kue(this)}_assign(e){this!==e&&(Ht(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await bS(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Io(this.auth.app))return Promise.reject(mu(this.auth));const e=await this.getIdToken();return await O_(this,Tue(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,a,l,c,h,f;const p=(i=t.displayName)!==null&&i!==void 0?i:void 0,v=(s=t.email)!==null&&s!==void 0?s:void 0,w=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,E=(a=t.photoURL)!==null&&a!==void 0?a:void 0,S=(l=t.tenantId)!==null&&l!==void 0?l:void 0,C=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(h=t.createdAt)!==null&&h!==void 0?h:void 0,N=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:I,emailVerified:z,isAnonymous:V,providerData:H,stsTokenManager:B}=t;Ht(I&&B,e,"internal-error");const j=pv.fromJSON(this.name,B);Ht(typeof I=="string",e,"internal-error"),Kd(p,e.name),Kd(v,e.name),Ht(typeof z=="boolean",e,"internal-error"),Ht(typeof V=="boolean",e,"internal-error"),Kd(w,e.name),Kd(E,e.name),Kd(S,e.name),Kd(C,e.name),Kd(k,e.name),Kd(N,e.name);const q=new Jl({uid:I,auth:e,email:v,emailVerified:z,displayName:p,isAnonymous:V,photoURL:E,phoneNumber:w,tenantId:S,stsTokenManager:j,createdAt:k,lastLoginAt:N});return H&&Array.isArray(H)&&(q.providerData=H.map(Y=>Object.assign({},Y))),C&&(q._redirectEventId=C),q}static async _fromIdTokenResponse(e,t,i=!1){const s=new pv;s.updateFromServerResponse(t);const r=new Jl({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await bS(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ht(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?LH(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new pv;l.updateFromIdToken(i);const c=new Jl({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new TP(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new Map;function Fh(n){qh(n instanceof Function,"Expected a class definition");let e=DV.get(n);return e?(qh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,DV.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OH.type="NONE";const NV=OH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n,e,t){return`firebase:${n}:${e}:${t}`}class gv{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=aT(this.userKey,s.apiKey,r),this.fullPersistenceKey=aT("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await _S(this.auth,{idToken:e}).catch(()=>{});return t?Jl._fromGetAccountInfoResponse(this.auth,t,e):null}return Jl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new gv(Fh(NV),e,i);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||Fh(NV);const a=aT(i,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(a);if(f){let p;if(typeof f=="string"){const v=await _S(e,{idToken:f}).catch(()=>{});if(!v)break;p=await Jl._fromGetAccountInfoResponse(e,v,f)}else p=Jl._fromJSON(e,f);h!==r&&(l=p),r=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new gv(r,e,i):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new gv(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BH(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jH(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UH(e))return"Blackberry";if(HH(e))return"Webos";if(FH(e))return"Safari";if((e.includes("chrome/")||VH(e))&&!e.includes("edge/"))return"Chrome";if(zH(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function jH(n=Jr()){return/firefox\//i.test(n)}function FH(n=Jr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VH(n=Jr()){return/crios\//i.test(n)}function BH(n=Jr()){return/iemobile/i.test(n)}function zH(n=Jr()){return/android/i.test(n)}function UH(n=Jr()){return/blackberry/i.test(n)}function HH(n=Jr()){return/webos/i.test(n)}function iL(n=Jr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Due(n=Jr()){var e;return iL(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Nue(){return Gle()&&document.documentMode===10}function $H(n=Jr()){return iL(n)||zH(n)||HH(n)||UH(n)||/windows phone/i.test(n)||BH(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(n,e=[]){let t;switch(n){case"Browser":t=LV(Jr());break;case"Worker":t=`${LV(Jr())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${l0}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lue{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((a,l)=>{try{const c=e(r);a(c)}catch(c){l(c)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oue(n,e={}){return sd(n,"GET","/v2/passwordPolicy",id(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jue=6;class Fue{constructor(e){var t,i,s,r;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:jue,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsUppercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vue{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OV(this),this.idTokenSubscription=new OV(this),this.beforeStateQueue=new Lue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fh(t)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await gv.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _S(this,{idToken:e}),i=await Jl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Io(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bS(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yue()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Io(this.app))return Promise.reject(mu(this));const t=e?ds(e):null;return t&&Ht(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ht(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Io(this.app)?Promise.reject(mu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Io(this.app)?Promise.reject(mu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Oue(this),t=new Fue(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new HE("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Iue(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fh(e)||this._popupRedirectResolver;Ht(t,this,"argument-error"),this.redirectPersistenceManager=await gv.create(this,[Fh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,s);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qH(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(Io(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&mue(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function km(n){return ds(n)}class OV{constructor(e){this.auth=e,this.observer=null,this.addObserver=ece(t=>this.observer=t)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nR={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bue(n){nR=n}function GH(n){return nR.loadJS(n)}function zue(){return nR.recaptchaEnterpriseScript}function Uue(){return nR.gapiScript}function Hue(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $ue{constructor(){this.enterprise=new que}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class que{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Gue="recaptcha-enterprise",WH="NO_RECAPTCHA";class Wue{constructor(e){this.type=Gue,this.auth=km(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{Aue(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new Eue(c);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function s(r,a,l){const c=window.grecaptcha;PV(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(h=>{a(h)}).catch(()=>{a(WH)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $ue().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{i(this.auth).then(l=>{if(!t&&PV(window.grecaptcha))s(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=zue();c.length!==0&&(c+=l),GH(c).then(()=>{s(l,r,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function jV(n,e,t,i=!1,s=!1){const r=new Wue(n);let a;if(s)a=WH;else try{a=await r.verify(t)}catch{a=await r.verify(t,!0)}const l=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function SP(n,e,t,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await jV(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await jV(n,e,t,t==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kue(n,e){const t=JN(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(Dg(r,e??{}))return s;hc(s,"already-initialized")}return t.initialize({options:e})}function Yue(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Fh);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Zue(n,e,t){const i=km(n);Ht(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=KH(e),{host:a,port:l}=Xue(e),c=l===null?"":`:${l}`,h={url:`${r}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ht(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ht(Dg(h,i.config.emulator)&&Dg(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,o0(a)?(wH(`${r}//${a}${c}`),xH("Auth",!0)):Que()}function KH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Xue(n){const e=KH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:FV(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:FV(a)}}}function FV(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Que(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jh("not implemented")}_getIdTokenResponse(e){return jh("not implemented")}_linkToIdToken(e,t){return jh("not implemented")}_getReauthenticationResolver(e){return jh("not implemented")}}async function Jue(n,e){return sd(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ehe(n,e){return c0(n,"POST","/v1/accounts:signInWithPassword",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function the(n,e){return c0(n,"POST","/v1/accounts:signInWithEmailLink",id(n,e))}async function nhe(n,e){return c0(n,"POST","/v1/accounts:signInWithEmailLink",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends sL{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Iw(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Iw(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SP(e,t,"signInWithPassword",ehe);case"emailLink":return the(e,{email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return SP(e,i,"signUpPassword",Jue);case"emailLink":return nhe(e,{idToken:t,email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yv(n,e){return c0(n,"POST","/v1/accounts:signInWithIdp",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ihe="http://localhost";class Lg extends sL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lg(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=LE(t,["providerId","signInMethod"]);if(!i||!s)return null;const a=new Lg(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return yv(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,yv(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yv(e,t)}buildRequest(){const e={requestUri:ihe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$E(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function she(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rhe(n){const e=Db(Nb(n)).link,t=e?Db(Nb(e)).deep_link_id:null,i=Db(Nb(n)).deep_link_id;return(i?Db(Nb(i)).link:null)||i||t||e||n}class rL{constructor(e){var t,i,s,r,a,l;const c=Db(Nb(e)),h=(t=c.apiKey)!==null&&t!==void 0?t:null,f=(i=c.oobCode)!==null&&i!==void 0?i:null,p=she((s=c.mode)!==null&&s!==void 0?s:null);Ht(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=(r=c.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const t=rhe(e);try{return new rL(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.providerId=u0.PROVIDER_ID}static credential(e,t){return Iw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=rL.parseLink(t);return Ht(i,"argument-error"),Iw._fromEmailAndCode(e,i.code,i.tenantId)}}u0.PROVIDER_ID="password";u0.EMAIL_PASSWORD_SIGN_IN_METHOD="password";u0.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends YH{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends GE{constructor(){super("facebook.com")}static credential(e){return Lg._fromParams({providerId:tf.PROVIDER_ID,signInMethod:tf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tf.credentialFromTaggedObject(e)}static credentialFromError(e){return tf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tf.credential(e.oauthAccessToken)}catch{return null}}}tf.FACEBOOK_SIGN_IN_METHOD="facebook.com";tf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends GE{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Lg._fromParams({providerId:nf.PROVIDER_ID,signInMethod:nf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return nf.credentialFromTaggedObject(e)}static credentialFromError(e){return nf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return nf.credential(t,i)}catch{return null}}}nf.GOOGLE_SIGN_IN_METHOD="google.com";nf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends GE{constructor(){super("github.com")}static credential(e){return Lg._fromParams({providerId:sf.PROVIDER_ID,signInMethod:sf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sf.credentialFromTaggedObject(e)}static credentialFromError(e){return sf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sf.credential(e.oauthAccessToken)}catch{return null}}}sf.GITHUB_SIGN_IN_METHOD="github.com";sf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends GE{constructor(){super("twitter.com")}static credential(e,t){return Lg._fromParams({providerId:rf.PROVIDER_ID,signInMethod:rf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return rf.credentialFromTaggedObject(e)}static credentialFromError(e){return rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return rf.credential(t,i)}catch{return null}}}rf.TWITTER_SIGN_IN_METHOD="twitter.com";rf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ahe(n,e){return c0(n,"POST","/v1/accounts:signUp",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await Jl._fromIdTokenResponse(e,i,s),a=VV(i);return new cm({user:r,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=VV(i);return new cm({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function VV(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends nd{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,wS.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new wS(e,t,i,s)}}function ZH(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?wS._fromErrorAndOperation(n,r,e,i):r})}async function ohe(n,e,t=!1){const i=await O_(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return cm._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lhe(n,e,t=!1){const{auth:i}=n;if(Io(i.app))return Promise.reject(mu(i));const s="reauthenticate";try{const r=await O_(n,ZH(i,s,e,n),t);Ht(r.idToken,i,"internal-error");const a=nL(r.idToken);Ht(a,i,"internal-error");const{sub:l}=a;return Ht(n.uid===l,i,"user-mismatch"),cm._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&hc(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(n,e,t=!1){if(Io(n.app))return Promise.reject(mu(n));const i="signIn",s=await ZH(n,i,e),r=await cm._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function che(n,e){return XH(km(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uhe(n,e){return c0(n,"POST","/v1/accounts:signInWithCustomToken",id(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hhe(n,e){if(Io(n.app))return Promise.reject(mu(n));const t=km(n),i=await uhe(t,{token:e,returnSecureToken:!0}),s=await cm._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(n){const e=km(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dhe(n,e,t){if(Io(n.app))return Promise.reject(mu(n));const i=km(n),a=await SP(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ahe).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&QH(n),c}),l=await cm._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function fhe(n,e,t){return Io(n.app)?Promise.reject(mu(n)):che(ds(n),u0.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&QH(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mhe(n,e){return sd(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function phe(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=ds(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await O_(i,mhe(i.auth,r));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const l=i.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=i.displayName,l.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function ghe(n,e,t,i){return ds(n).onIdTokenChanged(e,t,i)}function yhe(n,e,t){return ds(n).beforeAuthStateChanged(e,t)}function vhe(n,e,t,i){return ds(n).onAuthStateChanged(e,t,i)}function JH(n){return ds(n).signOut()}const xS="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xS,"1"),this.storage.removeItem(xS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _he=1e3,bhe=10;class t$ extends e${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$H(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);Nue()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bhe):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},_he)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}t$.type="LOCAL";const whe=t$;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n$ extends e${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}n$.type="SESSION";const i$=n$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xhe(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new iR(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(t.origin,r)),c=await xhe(l);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}iR.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ehe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const h=aL("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(p){const v=p;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(v.data.response);break;default:clearTimeout(f),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(){return window}function Ahe(n){pu().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return typeof pu().WorkerGlobalScope<"u"&&typeof pu().importScripts=="function"}async function The(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function She(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Che(){return s$()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$="firebaseLocalStorageDb",Rhe=1,ES="firebaseLocalStorage",a$="fbase_key";class WE{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sR(n,e){return n.transaction([ES],e?"readwrite":"readonly").objectStore(ES)}function khe(){const n=indexedDB.deleteDatabase(r$);return new WE(n).toPromise()}function CP(){const n=indexedDB.open(r$,Rhe);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ES,{keyPath:a$})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ES)?e(i):(i.close(),await khe(),e(await CP()))})})}async function BV(n,e,t){const i=sR(n,!0).put({[a$]:e,value:t});return new WE(i).toPromise()}async function Mhe(n,e){const t=sR(n,!1).get(e),i=await new WE(t).toPromise();return i===void 0?null:i.value}function zV(n,e){const t=sR(n,!0).delete(e);return new WE(t).toPromise()}const Phe=800,Ihe=3;class o${constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CP(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Ihe)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s$()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=iR._getInstance(Che()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await The(),!this.activeServiceWorker)return;this.sender=new Ehe(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||She()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CP();return await BV(e,xS,"1"),await zV(e,xS),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>BV(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Mhe(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zV(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=sR(s,!1).getAll();return new WE(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Phe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o$.type="LOCAL";const Dhe=o$;new qE(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nhe(n,e){return e?Fh(e):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL extends sL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lhe(n){return XH(n.auth,new oL(n),n.bypassAuthState)}function Ohe(n){const{auth:e,user:t}=n;return Ht(t,e,"internal-error"),lhe(t,new oL(n),n.bypassAuthState)}async function jhe(n){const{auth:e,user:t}=n;return Ht(t,e,"internal-error"),ohe(t,new oL(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lhe;case"linkViaPopup":case"linkViaRedirect":return jhe;case"reauthViaPopup":case"reauthViaRedirect":return Ohe;default:hc(this.auth,"internal-error")}}resolve(e){qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fhe=new qE(2e3,1e4);class nv extends l${constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,nv.currentPopupAction&&nv.currentPopupAction.cancel(),nv.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ht(e,this.auth,"internal-error"),e}async onExecution(){qh(this.filter.length===1,"Popup operations only handle one event");const e=aL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nv.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fhe.get())};e()}}nv.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vhe="pendingRedirect",oT=new Map;class Bhe extends l${constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oT.get(this.auth._key());if(!e){try{const i=await zhe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oT.set(this.auth._key(),e)}return this.bypassAuthState||oT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zhe(n,e){const t=$he(e),i=Hhe(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Uhe(n,e){oT.set(n._key(),e)}function Hhe(n){return Fh(n._redirectPersistence)}function $he(n){return aT(Vhe,n.config.apiKey,n.name)}async function qhe(n,e,t=!1){if(Io(n.app))return Promise.reject(mu(n));const i=km(n),s=Nhe(i,e),a=await new Bhe(i,s,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ghe=10*60*1e3;class Whe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Khe(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!c$(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fu(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Ghe&&this.cachedEventUids.clear(),this.cachedEventUids.has(UV(e))}saveEventToCache(e){this.cachedEventUids.add(UV(e)),this.lastProcessedEventTime=Date.now()}}function UV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function c$({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Khe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c$(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yhe(n,e={}){return sd(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xhe=/^https?/;async function Qhe(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Yhe(n);for(const t of e)try{if(Jhe(t))return}catch{}hc(n,"unauthorized-domain")}function Jhe(n){const e=AP(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!Xhe.test(t))return!1;if(Zhe.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede=new qE(3e4,6e4);function HV(){const n=pu().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function tde(n){return new Promise((e,t)=>{var i,s,r;function a(){HV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HV(),t(fu(n,"network-request-failed"))},timeout:ede.get()})}if(!((s=(i=pu().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=pu().gapi)===null||r===void 0)&&r.load)a();else{const l=Hue("iframefcb");return pu()[l]=()=>{gapi.load?a():t(fu(n,"network-request-failed"))},GH(`${Uue()}?onload=${l}`).catch(c=>t(c))}}).catch(e=>{throw lT=null,e})}let lT=null;function nde(n){return lT=lT||tde(n),lT}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=new qE(5e3,15e3),sde="__/auth/iframe",rde="emulator/auth/iframe",ade={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ode=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lde(n){const e=n.config;Ht(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tL(e,rde):`https://${n.config.authDomain}/${sde}`,i={apiKey:e.apiKey,appName:n.name,v:l0},s=ode.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${$E(i).slice(1)}`}async function cde(n){const e=await nde(n),t=pu().gapi;return Ht(t,n,"internal-error"),e.open({where:document.body,url:lde(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ade,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=fu(n,"network-request-failed"),l=pu().setTimeout(()=>{r(a)},ide.get());function c(){pu().clearTimeout(l),s(i)}i.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ude={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hde=500,dde=600,fde="_blank",mde="http://localhost";class $V{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pde(n,e,t,i=hde,s=dde){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const c=Object.assign(Object.assign({},ude),{width:i.toString(),height:s.toString(),top:r,left:a}),h=Jr().toLowerCase();t&&(l=VH(h)?fde:t),jH(h)&&(e=e||mde,c.scrollbars="yes");const f=Object.entries(c).reduce((v,[w,E])=>`${v}${w}=${E},`,"");if(Due(h)&&l!=="_self")return gde(e||"",l),new $V(null);const p=window.open(e||"",l,f);Ht(p,n,"popup-blocked");try{p.focus()}catch{}return new $V(p)}function gde(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde="__/auth/handler",vde="emulator/auth/handler",_de=encodeURIComponent("fac");async function qV(n,e,t,i,s,r){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:l0,eventId:s};if(e instanceof YH){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Jle(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof GE){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}n.tenantId&&(a.tid=n.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await n._getAppCheckToken(),h=c?`#${_de}=${encodeURIComponent(c)}`:"";return`${bde(n)}?${$E(l).slice(1)}${h}`}function bde({config:n}){return n.emulator?tL(n,vde):`https://${n.authDomain}/${yde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="webStorageSupport";class wde{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i$,this._completeRedirectFn=qhe,this._overrideRedirectResult=Uhe}async _openPopup(e,t,i,s){var r;qh((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const a=await qV(e,t,i,AP(),s);return pde(e,a,aL())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await qV(e,t,i,AP(),s);return Ahe(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(qh(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await cde(e),i=new Whe(e);return t.register("authEvent",s=>(Ht(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uM,{type:uM},s=>{var r;const a=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[uM];a!==void 0&&t(!!a),hc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qhe(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $H()||FH()||iL()}}const xde=wde;var GV="@firebase/auth",WV="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ede{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ade(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tde(n){L_(new Ng("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;Ht(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qH(n)},h=new Vue(i,s,r,c);return Yue(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),L_(new Ng("auth-internal",e=>{const t=km(e.getProvider("auth").getImmediate());return(i=>new Ede(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tm(GV,WV,Ade(n)),tm(GV,WV,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sde=5*60,Cde=bH("authIdTokenMaxAge")||Sde;let KV=null;const Rde=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Cde)return;const s=t==null?void 0:t.token;KV!==s&&(KV=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function kde(n=SH()){const e=JN(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Kue(n,{popupRedirectResolver:xde,persistence:[Dhe,whe,i$]}),i=bH("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=Rde(r.toString());yhe(t,a,()=>a(t.currentUser)),ghe(t,l=>a(l))}}const s=vH("auth");return s&&Zue(t,`http://${s}`),t}function Mde(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Bue({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=fu("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",Mde().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tde("Browser");var YV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nm,u$;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(B,j){function q(){}q.prototype=j.prototype,B.D=j.prototype,B.prototype=new q,B.prototype.constructor=B,B.C=function(Y,Z,ne){for(var Q=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)Q[_e-2]=arguments[_e];return j.prototype[Z].apply(Y,Q)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(B,j,q){q||(q=0);var Y=Array(16);if(typeof j=="string")for(var Z=0;16>Z;++Z)Y[Z]=j.charCodeAt(q++)|j.charCodeAt(q++)<<8|j.charCodeAt(q++)<<16|j.charCodeAt(q++)<<24;else for(Z=0;16>Z;++Z)Y[Z]=j[q++]|j[q++]<<8|j[q++]<<16|j[q++]<<24;j=B.g[0],q=B.g[1],Z=B.g[2];var ne=B.g[3],Q=j+(ne^q&(Z^ne))+Y[0]+3614090360&4294967295;j=q+(Q<<7&4294967295|Q>>>25),Q=ne+(Z^j&(q^Z))+Y[1]+3905402710&4294967295,ne=j+(Q<<12&4294967295|Q>>>20),Q=Z+(q^ne&(j^q))+Y[2]+606105819&4294967295,Z=ne+(Q<<17&4294967295|Q>>>15),Q=q+(j^Z&(ne^j))+Y[3]+3250441966&4294967295,q=Z+(Q<<22&4294967295|Q>>>10),Q=j+(ne^q&(Z^ne))+Y[4]+4118548399&4294967295,j=q+(Q<<7&4294967295|Q>>>25),Q=ne+(Z^j&(q^Z))+Y[5]+1200080426&4294967295,ne=j+(Q<<12&4294967295|Q>>>20),Q=Z+(q^ne&(j^q))+Y[6]+2821735955&4294967295,Z=ne+(Q<<17&4294967295|Q>>>15),Q=q+(j^Z&(ne^j))+Y[7]+4249261313&4294967295,q=Z+(Q<<22&4294967295|Q>>>10),Q=j+(ne^q&(Z^ne))+Y[8]+1770035416&4294967295,j=q+(Q<<7&4294967295|Q>>>25),Q=ne+(Z^j&(q^Z))+Y[9]+2336552879&4294967295,ne=j+(Q<<12&4294967295|Q>>>20),Q=Z+(q^ne&(j^q))+Y[10]+4294925233&4294967295,Z=ne+(Q<<17&4294967295|Q>>>15),Q=q+(j^Z&(ne^j))+Y[11]+2304563134&4294967295,q=Z+(Q<<22&4294967295|Q>>>10),Q=j+(ne^q&(Z^ne))+Y[12]+1804603682&4294967295,j=q+(Q<<7&4294967295|Q>>>25),Q=ne+(Z^j&(q^Z))+Y[13]+4254626195&4294967295,ne=j+(Q<<12&4294967295|Q>>>20),Q=Z+(q^ne&(j^q))+Y[14]+2792965006&4294967295,Z=ne+(Q<<17&4294967295|Q>>>15),Q=q+(j^Z&(ne^j))+Y[15]+1236535329&4294967295,q=Z+(Q<<22&4294967295|Q>>>10),Q=j+(Z^ne&(q^Z))+Y[1]+4129170786&4294967295,j=q+(Q<<5&4294967295|Q>>>27),Q=ne+(q^Z&(j^q))+Y[6]+3225465664&4294967295,ne=j+(Q<<9&4294967295|Q>>>23),Q=Z+(j^q&(ne^j))+Y[11]+643717713&4294967295,Z=ne+(Q<<14&4294967295|Q>>>18),Q=q+(ne^j&(Z^ne))+Y[0]+3921069994&4294967295,q=Z+(Q<<20&4294967295|Q>>>12),Q=j+(Z^ne&(q^Z))+Y[5]+3593408605&4294967295,j=q+(Q<<5&4294967295|Q>>>27),Q=ne+(q^Z&(j^q))+Y[10]+38016083&4294967295,ne=j+(Q<<9&4294967295|Q>>>23),Q=Z+(j^q&(ne^j))+Y[15]+3634488961&4294967295,Z=ne+(Q<<14&4294967295|Q>>>18),Q=q+(ne^j&(Z^ne))+Y[4]+3889429448&4294967295,q=Z+(Q<<20&4294967295|Q>>>12),Q=j+(Z^ne&(q^Z))+Y[9]+568446438&4294967295,j=q+(Q<<5&4294967295|Q>>>27),Q=ne+(q^Z&(j^q))+Y[14]+3275163606&4294967295,ne=j+(Q<<9&4294967295|Q>>>23),Q=Z+(j^q&(ne^j))+Y[3]+4107603335&4294967295,Z=ne+(Q<<14&4294967295|Q>>>18),Q=q+(ne^j&(Z^ne))+Y[8]+1163531501&4294967295,q=Z+(Q<<20&4294967295|Q>>>12),Q=j+(Z^ne&(q^Z))+Y[13]+2850285829&4294967295,j=q+(Q<<5&4294967295|Q>>>27),Q=ne+(q^Z&(j^q))+Y[2]+4243563512&4294967295,ne=j+(Q<<9&4294967295|Q>>>23),Q=Z+(j^q&(ne^j))+Y[7]+1735328473&4294967295,Z=ne+(Q<<14&4294967295|Q>>>18),Q=q+(ne^j&(Z^ne))+Y[12]+2368359562&4294967295,q=Z+(Q<<20&4294967295|Q>>>12),Q=j+(q^Z^ne)+Y[5]+4294588738&4294967295,j=q+(Q<<4&4294967295|Q>>>28),Q=ne+(j^q^Z)+Y[8]+2272392833&4294967295,ne=j+(Q<<11&4294967295|Q>>>21),Q=Z+(ne^j^q)+Y[11]+1839030562&4294967295,Z=ne+(Q<<16&4294967295|Q>>>16),Q=q+(Z^ne^j)+Y[14]+4259657740&4294967295,q=Z+(Q<<23&4294967295|Q>>>9),Q=j+(q^Z^ne)+Y[1]+2763975236&4294967295,j=q+(Q<<4&4294967295|Q>>>28),Q=ne+(j^q^Z)+Y[4]+1272893353&4294967295,ne=j+(Q<<11&4294967295|Q>>>21),Q=Z+(ne^j^q)+Y[7]+4139469664&4294967295,Z=ne+(Q<<16&4294967295|Q>>>16),Q=q+(Z^ne^j)+Y[10]+3200236656&4294967295,q=Z+(Q<<23&4294967295|Q>>>9),Q=j+(q^Z^ne)+Y[13]+681279174&4294967295,j=q+(Q<<4&4294967295|Q>>>28),Q=ne+(j^q^Z)+Y[0]+3936430074&4294967295,ne=j+(Q<<11&4294967295|Q>>>21),Q=Z+(ne^j^q)+Y[3]+3572445317&4294967295,Z=ne+(Q<<16&4294967295|Q>>>16),Q=q+(Z^ne^j)+Y[6]+76029189&4294967295,q=Z+(Q<<23&4294967295|Q>>>9),Q=j+(q^Z^ne)+Y[9]+3654602809&4294967295,j=q+(Q<<4&4294967295|Q>>>28),Q=ne+(j^q^Z)+Y[12]+3873151461&4294967295,ne=j+(Q<<11&4294967295|Q>>>21),Q=Z+(ne^j^q)+Y[15]+530742520&4294967295,Z=ne+(Q<<16&4294967295|Q>>>16),Q=q+(Z^ne^j)+Y[2]+3299628645&4294967295,q=Z+(Q<<23&4294967295|Q>>>9),Q=j+(Z^(q|~ne))+Y[0]+4096336452&4294967295,j=q+(Q<<6&4294967295|Q>>>26),Q=ne+(q^(j|~Z))+Y[7]+1126891415&4294967295,ne=j+(Q<<10&4294967295|Q>>>22),Q=Z+(j^(ne|~q))+Y[14]+2878612391&4294967295,Z=ne+(Q<<15&4294967295|Q>>>17),Q=q+(ne^(Z|~j))+Y[5]+4237533241&4294967295,q=Z+(Q<<21&4294967295|Q>>>11),Q=j+(Z^(q|~ne))+Y[12]+1700485571&4294967295,j=q+(Q<<6&4294967295|Q>>>26),Q=ne+(q^(j|~Z))+Y[3]+2399980690&4294967295,ne=j+(Q<<10&4294967295|Q>>>22),Q=Z+(j^(ne|~q))+Y[10]+4293915773&4294967295,Z=ne+(Q<<15&4294967295|Q>>>17),Q=q+(ne^(Z|~j))+Y[1]+2240044497&4294967295,q=Z+(Q<<21&4294967295|Q>>>11),Q=j+(Z^(q|~ne))+Y[8]+1873313359&4294967295,j=q+(Q<<6&4294967295|Q>>>26),Q=ne+(q^(j|~Z))+Y[15]+4264355552&4294967295,ne=j+(Q<<10&4294967295|Q>>>22),Q=Z+(j^(ne|~q))+Y[6]+2734768916&4294967295,Z=ne+(Q<<15&4294967295|Q>>>17),Q=q+(ne^(Z|~j))+Y[13]+1309151649&4294967295,q=Z+(Q<<21&4294967295|Q>>>11),Q=j+(Z^(q|~ne))+Y[4]+4149444226&4294967295,j=q+(Q<<6&4294967295|Q>>>26),Q=ne+(q^(j|~Z))+Y[11]+3174756917&4294967295,ne=j+(Q<<10&4294967295|Q>>>22),Q=Z+(j^(ne|~q))+Y[2]+718787259&4294967295,Z=ne+(Q<<15&4294967295|Q>>>17),Q=q+(ne^(Z|~j))+Y[9]+3951481745&4294967295,B.g[0]=B.g[0]+j&4294967295,B.g[1]=B.g[1]+(Z+(Q<<21&4294967295|Q>>>11))&4294967295,B.g[2]=B.g[2]+Z&4294967295,B.g[3]=B.g[3]+ne&4294967295}i.prototype.u=function(B,j){j===void 0&&(j=B.length);for(var q=j-this.blockSize,Y=this.B,Z=this.h,ne=0;ne<j;){if(Z==0)for(;ne<=q;)s(this,B,ne),ne+=this.blockSize;if(typeof B=="string"){for(;ne<j;)if(Y[Z++]=B.charCodeAt(ne++),Z==this.blockSize){s(this,Y),Z=0;break}}else for(;ne<j;)if(Y[Z++]=B[ne++],Z==this.blockSize){s(this,Y),Z=0;break}}this.h=Z,this.o+=j},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var j=1;j<B.length-8;++j)B[j]=0;var q=8*this.o;for(j=B.length-8;j<B.length;++j)B[j]=q&255,q/=256;for(this.u(B),B=Array(16),j=q=0;4>j;++j)for(var Y=0;32>Y;Y+=8)B[q++]=this.g[j]>>>Y&255;return B};function r(B,j){var q=l;return Object.prototype.hasOwnProperty.call(q,B)?q[B]:q[B]=j(B)}function a(B,j){this.h=j;for(var q=[],Y=!0,Z=B.length-1;0<=Z;Z--){var ne=B[Z]|0;Y&&ne==j||(q[Z]=ne,Y=!1)}this.g=q}var l={};function c(B){return-128<=B&&128>B?r(B,function(j){return new a([j|0],0>j?-1:0)}):new a([B|0],0>B?-1:0)}function h(B){if(isNaN(B)||!isFinite(B))return p;if(0>B)return C(h(-B));for(var j=[],q=1,Y=0;B>=q;Y++)j[Y]=B/q|0,q*=4294967296;return new a(j,0)}function f(B,j){if(B.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(B.charAt(0)=="-")return C(f(B.substring(1),j));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var q=h(Math.pow(j,8)),Y=p,Z=0;Z<B.length;Z+=8){var ne=Math.min(8,B.length-Z),Q=parseInt(B.substring(Z,Z+ne),j);8>ne?(ne=h(Math.pow(j,ne)),Y=Y.j(ne).add(h(Q))):(Y=Y.j(q),Y=Y.add(h(Q)))}return Y}var p=c(0),v=c(1),w=c(16777216);n=a.prototype,n.m=function(){if(S(this))return-C(this).m();for(var B=0,j=1,q=0;q<this.g.length;q++){var Y=this.i(q);B+=(0<=Y?Y:4294967296+Y)*j,j*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(E(this))return"0";if(S(this))return"-"+C(this).toString(B);for(var j=h(Math.pow(B,6)),q=this,Y="";;){var Z=z(q,j).g;q=k(q,Z.j(j));var ne=((0<q.g.length?q.g[0]:q.h)>>>0).toString(B);if(q=Z,E(q))return ne+Y;for(;6>ne.length;)ne="0"+ne;Y=ne+Y}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function E(B){if(B.h!=0)return!1;for(var j=0;j<B.g.length;j++)if(B.g[j]!=0)return!1;return!0}function S(B){return B.h==-1}n.l=function(B){return B=k(this,B),S(B)?-1:E(B)?0:1};function C(B){for(var j=B.g.length,q=[],Y=0;Y<j;Y++)q[Y]=~B.g[Y];return new a(q,~B.h).add(v)}n.abs=function(){return S(this)?C(this):this},n.add=function(B){for(var j=Math.max(this.g.length,B.g.length),q=[],Y=0,Z=0;Z<=j;Z++){var ne=Y+(this.i(Z)&65535)+(B.i(Z)&65535),Q=(ne>>>16)+(this.i(Z)>>>16)+(B.i(Z)>>>16);Y=Q>>>16,ne&=65535,Q&=65535,q[Z]=Q<<16|ne}return new a(q,q[q.length-1]&-2147483648?-1:0)};function k(B,j){return B.add(C(j))}n.j=function(B){if(E(this)||E(B))return p;if(S(this))return S(B)?C(this).j(C(B)):C(C(this).j(B));if(S(B))return C(this.j(C(B)));if(0>this.l(w)&&0>B.l(w))return h(this.m()*B.m());for(var j=this.g.length+B.g.length,q=[],Y=0;Y<2*j;Y++)q[Y]=0;for(Y=0;Y<this.g.length;Y++)for(var Z=0;Z<B.g.length;Z++){var ne=this.i(Y)>>>16,Q=this.i(Y)&65535,_e=B.i(Z)>>>16,Le=B.i(Z)&65535;q[2*Y+2*Z]+=Q*Le,N(q,2*Y+2*Z),q[2*Y+2*Z+1]+=ne*Le,N(q,2*Y+2*Z+1),q[2*Y+2*Z+1]+=Q*_e,N(q,2*Y+2*Z+1),q[2*Y+2*Z+2]+=ne*_e,N(q,2*Y+2*Z+2)}for(Y=0;Y<j;Y++)q[Y]=q[2*Y+1]<<16|q[2*Y];for(Y=j;Y<2*j;Y++)q[Y]=0;return new a(q,0)};function N(B,j){for(;(B[j]&65535)!=B[j];)B[j+1]+=B[j]>>>16,B[j]&=65535,j++}function I(B,j){this.g=B,this.h=j}function z(B,j){if(E(j))throw Error("division by zero");if(E(B))return new I(p,p);if(S(B))return j=z(C(B),j),new I(C(j.g),C(j.h));if(S(j))return j=z(B,C(j)),new I(C(j.g),j.h);if(30<B.g.length){if(S(B)||S(j))throw Error("slowDivide_ only works with positive integers.");for(var q=v,Y=j;0>=Y.l(B);)q=V(q),Y=V(Y);var Z=H(q,1),ne=H(Y,1);for(Y=H(Y,2),q=H(q,2);!E(Y);){var Q=ne.add(Y);0>=Q.l(B)&&(Z=Z.add(q),ne=Q),Y=H(Y,1),q=H(q,1)}return j=k(B,Z.j(j)),new I(Z,j)}for(Z=p;0<=B.l(j);){for(q=Math.max(1,Math.floor(B.m()/j.m())),Y=Math.ceil(Math.log(q)/Math.LN2),Y=48>=Y?1:Math.pow(2,Y-48),ne=h(q),Q=ne.j(j);S(Q)||0<Q.l(B);)q-=Y,ne=h(q),Q=ne.j(j);E(ne)&&(ne=v),Z=Z.add(ne),B=k(B,Q)}return new I(Z,B)}n.A=function(B){return z(this,B).h},n.and=function(B){for(var j=Math.max(this.g.length,B.g.length),q=[],Y=0;Y<j;Y++)q[Y]=this.i(Y)&B.i(Y);return new a(q,this.h&B.h)},n.or=function(B){for(var j=Math.max(this.g.length,B.g.length),q=[],Y=0;Y<j;Y++)q[Y]=this.i(Y)|B.i(Y);return new a(q,this.h|B.h)},n.xor=function(B){for(var j=Math.max(this.g.length,B.g.length),q=[],Y=0;Y<j;Y++)q[Y]=this.i(Y)^B.i(Y);return new a(q,this.h^B.h)};function V(B){for(var j=B.g.length+1,q=[],Y=0;Y<j;Y++)q[Y]=B.i(Y)<<1|B.i(Y-1)>>>31;return new a(q,B.h)}function H(B,j){var q=j>>5;j%=32;for(var Y=B.g.length-q,Z=[],ne=0;ne<Y;ne++)Z[ne]=0<j?B.i(ne+q)>>>j|B.i(ne+q+1)<<32-j:B.i(ne+q);return new a(Z,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,u$=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=f,nm=a}).apply(typeof YV<"u"?YV:typeof self<"u"?self:typeof window<"u"?window:{});var I1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h$,Lb,d$,cT,RP,f$,m$,p$;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,D,U){return x==Array.prototype||x==Object.prototype||(x[D]=U.value),x};function t(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof I1=="object"&&I1];for(var D=0;D<x.length;++D){var U=x[D];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var i=t(this);function s(x,D){if(D)e:{var U=i;x=x.split(".");for(var te=0;te<x.length-1;te++){var ye=x[te];if(!(ye in U))break e;U=U[ye]}x=x[x.length-1],te=U[x],D=D(te),D!=te&&D!=null&&e(U,x,{configurable:!0,writable:!0,value:D})}}function r(x,D){x instanceof String&&(x+="");var U=0,te=!1,ye={next:function(){if(!te&&U<x.length){var Me=U++;return{value:D(Me,x[Me]),done:!1}}return te=!0,{done:!0,value:void 0}}};return ye[Symbol.iterator]=function(){return ye},ye}s("Array.prototype.values",function(x){return x||function(){return r(this,function(D,U){return U})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(x){var D=typeof x;return D=D!="object"?D:x?Array.isArray(x)?"array":D:"null",D=="array"||D=="object"&&typeof x.length=="number"}function h(x){var D=typeof x;return D=="object"&&x!=null||D=="function"}function f(x,D,U){return x.call.apply(x.bind,arguments)}function p(x,D,U){if(!x)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var ye=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ye,te),x.apply(D,ye)}}return function(){return x.apply(D,arguments)}}function v(x,D,U){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,v.apply(null,arguments)}function w(x,D){var U=Array.prototype.slice.call(arguments,1);return function(){var te=U.slice();return te.push.apply(te,arguments),x.apply(this,te)}}function E(x,D){function U(){}U.prototype=D.prototype,x.aa=D.prototype,x.prototype=new U,x.prototype.constructor=x,x.Qb=function(te,ye,Me){for(var Qe=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)Qe[Sn-2]=arguments[Sn];return D.prototype[ye].apply(te,Qe)}}function S(x){const D=x.length;if(0<D){const U=Array(D);for(let te=0;te<D;te++)U[te]=x[te];return U}return[]}function C(x,D){for(let U=1;U<arguments.length;U++){const te=arguments[U];if(c(te)){const ye=x.length||0,Me=te.length||0;x.length=ye+Me;for(let Qe=0;Qe<Me;Qe++)x[ye+Qe]=te[Qe]}else x.push(te)}}class k{constructor(D,U){this.i=D,this.j=U,this.h=0,this.g=null}get(){let D;return 0<this.h?(this.h--,D=this.g,this.g=D.next,D.next=null):D=this.i(),D}}function N(x){return/^[\s\xa0]*$/.test(x)}function I(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function z(x){return z[" "](x),x}z[" "]=function(){};var V=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function H(x,D,U){for(const te in x)D.call(U,x[te],te,x)}function B(x,D){for(const U in x)D.call(void 0,x[U],U,x)}function j(x){const D={};for(const U in x)D[U]=x[U];return D}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(x,D){let U,te;for(let ye=1;ye<arguments.length;ye++){te=arguments[ye];for(U in te)x[U]=te[U];for(let Me=0;Me<q.length;Me++)U=q[Me],Object.prototype.hasOwnProperty.call(te,U)&&(x[U]=te[U])}}function Z(x){var D=1;x=x.split(":");const U=[];for(;0<D&&x.length;)U.push(x.shift()),D--;return x.length&&U.push(x.join(":")),U}function ne(x){l.setTimeout(()=>{throw x},0)}function Q(){var x=Te;let D=null;return x.g&&(D=x.g,x.g=x.g.next,x.g||(x.h=null),D.next=null),D}class _e{constructor(){this.h=this.g=null}add(D,U){const te=Le.get();te.set(D,U),this.h?this.h.next=te:this.g=te,this.h=te}}var Le=new k(()=>new ee,x=>x.reset());class ee{constructor(){this.next=this.g=this.h=null}set(D,U){this.h=D,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ie=!1,Te=new _e,J=()=>{const x=l.Promise.resolve(void 0);se=()=>{x.then(ce)}};var ce=()=>{for(var x;x=Q();){try{x.h.call(x.g)}catch(U){ne(U)}var D=Le;D.j(x),100>D.h&&(D.h++,x.next=D.g,D.g=x)}ie=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(x,D){this.type=x,this.g=this.target=D,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,D=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const U=()=>{};l.addEventListener("test",U,D),l.removeEventListener("test",U,D)}catch{}return x}();function $e(x,D){if(ue.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var U=this.type=x.type,te=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=D,D=x.relatedTarget){if(V){e:{try{z(D.nodeName);var ye=!0;break e}catch{}ye=!1}ye||(D=null)}}else U=="mouseover"?D=x.fromElement:U=="mouseout"&&(D=x.toElement);this.relatedTarget=D,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:Pe[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&$e.aa.h.call(this)}}E($e,ue);var Pe={2:"touch",3:"pen",4:"mouse"};$e.prototype.h=function(){$e.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var We="closure_listenable_"+(1e6*Math.random()|0),je=0;function nt(x,D,U,te,ye){this.listener=x,this.proxy=null,this.src=D,this.type=U,this.capture=!!te,this.ha=ye,this.key=++je,this.da=this.fa=!1}function et(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function Ct(x){this.src=x,this.g={},this.h=0}Ct.prototype.add=function(x,D,U,te,ye){var Me=x.toString();x=this.g[Me],x||(x=this.g[Me]=[],this.h++);var Qe=cn(x,D,te,ye);return-1<Qe?(D=x[Qe],U||(D.fa=!1)):(D=new nt(D,this.src,Me,!!te,ye),D.fa=U,x.push(D)),D};function Dt(x,D){var U=D.type;if(U in x.g){var te=x.g[U],ye=Array.prototype.indexOf.call(te,D,void 0),Me;(Me=0<=ye)&&Array.prototype.splice.call(te,ye,1),Me&&(et(D),x.g[U].length==0&&(delete x.g[U],x.h--))}}function cn(x,D,U,te){for(var ye=0;ye<x.length;++ye){var Me=x[ye];if(!Me.da&&Me.listener==D&&Me.capture==!!U&&Me.ha==te)return ye}return-1}var On="closure_lm_"+(1e6*Math.random()|0),Zi={};function Xi(x,D,U,te,ye){if(Array.isArray(D)){for(var Me=0;Me<D.length;Me++)Xi(x,D[Me],U,te,ye);return null}return U=Ae(U),x&&x[We]?x.K(D,U,h(te)?!!te.capture:!1,ye):jn(x,D,U,!1,te,ye)}function jn(x,D,U,te,ye,Me){if(!D)throw Error("Invalid event type");var Qe=h(ye)?!!ye.capture:!!ye,Sn=Ke(x);if(Sn||(x[On]=Sn=new Ct(x)),U=Sn.add(D,U,te,Qe,Me),U.proxy)return U;if(te=Qi(),U.proxy=te,te.src=x,te.listener=U,x.addEventListener)De||(ye=Qe),ye===void 0&&(ye=!1),x.addEventListener(D.toString(),te,ye);else if(x.attachEvent)x.attachEvent(be(D.toString()),te);else if(x.addListener&&x.removeListener)x.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Qi(){function x(U){return D.call(x.src,x.listener,U)}const D=Ce;return x}function Tt(x,D,U,te,ye){if(Array.isArray(D))for(var Me=0;Me<D.length;Me++)Tt(x,D[Me],U,te,ye);else te=h(te)?!!te.capture:!!te,U=Ae(U),x&&x[We]?(x=x.i,D=String(D).toString(),D in x.g&&(Me=x.g[D],U=cn(Me,U,te,ye),-1<U&&(et(Me[U]),Array.prototype.splice.call(Me,U,1),Me.length==0&&(delete x.g[D],x.h--)))):x&&(x=Ke(x))&&(D=x.g[D.toString()],x=-1,D&&(x=cn(D,U,te,ye)),(U=-1<x?D[x]:null)&&oe(U))}function oe(x){if(typeof x!="number"&&x&&!x.da){var D=x.src;if(D&&D[We])Dt(D.i,x);else{var U=x.type,te=x.proxy;D.removeEventListener?D.removeEventListener(U,te,x.capture):D.detachEvent?D.detachEvent(be(U),te):D.addListener&&D.removeListener&&D.removeListener(te),(U=Ke(D))?(Dt(U,x),U.h==0&&(U.src=null,D[On]=null)):et(x)}}}function be(x){return x in Zi?Zi[x]:Zi[x]="on"+x}function Ce(x,D){if(x.da)x=!0;else{D=new $e(D,this);var U=x.listener,te=x.ha||x.src;x.fa&&oe(x),x=U.call(te,D)}return x}function Ke(x){return x=x[On],x instanceof Ct?x:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(x){return typeof x=="function"?x:(x[fe]||(x[fe]=function(D){return x.handleEvent(D)}),x[fe])}function Oe(){ge.call(this),this.i=new Ct(this),this.M=this,this.F=null}E(Oe,ge),Oe.prototype[We]=!0,Oe.prototype.removeEventListener=function(x,D,U,te){Tt(this,x,D,U,te)};function Xe(x,D){var U,te=x.F;if(te)for(U=[];te;te=te.F)U.push(te);if(x=x.M,te=D.type||D,typeof D=="string")D=new ue(D,x);else if(D instanceof ue)D.target=D.target||x;else{var ye=D;D=new ue(te,x),Y(D,ye)}if(ye=!0,U)for(var Me=U.length-1;0<=Me;Me--){var Qe=D.g=U[Me];ye=Rt(Qe,te,!0,D)&&ye}if(Qe=D.g=x,ye=Rt(Qe,te,!0,D)&&ye,ye=Rt(Qe,te,!1,D)&&ye,U)for(Me=0;Me<U.length;Me++)Qe=D.g=U[Me],ye=Rt(Qe,te,!1,D)&&ye}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var x=this.i,D;for(D in x.g){for(var U=x.g[D],te=0;te<U.length;te++)et(U[te]);delete x.g[D],x.h--}}this.F=null},Oe.prototype.K=function(x,D,U,te){return this.i.add(String(x),D,!1,U,te)},Oe.prototype.L=function(x,D,U,te){return this.i.add(String(x),D,!0,U,te)};function Rt(x,D,U,te){if(D=x.i.g[String(D)],!D)return!0;D=D.concat();for(var ye=!0,Me=0;Me<D.length;++Me){var Qe=D[Me];if(Qe&&!Qe.da&&Qe.capture==U){var Sn=Qe.listener,$i=Qe.ha||Qe.src;Qe.fa&&Dt(x.i,Qe),ye=Sn.call($i,te)!==!1&&ye}}return ye&&!te.defaultPrevented}function sn(x,D,U){if(typeof x=="function")U&&(x=v(x,U));else if(x&&typeof x.handleEvent=="function")x=v(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(D)?-1:l.setTimeout(x,D||0)}function Ji(x){x.g=sn(()=>{x.g=null,x.i&&(x.i=!1,Ji(x))},x.l);const D=x.h;x.h=null,x.m.apply(null,D)}class mi extends ge{constructor(D,U){super(),this.m=D,this.l=U,this.h=null,this.i=!1,this.g=null}j(D){this.h=arguments,this.g?this.i=!0:Ji(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(x){ge.call(this),this.h=x,this.g={}}E(es,ge);var ks=[];function ms(x){H(x.g,function(D,U){this.g.hasOwnProperty(U)&&oe(D)},x),x.g={}}es.prototype.N=function(){es.aa.N.call(this),ms(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=l.JSON.stringify,lr=l.JSON.parse,Ui=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function cr(){}cr.prototype.h=null;function ps(x){return x.h||(x.h=x.i())}function jo(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){ue.call(this,"d")}E(hr,ue);function qa(){ue.call(this,"c")}E(qa,ue);var kt={},Yn=null;function ti(){return Yn=Yn||new Oe}kt.La="serverreachability";function Ti(x){ue.call(this,kt.La,x)}E(Ti,ue);function le(x){const D=ti();Xe(D,new Ti(D))}kt.STAT_EVENT="statevent";function de(x,D){ue.call(this,kt.STAT_EVENT,x),this.stat=D}E(de,ue);function me(x){const D=ti();Xe(D,new de(D,x))}kt.Ma="timingevent";function Ve(x,D){ue.call(this,kt.Ma,x),this.size=D}E(Ve,ue);function qe(x,D){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},D)}function Je(){this.g=!0}Je.prototype.xa=function(){this.g=!1};function ht(x,D,U,te,ye,Me){x.info(function(){if(x.g)if(Me)for(var Qe="",Sn=Me.split("&"),$i=0;$i<Sn.length;$i++){var Cn=Sn[$i].split("=");if(1<Cn.length){var Xn=Cn[0];Cn=Cn[1];var vi=Xn.split("_");Qe=2<=vi.length&&vi[1]=="type"?Qe+(Xn+"="+Cn+"&"):Qe+(Xn+"=redacted&")}}else Qe=null;else Qe=Me;return"XMLHTTP REQ ("+te+") [attempt "+ye+"]: "+D+`
`+U+`
`+Qe})}function Ne(x,D,U,te,ye,Me,Qe){x.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+ye+"]: "+D+`
`+U+`
`+Me+" "+Qe})}function ft(x,D,U,te){x.info(function(){return"XMLHTTP TEXT ("+D+"): "+Nt(x,U)+(te?" "+te:"")})}function Et(x,D){x.info(function(){return"TIMEOUT: "+D})}Je.prototype.info=function(){};function Nt(x,D){if(!x.g)return D;if(!D)return null;try{var U=JSON.parse(D);if(U){for(x=0;x<U.length;x++)if(Array.isArray(U[x])){var te=U[x];if(!(2>te.length)){var ye=te[1];if(Array.isArray(ye)&&!(1>ye.length)){var Me=ye[0];if(Me!="noop"&&Me!="stop"&&Me!="close")for(var Qe=1;Qe<ye.length;Qe++)ye[Qe]=""}}}}return ts(U)}catch{return D}}var pt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},un;function wn(){}E(wn,cr),wn.prototype.g=function(){return new XMLHttpRequest},wn.prototype.i=function(){return{}},un=new wn;function Mn(x,D,U,te){this.j=x,this.i=D,this.l=U,this.R=te||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}var hn={},Aa={};function ns(x,D,U){x.L=1,x.v=ia(yi(D)),x.m=U,x.P=!0,$s(x,null)}function $s(x,D){x.F=Date.now(),na(x),x.A=yi(x.v);var U=x.A,te=x.R;Array.isArray(te)||(te=[String(te)]),Lm(U.i,"t",te),x.C=0,U=x.j.J,x.h=new xn,x.g=ry(x.j,U?D:null,!x.m),0<x.O&&(x.M=new mi(v(x.Y,x,x.g),x.O)),D=x.U,U=x.g,te=x.ca;var ye="readystatechange";Array.isArray(ye)||(ye&&(ks[0]=ye.toString()),ye=ks);for(var Me=0;Me<ye.length;Me++){var Qe=Xi(U,ye[Me],te||D.handleEvent,!1,D.h||D);if(!Qe)break;D.g[Qe.key]=Qe}D=x.H?j(x.H):{},x.m?(x.u||(x.u="POST"),D["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,D)):(x.u="GET",x.g.ea(x.A,x.u,null,D)),le(),ht(x.i,x.u,x.A,x.l,x.R,x.m)}Mn.prototype.ca=function(x){x=x.target;const D=this.M;D&&Ks(x)==3?D.j():this.Y(x)},Mn.prototype.Y=function(x){try{if(x==this.g)e:{const vi=Ks(this.g);var D=this.g.Ba();const Ml=this.g.Z();if(!(3>vi)&&(vi!=3||this.g&&(this.h.h||this.g.oa()||Om(this.g)))){this.J||vi!=4||D==7||(D==8||0>=Ml?le(3):le(2)),qs(this);var U=this.g.Z();this.X=U;t:if(Ms(this)){var te=Om(this.g);x="";var ye=te.length,Me=Ks(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),dr(this);var Qe="";break t}this.h.i=new l.TextDecoder}for(D=0;D<ye;D++)this.h.h=!0,x+=this.h.i.decode(te[D],{stream:!(Me&&D==ye-1)});te.length=0,this.h.g+=x,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=U==200,Ne(this.i,this.u,this.A,this.l,this.R,vi,U),this.o){if(this.T&&!this.K){t:{if(this.g){var Sn,$i=this.g;if((Sn=$i.g?$i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Sn)){var Cn=Sn;break t}}Cn=null}if(U=Cn)ft(this.i,this.l,U,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,U);else{this.o=!1,this.s=3,me(12),qt(this),dr(this);break e}}if(this.P){U=!0;let pi;for(;!this.J&&this.C<Qe.length;)if(pi=ta(this,Qe),pi==Aa){vi==4&&(this.s=4,me(14),U=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(pi==hn){this.s=4,me(15),ft(this.i,this.l,Qe,"[Invalid Chunk]"),U=!1;break}else ft(this.i,this.l,pi,null),Si(this,pi);if(Ms(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vi!=4||Qe.length!=0||this.h.h||(this.s=1,me(16),U=!1),this.o=this.o&&U,!U)ft(this.i,this.l,Qe,"[Invalid Chunked Response]"),qt(this),dr(this);else if(0<Qe.length&&!this.W){this.W=!0;var Xn=this.j;Xn.g==this&&Xn.ba&&!Xn.M&&(Xn.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),Tc(Xn),Xn.M=!0,me(11))}}else ft(this.i,this.l,Qe,null),Si(this,Qe);vi==4&&qt(this),this.o&&!this.J&&(vi==4?Fm(this.j,this):(this.o=!1,na(this)))}else S0(this.g),U==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,me(12)):(this.s=0,me(13)),qt(this),dr(this)}}}catch{}finally{}};function Ms(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function ta(x,D){var U=x.C,te=D.indexOf(`
`,U);return te==-1?Aa:(U=Number(D.substring(U,te)),isNaN(U)?hn:(te+=1,te+U>D.length?Aa:(D=D.slice(te,te+U),x.C=te+U,D)))}Mn.prototype.cancel=function(){this.J=!0,qt(this)};function na(x){x.S=Date.now()+x.I,bc(x,x.I)}function bc(x,D){if(x.B!=null)throw Error("WatchDog timer not null");x.B=qe(v(x.ba,x),D)}function qs(x){x.B&&(l.clearTimeout(x.B),x.B=null)}Mn.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(Et(this.i,this.A),this.L!=2&&(le(),me(17)),qt(this),this.s=2,dr(this)):bc(this,this.S-x)};function dr(x){x.j.G==0||x.J||Fm(x.j,x)}function qt(x){qs(x);var D=x.M;D&&typeof D.ma=="function"&&D.ma(),x.M=null,ms(x.U),x.g&&(D=x.g,x.g=null,D.abort(),D.ma())}function Si(x,D){try{var U=x.j;if(U.G!=0&&(U.g==x||Zt(U.h,x))){if(!x.K&&Zt(U.h,x)&&U.G==3){try{var te=U.Da.g.parse(D)}catch{te=null}if(Array.isArray(te)&&te.length==3){var ye=te;if(ye[0]==0){e:if(!U.u){if(U.g)if(U.g.F+3e3<x.F)md(U),hd(U);else break e;dd(U),me(18)}}else U.za=ye[1],0<U.za-U.T&&37500>ye[2]&&U.F&&U.v==0&&!U.C&&(U.C=qe(v(U.Za,U),6e3));if(1>=Fn(U.h)&&U.ca){try{U.ca()}catch{}U.ca=void 0}}else kl(U,11)}else if((x.K||U.g==x)&&md(U),!N(D))for(ye=U.Da.g.parse(D),D=0;D<ye.length;D++){let Cn=ye[D];if(U.T=Cn[0],Cn=Cn[1],U.G==2)if(Cn[0]=="c"){U.K=Cn[1],U.ia=Cn[2];const Xn=Cn[3];Xn!=null&&(U.la=Xn,U.j.info("VER="+U.la));const vi=Cn[4];vi!=null&&(U.Aa=vi,U.j.info("SVER="+U.Aa));const Ml=Cn[5];Ml!=null&&typeof Ml=="number"&&0<Ml&&(te=1.5*Ml,U.L=te,U.j.info("backChannelRequestTimeoutMs_="+te)),te=U;const pi=x.g;if(pi){const Uo=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var Me=te.h;Me.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Vn(Me,Me.h),Me.h=null))}if(te.D){const Ho=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(te.ya=Ho,Ut(te.I,te.D,Ho))}}U.G=3,U.l&&U.l.ua(),U.ba&&(U.R=Date.now()-x.F,U.j.info("Handshake RTT: "+U.R+"ms")),te=U;var Qe=x;if(te.qa=gd(te,te.J?te.ia:null,te.W),Qe.K){Hi(te.h,Qe);var Sn=Qe,$i=te.L;$i&&(Sn.I=$i),Sn.B&&(qs(Sn),na(Sn)),te.g=Qe}else Qa(te);0<U.i.length&&Ac(U)}else Cn[0]!="stop"&&Cn[0]!="close"||kl(U,7);else U.G==3&&(Cn[0]=="stop"||Cn[0]=="close"?Cn[0]=="stop"?kl(U,7):ud(U):Cn[0]!="noop"&&U.l&&U.l.ta(Cn),U.v=0)}}le(4)}catch{}}var Ps=class{constructor(x,D){this.g=x,this.map=D}};function fr(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ga(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function Fn(x){return x.h?1:x.g?x.g.size:0}function Zt(x,D){return x.h?x.h==D:x.g?x.g.has(D):!1}function Vn(x,D){x.g?x.g.add(D):x.h=D}function Hi(x,D){x.h&&x.h==D?x.h=null:x.g&&x.g.has(D)&&x.g.delete(D)}fr.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Fo(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let D=x.i;for(const U of x.g.values())D=D.concat(U.D);return D}return S(x.i)}function wc(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var D=[],U=x.length,te=0;te<U;te++)D.push(x[te]);return D}D=[],U=0;for(te in x)D[U++]=x[te];return D}function xc(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var D=[];x=x.length;for(var U=0;U<x;U++)D.push(U);return D}D=[],U=0;for(const te in x)D[U++]=te;return D}}}function Yt(x,D){if(x.forEach&&typeof x.forEach=="function")x.forEach(D,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,D,void 0);else for(var U=xc(x),te=wc(x),ye=te.length,Me=0;Me<ye;Me++)D.call(void 0,te[Me],U&&U[Me],x)}var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dm(x,D){if(x){x=x.split("&");for(var U=0;U<x.length;U++){var te=x[U].indexOf("="),ye=null;if(0<=te){var Me=x[U].substring(0,te);ye=x[U].substring(te+1)}else Me=x[U];D(Me,ye?decodeURIComponent(ye.replace(/\+/g," ")):"")}}}function Ai(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Ai){this.h=x.h,Pu(this,x.j),this.o=x.o,this.g=x.g,Wa(this,x.s),this.l=x.l;var D=x.i,U=new Ya;U.i=D.i,D.g&&(U.g=new Map(D.g),U.h=D.h),mr(this,U),this.m=x.m}else x&&(D=String(x).match(ni))?(this.h=!1,Pu(this,D[1]||"",!0),this.o=Gs(D[2]||""),this.g=Gs(D[3]||"",!0),Wa(this,D[4]),this.l=Gs(D[5]||"",!0),mr(this,D[6]||"",!0),this.m=Gs(D[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}Ai.prototype.toString=function(){var x=[],D=this.j;D&&x.push(Ka(D,Al,!0),":");var U=this.g;return(U||D=="file")&&(x.push("//"),(D=this.o)&&x.push(Ka(D,Al,!0),"@"),x.push(encodeURIComponent(String(U)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.s,U!=null&&x.push(":",String(U))),(U=this.l)&&(this.g&&U.charAt(0)!="/"&&x.push("/"),x.push(Ka(U,U.charAt(0)=="/"?Nm:Iu,!0))),(U=this.i.toString())&&x.push("?",U),(U=this.m)&&x.push("#",Ka(U,Ec)),x.join("")};function yi(x){return new Ai(x)}function Pu(x,D,U){x.j=U?Gs(D,!0):D,x.j&&(x.j=x.j.replace(/:$/,""))}function Wa(x,D){if(D){if(D=Number(D),isNaN(D)||0>D)throw Error("Bad port number "+D);x.s=D}else x.s=null}function mr(x,D,U){D instanceof Ya?(x.i=D,sa(x.i,x.h)):(U||(D=Ka(D,od)),x.i=new Ya(D,x.h))}function Ut(x,D,U){x.i.set(D,U)}function ia(x){return Ut(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function Gs(x,D){return x?D?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Ka(x,D,U){return typeof x=="string"?(x=encodeURI(x).replace(D,ad),U&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function ad(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Al=/[#\/\?@]/g,Iu=/[#\?:]/g,Nm=/[#\?]/g,od=/[#\?@]/g,Ec=/#/g;function Ya(x,D){this.h=this.g=null,this.i=x||null,this.j=!!D}function pr(x){x.g||(x.g=new Map,x.h=0,x.i&&Dm(x.i,function(D,U){x.add(decodeURIComponent(D.replace(/\+/g," ")),U)}))}n=Ya.prototype,n.add=function(x,D){pr(this),this.i=null,x=Ot(this,x);var U=this.g.get(x);return U||this.g.set(x,U=[]),U.push(D),this.h+=1,this};function Vo(x,D){pr(x),D=Ot(x,D),x.g.has(D)&&(x.i=null,x.h-=x.g.get(D).length,x.g.delete(D))}function Za(x,D){return pr(x),D=Ot(x,D),x.g.has(D)}n.forEach=function(x,D){pr(this),this.g.forEach(function(U,te){U.forEach(function(ye){x.call(D,ye,te,this)},this)},this)},n.na=function(){pr(this);const x=Array.from(this.g.values()),D=Array.from(this.g.keys()),U=[];for(let te=0;te<D.length;te++){const ye=x[te];for(let Me=0;Me<ye.length;Me++)U.push(D[te])}return U},n.V=function(x){pr(this);let D=[];if(typeof x=="string")Za(this,x)&&(D=D.concat(this.g.get(Ot(this,x))));else{x=Array.from(this.g.values());for(let U=0;U<x.length;U++)D=D.concat(x[U])}return D},n.set=function(x,D){return pr(this),this.i=null,x=Ot(this,x),Za(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[D]),this.h+=1,this},n.get=function(x,D){return x?(x=this.V(x),0<x.length?String(x[0]):D):D};function Lm(x,D,U){Vo(x,D),0<U.length&&(x.i=null,x.g.set(Ot(x,D),S(U)),x.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],D=Array.from(this.g.keys());for(var U=0;U<D.length;U++){var te=D[U];const Me=encodeURIComponent(String(te)),Qe=this.V(te);for(te=0;te<Qe.length;te++){var ye=Me;Qe[te]!==""&&(ye+="="+encodeURIComponent(String(Qe[te]))),x.push(ye)}}return this.i=x.join("&")};function Ot(x,D){return D=String(D),x.j&&(D=D.toLowerCase()),D}function sa(x,D){D&&!x.j&&(pr(x),x.i=null,x.g.forEach(function(U,te){var ye=te.toLowerCase();te!=ye&&(Vo(this,te),Lm(this,ye,U))},x)),x.j=D}function Dn(x,D){const U=new Je;if(l.Image){const te=new Image;te.onload=w(Lr,U,"TestLoadImage: loaded",!0,D,te),te.onerror=w(Lr,U,"TestLoadImage: error",!1,D,te),te.onabort=w(Lr,U,"TestLoadImage: abort",!1,D,te),te.ontimeout=w(Lr,U,"TestLoadImage: timeout",!1,D,te),l.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=x}else D(!1)}function Ta(x,D){const U=new Je,te=new AbortController,ye=setTimeout(()=>{te.abort(),Lr(U,"TestPingServer: timeout",!1,D)},1e4);fetch(x,{signal:te.signal}).then(Me=>{clearTimeout(ye),Me.ok?Lr(U,"TestPingServer: ok",!0,D):Lr(U,"TestPingServer: server error",!1,D)}).catch(()=>{clearTimeout(ye),Lr(U,"TestPingServer: error",!1,D)})}function Lr(x,D,U,te,ye){try{ye&&(ye.onload=null,ye.onerror=null,ye.onabort=null,ye.ontimeout=null),te(U)}catch{}}function Tl(){this.g=new Ui}function Sa(x,D,U){const te=U||"";try{Yt(x,function(ye,Me){let Qe=ye;h(ye)&&(Qe=ts(ye)),D.push(te+Me+"="+encodeURIComponent(Qe))})}catch(ye){throw D.push(te+"type="+encodeURIComponent("_badmap")),ye}}function Or(x){this.l=x.Ub||null,this.j=x.eb||!1}E(Or,cr),Or.prototype.g=function(){return new Xa(this.l,this.j)},Or.prototype.i=function(x){return function(){return x}}({});function Xa(x,D){Oe.call(this),this.D=x,this.o=D,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Xa,Oe),n=Xa.prototype,n.open=function(x,D){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=D,this.readyState=1,Ws(this)},n.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const D={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(D.body=x),(this.D||l).fetch(new Request(this.A,D)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},n.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}n.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var D=x.value?x.value:new Uint8Array(0);(D=this.v.decode(D,{stream:!x.done}))&&(this.response=this.responseText+=D)}x.done?ai(this):Ws(this),this.readyState==3&&Sl(this)}},n.Ra=function(x){this.g&&(this.response=this.responseText=x,ai(this))},n.Qa=function(x){this.g&&(this.response=x,ai(this))},n.ga=function(){this.g&&ai(this)};function ai(x){x.readyState=4,x.l=null,x.j=null,x.v=null,Ws(x)}n.setRequestHeader=function(x,D){this.u.append(x,D)},n.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],D=this.h.entries();for(var U=D.next();!U.done;)U=U.value,x.push(U[0]+": "+U[1]),U=D.next();return x.join(`\r
`)};function Ws(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function ld(x){let D="";return H(x,function(U,te){D+=te,D+=":",D+=U,D+=`\r
`}),D}function is(x,D,U){e:{for(te in U){var te=!1;break e}te=!0}te||(U=ld(U),typeof x=="string"?U!=null&&encodeURIComponent(String(U)):Ut(x,D,U))}function Hn(x){Oe.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Hn,Oe);var Du=/^https?$/i,Cl=["POST","PUT"];n=Hn.prototype,n.Ha=function(x){this.J=x},n.ea=function(x,D,U,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);D=D?D.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():un.g(),this.v=this.o?ps(this.o):ps(un),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(D,String(x),!0),this.B=!1}catch(Me){ny(this,Me);return}if(x=U||"",U=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var ye in te)U.set(ye,te[ye]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Me of te.keys())U.set(Me,te.get(Me));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(U.keys()).find(Me=>Me.toLowerCase()=="content-type"),ye=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Cl,D,void 0))||te||ye||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,Qe]of U)this.g.setRequestHeader(Me,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(x),this.u=!1}catch(Me){ny(this,Me)}};function ny(x,D){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=D,x.m=5,Nu(x),Bo(x)}function Nu(x){x.A||(x.A=!0,Xe(x,"complete"),Xe(x,"error"))}n.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Xe(this,"complete"),Xe(this,"abort"),Bo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bo(this,!0)),Hn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?on(this):this.bb())},n.bb=function(){on(this)};function on(x){if(x.h&&typeof a<"u"&&(!x.v[1]||Ks(x)!=4||x.Z()!=2)){if(x.u&&Ks(x)==4)sn(x.Ea,0,x);else if(Xe(x,"readystatechange"),Ks(x)==4){x.h=!1;try{const Qe=x.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var D=!0;break e;default:D=!1}var U;if(!(U=D)){var te;if(te=Qe===0){var ye=String(x.D).match(ni)[1]||null;!ye&&l.self&&l.self.location&&(ye=l.self.location.protocol.slice(0,-1)),te=!Du.test(ye?ye.toLowerCase():"")}U=te}if(U)Xe(x,"complete"),Xe(x,"success");else{x.m=6;try{var Me=2<Ks(x)?x.g.statusText:""}catch{Me=""}x.l=Me+" ["+x.Z()+"]",Nu(x)}}finally{Bo(x)}}}}function Bo(x,D){if(x.g){Is(x);const U=x.g,te=x.v[0]?()=>{}:null;x.g=null,x.v=null,D||Xe(x,"ready");try{U.onreadystatechange=te}catch{}}}function Is(x){x.I&&(l.clearTimeout(x.I),x.I=null)}n.isActive=function(){return!!this.g};function Ks(x){return x.g?x.g.readyState:0}n.Z=function(){try{return 2<Ks(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(x){if(this.g){var D=this.g.responseText;return x&&D.indexOf(x)==0&&(D=D.substring(x.length)),lr(D)}};function Om(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function S0(x){const D={};x=(x.g&&2<=Ks(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<x.length;te++){if(N(x[te]))continue;var U=Z(x[te]);const ye=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const Me=D[ye]||[];D[ye]=Me,Me.push(U)}B(D,function(te){return te.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(x,D,U){return U&&U.internalChannelParams&&U.internalChannelParams[x]||D}function cd(x){this.Aa=0,this.i=[],this.j=new Je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rl("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rl("baseRetryDelayMs",5e3,x),this.cb=Rl("retryDelaySeedMs",1e4,x),this.Wa=Rl("forwardChannelMaxRetries",2,x),this.wa=Rl("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new fr(x&&x.concurrentRequestLimit),this.Da=new Tl,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cd.prototype,n.la=8,n.G=1,n.connect=function(x,D,U,te){me(0),this.W=x,this.H=D||{},U&&te!==void 0&&(this.H.OSID=U,this.H.OAID=te),this.F=this.X,this.I=gd(this,null,this.W),Ac(this)};function ud(x){if(iy(x),x.G==3){var D=x.U++,U=yi(x.I);if(Ut(U,"SID",x.K),Ut(U,"RID",D),Ut(U,"TYPE","terminate"),Lu(x,U),D=new Mn(x,x.j,D),D.L=2,D.v=ia(yi(U)),U=!1,l.navigator&&l.navigator.sendBeacon)try{U=l.navigator.sendBeacon(D.v.toString(),"")}catch{}!U&&l.Image&&(new Image().src=D.v,U=!0),U||(D.g=ry(D.j,null),D.g.ea(D.v)),D.F=Date.now(),na(D)}sy(x)}function hd(x){x.g&&(Tc(x),x.g.cancel(),x.g=null)}function iy(x){hd(x),x.u&&(l.clearTimeout(x.u),x.u=null),md(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Ac(x){if(!Ga(x.h)&&!x.s){x.s=!0;var D=x.Ga;se||J(),ie||(se(),ie=!0),Te.add(D,x),x.B=0}}function C0(x,D){return Fn(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=D.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=qe(v(x.Ga,x,D),pd(x,x.B)),x.B++,!0)}n.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const ye=new Mn(this,this.j,x);let Me=this.o;if(this.S&&(Me?(Me=j(Me),Y(Me,this.S)):Me=this.S),this.m!==null||this.O||(ye.H=Me,Me=null),this.P)e:{for(var D=0,U=0;U<this.i.length;U++){t:{var te=this.i[U];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(D+=te,4096<D){D=U;break e}if(D===4096||U===this.i.length-1){D=U+1;break e}}D=1e3}else D=1e3;D=jm(this,ye,D),U=yi(this.I),Ut(U,"RID",x),Ut(U,"CVER",22),this.D&&Ut(U,"X-HTTP-Session-Id",this.D),Lu(this,U),Me&&(this.O?D="headers="+encodeURIComponent(String(ld(Me)))+"&"+D:this.m&&is(U,this.m,Me)),Vn(this.h,ye),this.Ua&&Ut(U,"TYPE","init"),this.P?(Ut(U,"$req",D),Ut(U,"SID","null"),ye.T=!0,ns(ye,U,null)):ns(ye,U,D),this.G=2}}else this.G==3&&(x?jr(this,x):this.i.length==0||Ga(this.h)||jr(this))};function jr(x,D){var U;D?U=D.l:U=x.U++;const te=yi(x.I);Ut(te,"SID",x.K),Ut(te,"RID",U),Ut(te,"AID",x.T),Lu(x,te),x.m&&x.o&&is(te,x.m,x.o),U=new Mn(x,x.j,U,x.B+1),x.m===null&&(U.H=x.o),D&&(x.i=D.D.concat(x.i)),D=jm(x,U,1e3),U.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),Vn(x.h,U),ns(U,te,D)}function Lu(x,D){x.H&&H(x.H,function(U,te){Ut(D,te,U)}),x.l&&Yt({},function(U,te){Ut(D,te,U)})}function jm(x,D,U){U=Math.min(x.i.length,U);var te=x.l?v(x.l.Na,x.l,x):null;e:{var ye=x.i;let Me=-1;for(;;){const Qe=["count="+U];Me==-1?0<U?(Me=ye[0].g,Qe.push("ofs="+Me)):Me=0:Qe.push("ofs="+Me);let Sn=!0;for(let $i=0;$i<U;$i++){let Cn=ye[$i].g;const Xn=ye[$i].map;if(Cn-=Me,0>Cn)Me=Math.max(0,ye[$i].g-100),Sn=!1;else try{Sa(Xn,Qe,"req"+Cn+"_")}catch{te&&te(Xn)}}if(Sn){te=Qe.join("&");break e}}}return x=x.i.splice(0,U),D.D=x,te}function Qa(x){if(!x.g&&!x.u){x.Y=1;var D=x.Fa;se||J(),ie||(se(),ie=!0),Te.add(D,x),x.v=0}}function dd(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=qe(v(x.Fa,x),pd(x,x.v)),x.v++,!0)}n.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=qe(v(this.ab,this),x)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,me(10),hd(this),fd(this))};function Tc(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function fd(x){x.g=new Mn(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var D=yi(x.qa);Ut(D,"RID","rpc"),Ut(D,"SID",x.K),Ut(D,"AID",x.T),Ut(D,"CI",x.F?"0":"1"),!x.F&&x.ja&&Ut(D,"TO",x.ja),Ut(D,"TYPE","xmlhttp"),Lu(x,D),x.m&&x.o&&is(D,x.m,x.o),x.L&&(x.g.I=x.L);var U=x.g;x=x.ia,U.L=1,U.v=ia(yi(D)),U.m=null,U.P=!0,$s(U,x)}n.Za=function(){this.C!=null&&(this.C=null,hd(this),dd(this),me(19))};function md(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function Fm(x,D){var U=null;if(x.g==D){md(x),Tc(x),x.g=null;var te=2}else if(Zt(x.h,D))U=D.D,Hi(x.h,D),te=1;else return;if(x.G!=0){if(D.o)if(te==1){U=D.m?D.m.length:0,D=Date.now()-D.F;var ye=x.B;te=ti(),Xe(te,new Ve(te,U)),Ac(x)}else Qa(x);else if(ye=D.s,ye==3||ye==0&&0<D.X||!(te==1&&C0(x,D)||te==2&&dd(x)))switch(U&&0<U.length&&(D=x.h,D.i=D.i.concat(U)),ye){case 1:kl(x,5);break;case 4:kl(x,10);break;case 3:kl(x,6);break;default:kl(x,2)}}}function pd(x,D){let U=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(U*=2),U*D}function kl(x,D){if(x.j.info("Error code "+D),D==2){var U=v(x.fb,x),te=x.Xa;const ye=!te;te=new Ai(te||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pu(te,"https"),ia(te),ye?Dn(te.toString(),U):Ta(te.toString(),U)}else me(2);x.G=0,x.l&&x.l.sa(D),sy(x),iy(x)}n.fb=function(x){x?(this.j.info("Successfully pinged google.com"),me(2)):(this.j.info("Failed to ping google.com"),me(1))};function sy(x){if(x.G=0,x.ka=[],x.l){const D=Fo(x.h);(D.length!=0||x.i.length!=0)&&(C(x.ka,D),C(x.ka,x.i),x.h.i.length=0,S(x.i),x.i.length=0),x.l.ra()}}function gd(x,D,U){var te=U instanceof Ai?yi(U):new Ai(U);if(te.g!="")D&&(te.g=D+"."+te.g),Wa(te,te.s);else{var ye=l.location;te=ye.protocol,D=D?D+"."+ye.hostname:ye.hostname,ye=+ye.port;var Me=new Ai(null);te&&Pu(Me,te),D&&(Me.g=D),ye&&Wa(Me,ye),U&&(Me.l=U),te=Me}return U=x.D,D=x.ya,U&&D&&Ut(te,U,D),Ut(te,"VER",x.la),Lu(x,te),te}function ry(x,D,U){if(D&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return D=x.Ca&&!x.pa?new Hn(new Or({eb:U})):new Hn(x.pa),D.Ha(x.J),D}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vm(){}n=Vm.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ou(){}Ou.prototype.g=function(x,D){return new gs(x,D)};function gs(x,D){Oe.call(this),this.g=new cd(D),this.l=x,this.h=D&&D.messageUrlParams||null,x=D&&D.messageHeaders||null,D&&D.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=D&&D.initMessageHeaders||null,D&&D.messageContentType&&(x?x["X-WebChannel-Content-Type"]=D.messageContentType:x={"X-WebChannel-Content-Type":D.messageContentType}),D&&D.va&&(x?x["X-WebChannel-Client-Profile"]=D.va:x={"X-WebChannel-Client-Profile":D.va}),this.g.S=x,(x=D&&D.Sb)&&!N(x)&&(this.g.m=x),this.v=D&&D.supportsCrossDomainXhr||!1,this.u=D&&D.sendRawJson||!1,(D=D&&D.httpSessionIdParam)&&!N(D)&&(this.g.D=D,x=this.h,x!==null&&D in x&&(x=this.h,D in x&&delete x[D])),this.j=new Fr(this)}E(gs,Oe),gs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gs.prototype.close=function(){ud(this.g)},gs.prototype.o=function(x){var D=this.g;if(typeof x=="string"){var U={};U.__data__=x,x=U}else this.u&&(U={},U.__data__=ts(x),x=U);D.i.push(new Ps(D.Ya++,x)),D.G==3&&Ac(D)},gs.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,gs.aa.N.call(this)};function zo(x){hr.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var D=x.__sm__;if(D){e:{for(const U in D){x=U;break e}x=void 0}(this.i=x)&&(x=this.i,D=D!==null&&x in D?D[x]:void 0),this.data=D}else this.data=x}E(zo,hr);function ay(){qa.call(this),this.status=1}E(ay,qa);function Fr(x){this.g=x}E(Fr,Vm),Fr.prototype.ua=function(){Xe(this.g,"a")},Fr.prototype.ta=function(x){Xe(this.g,new zo(x))},Fr.prototype.sa=function(x){Xe(this.g,new ay)},Fr.prototype.ra=function(){Xe(this.g,"b")},Ou.prototype.createWebChannel=Ou.prototype.g,gs.prototype.send=gs.prototype.o,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,p$=function(){return new Ou},m$=function(){return ti()},f$=kt,RP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pt.NO_ERROR=0,pt.TIMEOUT=8,pt.HTTP_ERROR=6,cT=pt,Lt.COMPLETE="complete",d$=Lt,jo.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,Lb=jo,Hn.prototype.listenOnce=Hn.prototype.L,Hn.prototype.getLastError=Hn.prototype.Ka,Hn.prototype.getLastErrorCode=Hn.prototype.Ba,Hn.prototype.getStatus=Hn.prototype.Z,Hn.prototype.getResponseJson=Hn.prototype.Oa,Hn.prototype.getResponseText=Hn.prototype.oa,Hn.prototype.send=Hn.prototype.ea,Hn.prototype.setWithCredentials=Hn.prototype.Ha,h$=Hn}).apply(typeof I1<"u"?I1:typeof self<"u"?self:typeof window<"u"?window:{});const ZV="@firebase/firestore",XV="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og=new XN("@firebase/firestore");function Hy(){return Og.logLevel}function ct(n,...e){if(Og.logLevel<=Rn.DEBUG){const t=e.map(lL);Og.debug(`Firestore (${h0}): ${n}`,...t)}}function Gh(n,...e){if(Og.logLevel<=Rn.ERROR){const t=e.map(lL);Og.error(`Firestore (${h0}): ${n}`,...t)}}function j_(n,...e){if(Og.logLevel<=Rn.WARN){const t=e.map(lL);Og.warn(`Firestore (${h0}): ${n}`,...t)}}function lL(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,g$(n,i,t)}function g$(n,e,t){let i=`FIRESTORE (${h0}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Gh(i),new Error(i)}function Jn(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||g$(e,s,i)}function nn(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends nd{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pde{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wr.UNAUTHENTICATED))}shutdown(){}}class Ide{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dde{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jn(this.o===void 0,42304);let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let r=new Vh;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Vh,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Vh)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Jn(typeof i.accessToken=="string",31837,{l:i}),new y$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jn(e===null||typeof e=="string",2055,{h:e}),new Wr(e)}}class Nde{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lde{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new Nde(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ode{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Io(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Jn(this.o===void 0,3512);const i=r=>{r.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,ct("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new QV(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Jn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new QV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jde(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=jde(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function pn(n,e){return n<e?-1:n>e?1:0}function kP(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return pn(i,s);{const r=v$(),a=Fde(r.encode(JV(n,t)),r.encode(JV(e,t)));return a!==0?a:pn(i,s)}}t+=i>65535?2:1}return pn(n.length,e.length)}function JV(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Fde(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return pn(n[t],e[t]);return pn(n.length,e.length)}function F_(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=-62135596800,tB=1e6;class Us{static now(){return Us.fromMillis(Date.now())}static fromDate(e){return Us.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*tB);return new Us(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rt(Be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eB)throw new rt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(Be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tB}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new Us(0,0))}static max(){return new Xt(new Us(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB="__name__";class Vc{constructor(e,t,i){t===void 0?t=0:t>e.length&&$t(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&$t(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Vc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=Vc.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return pn(e.length,t.length)}static compareSegments(e,t){const i=Vc.isNumericId(e),s=Vc.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Vc.extractNumericId(e).compare(Vc.extractNumericId(t)):kP(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return nm.fromString(e.substring(4,e.length-2))}}class xi extends Vc{construct(e,t,i){return new xi(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new rt(Be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new xi(t)}static emptyPath(){return new xi([])}}const Vde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Vc{construct(e,t,i){return new Mr(e,t,i)}static isValidIdentifier(e){return Vde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nB}static keyField(){return new Mr([nB])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new rt(Be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new rt(Be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new rt(Be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new rt(Be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.path=e}static fromPath(e){return new It(xi.fromString(e))}static fromName(e){return new It(xi.fromString(e).popFirst(5))}static empty(){return new It(xi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new It(new xi(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-1;function Bde(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Xt.fromTimestamp(i===1e9?new Us(t+1,0):new Us(t,i));return new um(s,It.empty(),e)}function zde(n){return new um(n.readTime,n.key,Dw)}class um{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new um(Xt.min(),It.empty(),Dw)}static max(){return new um(Xt.max(),It.empty(),Dw)}}function Ude(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=It.comparator(n.documentKey,e.documentKey),t!==0?t:pn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hde="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $de{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d0(n){if(n.code!==Be.FAILED_PRECONDITION||n.message!==Hde)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,i)=>{t(e)})}static reject(e){return new He((t,i)=>{i(e)})}static waitFor(e){return new He((t,i)=>{let s=0,r=0,a=!1;e.forEach(l=>{++s,l.next(()=>{++r,a&&r===s&&t()},c=>i(c))}),a=!0,r===s&&t()})}static or(e){let t=He.resolve(!1);for(const i of e)t=t.next(s=>s?He.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new He((i,s)=>{const r=e.length,a=new Array(r);let l=0;for(let c=0;c<r;c++){const h=c;t(e[h]).next(f=>{a[h]=f,++l,l===r&&i(a)},f=>s(f))}})}static doWhile(e,t){return new He((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function qde(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function f0(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rR.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=-1;function aR(n){return n==null}function AS(n){return n===0&&1/n==-1/0}function Gde(n){return typeof n=="number"&&Number.isInteger(n)&&!AS(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="";function Wde(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=iB(e)),e=Kde(n.get(t),e);return iB(e)}function Kde(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case b$:t+="";break;default:t+=r}}return t}function iB(n){return n+b$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mm(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w$(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new zi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new zi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new D1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new D1(this.root,e,this.comparator,!1)}getReverseIterator(){return new D1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new D1(this.root,e,this.comparator,!0)}}class D1{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??Cr.RED,this.left=s??Cr.EMPTY,this.right=r??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new Cr(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Cr.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw $t(27949);return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw $t(57766)}get value(){throw $t(16141)}get color(){throw $t(16727)}get left(){throw $t(29726)}get right(){throw $t(36894)}copy(e,t,i,s,r){return this}insert(e,t,i){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e,this.data=new zi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rB(this.data.getIterator())}getIteratorFrom(e){return new rB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hs(this.comparator);return t.data=e,t}}class rB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Do([])}unionWith(e){let t=new Hs(Mr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Do(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return F_(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new x$("Invalid base64 string: "+r):r}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const Yde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hm(n){if(Jn(!!n,39018),typeof n=="string"){let e=0;const t=Yde.exec(n);if(Jn(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:cs(n.seconds),nanos:cs(n.nanos)}}function cs(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function dm(n){return typeof n=="string"?Nr.fromBase64String(n):Nr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$="server_timestamp",A$="__type__",T$="__previous_value__",S$="__local_write_time__";function oR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[A$])===null||t===void 0?void 0:t.stringValue)===E$}function lR(n){const e=n.mapValue.fields[T$];return oR(e)?lR(e):e}function Nw(n){const e=hm(n.mapValue.fields[S$].timestampValue);return new Us(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zde{constructor(e,t,i,s,r,a,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=f}}const TS="(default)";class Lw{constructor(e,t){this.projectId=e,this.database=t||TS}static empty(){return new Lw("","")}get isDefaultDatabase(){return this.database===TS}isEqual(e){return e instanceof Lw&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="__type__",Xde="__max__",N1={mapValue:{}},R$="__vector__",SS="value";function fm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oR(n)?4:Jde(n)?9007199254740991:Qde(n)?10:11:$t(28295,{value:n})}function Au(n,e){if(n===e)return!0;const t=fm(n);if(t!==fm(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nw(n).isEqual(Nw(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const a=hm(s.timestampValue),l=hm(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return dm(s.bytesValue).isEqual(dm(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return cs(s.geoPointValue.latitude)===cs(r.geoPointValue.latitude)&&cs(s.geoPointValue.longitude)===cs(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return cs(s.integerValue)===cs(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const a=cs(s.doubleValue),l=cs(r.doubleValue);return a===l?AS(a)===AS(l):isNaN(a)&&isNaN(l)}return!1}(n,e);case 9:return F_(n.arrayValue.values||[],e.arrayValue.values||[],Au);case 10:case 11:return function(s,r){const a=s.mapValue.fields||{},l=r.mapValue.fields||{};if(sB(a)!==sB(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Au(a[c],l[c])))return!1;return!0}(n,e);default:return $t(52216,{left:n})}}function Ow(n,e){return(n.values||[]).find(t=>Au(t,e))!==void 0}function V_(n,e){if(n===e)return 0;const t=fm(n),i=fm(e);if(t!==i)return pn(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return pn(n.booleanValue,e.booleanValue);case 2:return function(r,a){const l=cs(r.integerValue||r.doubleValue),c=cs(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return aB(n.timestampValue,e.timestampValue);case 4:return aB(Nw(n),Nw(e));case 5:return kP(n.stringValue,e.stringValue);case 6:return function(r,a){const l=dm(r),c=dm(a);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=pn(l[h],c[h]);if(f!==0)return f}return pn(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const l=pn(cs(r.latitude),cs(a.latitude));return l!==0?l:pn(cs(r.longitude),cs(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return oB(n.arrayValue,e.arrayValue);case 10:return function(r,a){var l,c,h,f;const p=r.fields||{},v=a.fields||{},w=(l=p[SS])===null||l===void 0?void 0:l.arrayValue,E=(c=v[SS])===null||c===void 0?void 0:c.arrayValue,S=pn(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((f=E==null?void 0:E.values)===null||f===void 0?void 0:f.length)||0);return S!==0?S:oB(w,E)}(n.mapValue,e.mapValue);case 11:return function(r,a){if(r===N1.mapValue&&a===N1.mapValue)return 0;if(r===N1.mapValue)return 1;if(a===N1.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),h=a.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const v=kP(c[p],f[p]);if(v!==0)return v;const w=V_(l[c[p]],h[f[p]]);if(w!==0)return w}return pn(c.length,f.length)}(n.mapValue,e.mapValue);default:throw $t(23264,{Pe:t})}}function aB(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pn(n,e);const t=hm(n),i=hm(e),s=pn(t.seconds,i.seconds);return s!==0?s:pn(t.nanos,i.nanos)}function oB(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=V_(t[s],i[s]);if(r)return r}return pn(t.length,i.length)}function B_(n){return MP(n)}function MP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=hm(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return dm(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return It.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=MP(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const a of i)r?r=!1:s+=",",s+=`${a}:${MP(t.fields[a])}`;return s+"}"}(n.mapValue):$t(61005,{value:n})}function uT(n){switch(fm(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lR(n);return e?16+uT(e):16;case 5:return 2*n.stringValue.length;case 6:return dm(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+uT(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Mm(i.fields,(r,a)=>{s+=r.length+uT(a)}),s}(n.mapValue);default:throw $t(13486,{value:n})}}function CS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function PP(n){return!!n&&"integerValue"in n}function uL(n){return!!n&&"arrayValue"in n}function lB(n){return!!n&&"nullValue"in n}function cB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hT(n){return!!n&&"mapValue"in n}function Qde(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[C$])===null||t===void 0?void 0:t.stringValue)===R$}function uw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Mm(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uw(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Jde(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Xde}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.value=e}static empty(){return new Ba({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hT(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uw(t)}setAll(e){let t=Mr.emptyPath(),i={},s=[];e.forEach((a,l)=>{if(!t.isImmediateParentOf(l)){const c=this.getFieldsMap(t);this.applyChanges(c,i,s),i={},s=[],t=l.popLast()}a?i[l.lastSegment()]=uw(a):s.push(l.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());hT(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Au(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];hT(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Mm(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new Ba(uw(this.value))}}function k$(n){const e=[];return Mm(n.fields,(t,i)=>{const s=new Mr([t]);if(hT(i)){const r=k$(i.mapValue).fields;if(r.length===0)e.push(s);else for(const a of r)e.push(s.child(a))}else e.push(s)}),new Do(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,t,i,s,r,a,l){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Kr(e,0,Xt.min(),Xt.min(),Xt.min(),Ba.empty(),0)}static newFoundDocument(e,t,i,s){return new Kr(e,1,t,Xt.min(),i,s,0)}static newNoDocument(e,t){return new Kr(e,2,t,Xt.min(),Xt.min(),Ba.empty(),0)}static newUnknownDocument(e,t){return new Kr(e,3,t,Xt.min(),Xt.min(),Ba.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ba.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ba.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.position=e,this.inclusive=t}}function uB(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],a=n.position[s];if(r.field.isKeyField()?i=It.comparator(It.fromName(a.referenceValue),t.key):i=V_(a,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function hB(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Au(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t="asc"){this.field=e,this.dir=t}}function efe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${}class Ts extends M${constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new nfe(e,t,i):t==="array-contains"?new rfe(e,i):t==="in"?new afe(e,i):t==="not-in"?new ofe(e,i):t==="array-contains-any"?new lfe(e,i):new Ts(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ife(e,i):new sfe(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(V_(t,this.value)):t!==null&&fm(this.value)===fm(t)&&this.matchesComparison(V_(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dc extends M${constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new dc(e,t)}matches(e){return P$(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function P$(n){return n.op==="and"}function I$(n){return tfe(n)&&P$(n)}function tfe(n){for(const e of n.filters)if(e instanceof dc)return!1;return!0}function IP(n){if(n instanceof Ts)return n.field.canonicalString()+n.op.toString()+B_(n.value);if(I$(n))return n.filters.map(e=>IP(e)).join(",");{const e=n.filters.map(t=>IP(t)).join(",");return`${n.op}(${e})`}}function D$(n,e){return n instanceof Ts?function(i,s){return s instanceof Ts&&i.op===s.op&&i.field.isEqual(s.field)&&Au(i.value,s.value)}(n,e):n instanceof dc?function(i,s){return s instanceof dc&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,a,l)=>r&&D$(a,s.filters[l]),!0):!1}(n,e):void $t(19439)}function N$(n){return n instanceof Ts?function(t){return`${t.field.canonicalString()} ${t.op} ${B_(t.value)}`}(n):n instanceof dc?function(t){return t.op.toString()+" {"+t.getFilters().map(N$).join(" ,")+"}"}(n):"Filter"}class nfe extends Ts{constructor(e,t,i){super(e,t,i),this.key=It.fromName(i.referenceValue)}matches(e){const t=It.comparator(e.key,this.key);return this.matchesComparison(t)}}class ife extends Ts{constructor(e,t){super(e,"in",t),this.keys=L$("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sfe extends Ts{constructor(e,t){super(e,"not-in",t),this.keys=L$("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function L$(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>It.fromName(i.referenceValue))}class rfe extends Ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uL(t)&&Ow(t.arrayValue,this.value)}}class afe extends Ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ow(this.value.arrayValue,t)}}class ofe extends Ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ow(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ow(this.value.arrayValue,t)}}class lfe extends Ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uL(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Ow(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cfe{constructor(e,t=null,i=[],s=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=a,this.endAt=l,this.Ie=null}}function dB(n,e=null,t=[],i=[],s=null,r=null,a=null){return new cfe(n,e,t,i,s,r,a)}function hL(n){const e=nn(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>IP(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),aR(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>B_(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>B_(i)).join(",")),e.Ie=t}return e.Ie}function dL(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!efe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D$(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hB(n.startAt,e.startAt)&&hB(n.endAt,e.endAt)}function DP(n){return It.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t=null,i=[],s=[],r=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ufe(n,e,t,i,s,r,a,l){return new Zg(n,e,t,i,s,r,a,l)}function cR(n){return new Zg(n)}function fB(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fL(n){return n.collectionGroup!==null}function vv(n){const e=nn(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Hs(Mr.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new jw(r,i))}),t.has(Mr.keyField().canonicalString())||e.Ee.push(new jw(Mr.keyField(),i))}return e.Ee}function gu(n){const e=nn(n);return e.de||(e.de=hfe(e,vv(n))),e.de}function hfe(n,e){if(n.limitType==="F")return dB(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new jw(s.field,r)});const t=n.endAt?new z_(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new z_(n.startAt.position,n.startAt.inclusive):null;return dB(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function NP(n,e){const t=n.filters.concat([e]);return new Zg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function RS(n,e,t){return new Zg(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uR(n,e){return dL(gu(n),gu(e))&&n.limitType===e.limitType}function O$(n){return`${hL(gu(n))}|lt:${n.limitType}`}function $y(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>N$(s)).join(", ")}]`),aR(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>B_(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>B_(s)).join(",")),`Target(${i})`}(gu(n))}; limitType=${n.limitType})`}function hR(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):It.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of vv(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(a,l,c){const h=uB(a,l,c);return a.inclusive?h<=0:h<0}(i.startAt,vv(i),s)||i.endAt&&!function(a,l,c){const h=uB(a,l,c);return a.inclusive?h>=0:h>0}(i.endAt,vv(i),s))}(n,e)}function dfe(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function j$(n){return(e,t)=>{let i=!1;for(const s of vv(n)){const r=ffe(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function ffe(n,e,t){const i=n.field.isKeyField()?It.comparator(e.key,t.key):function(r,a,l){const c=a.data.field(r),h=l.data.field(r);return c!==null&&h!==null?V_(c,h):$t(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $t(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Mm(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return w$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mfe=new zi(It.comparator);function Wh(){return mfe}const F$=new zi(It.comparator);function Ob(...n){let e=F$;for(const t of n)e=e.insert(t.key,t);return e}function V$(n){let e=F$;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function yp(){return hw()}function B$(){return hw()}function hw(){return new Xg(n=>n.toString(),(n,e)=>n.isEqual(e))}const pfe=new zi(It.comparator),gfe=new Hs(It.comparator);function kn(...n){let e=gfe;for(const t of n)e=e.add(t);return e}const yfe=new Hs(pn);function vfe(){return yfe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:AS(e)?"-0":e}}function z$(n){return{integerValue:""+n}}function _fe(n,e){return Gde(e)?z$(e):mL(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this._=void 0}}function bfe(n,e,t){return n instanceof kS?function(s,r){const a={fields:{[A$]:{stringValue:E$},[S$]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&oR(r)&&(r=lR(r)),r&&(a.fields[T$]=r),{mapValue:a}}(t,e):n instanceof Fw?H$(n,e):n instanceof Vw?$$(n,e):function(s,r){const a=U$(s,r),l=mB(a)+mB(s.Re);return PP(a)&&PP(s.Re)?z$(l):mL(s.serializer,l)}(n,e)}function wfe(n,e,t){return n instanceof Fw?H$(n,e):n instanceof Vw?$$(n,e):t}function U$(n,e){return n instanceof MS?function(i){return PP(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class kS extends dR{}class Fw extends dR{constructor(e){super(),this.elements=e}}function H$(n,e){const t=q$(e);for(const i of n.elements)t.some(s=>Au(s,i))||t.push(i);return{arrayValue:{values:t}}}class Vw extends dR{constructor(e){super(),this.elements=e}}function $$(n,e){let t=q$(e);for(const i of n.elements)t=t.filter(s=>!Au(s,i));return{arrayValue:{values:t}}}class MS extends dR{constructor(e,t){super(),this.serializer=e,this.Re=t}}function mB(n){return cs(n.integerValue||n.doubleValue)}function q$(n){return uL(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function xfe(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Fw&&s instanceof Fw||i instanceof Vw&&s instanceof Vw?F_(i.elements,s.elements,Au):i instanceof MS&&s instanceof MS?Au(i.Re,s.Re):i instanceof kS&&s instanceof kS}(n.transform,e.transform)}class Efe{constructor(e,t){this.version=e,this.transformResults=t}}class dl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dl}static exists(e){return new dl(void 0,e)}static updateTime(e){return new dl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dT(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class fR{}function G$(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pL(n.key,dl.none()):new KE(n.key,n.data,dl.none());{const t=n.data,i=Ba.empty();let s=new Hs(Mr.comparator);for(let r of e.fields)if(!s.has(r)){let a=t.field(r);a===null&&r.length>1&&(r=r.popLast(),a=t.field(r)),a===null?i.delete(r):i.set(r,a),s=s.add(r)}return new Pm(n.key,i,new Do(s.toArray()),dl.none())}}function Afe(n,e,t){n instanceof KE?function(s,r,a){const l=s.value.clone(),c=gB(s.fieldTransforms,r,a.transformResults);l.setAll(c),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Pm?function(s,r,a){if(!dT(s.precondition,r))return void r.convertToUnknownDocument(a.version);const l=gB(s.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(W$(s)),c.setAll(l),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):function(s,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function dw(n,e,t,i){return n instanceof KE?function(r,a,l,c){if(!dT(r.precondition,a))return l;const h=r.value.clone(),f=yB(r.fieldTransforms,c,a);return h.setAll(f),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(n,e,t,i):n instanceof Pm?function(r,a,l,c){if(!dT(r.precondition,a))return l;const h=yB(r.fieldTransforms,c,a),f=a.data;return f.setAll(W$(r)),f.setAll(h),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(r,a,l){return dT(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(n,e,t)}function Tfe(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=U$(i.transform,s||null);r!=null&&(t===null&&(t=Ba.empty()),t.set(i.field,r))}return t||null}function pB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&F_(i,s,(r,a)=>xfe(r,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class KE extends fR{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Pm extends fR{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function W$(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function gB(n,e,t){const i=new Map;Jn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const r=n[s],a=r.transform,l=e.data.field(r.field);i.set(r.field,wfe(a,l,t[s]))}return i}function yB(n,e,t){const i=new Map;for(const s of n){const r=s.transform,a=t.data.field(s.field);i.set(s.field,bfe(r,a,e))}return i}class pL extends fR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sfe extends fR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cfe{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&Afe(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=B$();return this.mutations.forEach(s=>{const r=e.get(s.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=t.has(s.key)?null:l;const c=G$(a,l);c!==null&&i.set(s.key,c),a.isValidDocument()||a.convertToNoDocument(Xt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&F_(this.mutations,e.mutations,(t,i)=>pB(t,i))&&F_(this.baseMutations,e.baseMutations,(t,i)=>pB(t,i))}}class gL{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Jn(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return pfe}();const r=e.mutations;for(let a=0;a<r.length;a++)s=s.insert(r[a].key,i[a].version);return new gL(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rfe{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kfe{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws,Ln;function Mfe(n){switch(n){case Be.OK:return $t(64938);case Be.CANCELLED:case Be.UNKNOWN:case Be.DEADLINE_EXCEEDED:case Be.RESOURCE_EXHAUSTED:case Be.INTERNAL:case Be.UNAVAILABLE:case Be.UNAUTHENTICATED:return!1;case Be.INVALID_ARGUMENT:case Be.NOT_FOUND:case Be.ALREADY_EXISTS:case Be.PERMISSION_DENIED:case Be.FAILED_PRECONDITION:case Be.ABORTED:case Be.OUT_OF_RANGE:case Be.UNIMPLEMENTED:case Be.DATA_LOSS:return!0;default:return $t(15467,{code:n})}}function K$(n){if(n===void 0)return Gh("GRPC error has no .code"),Be.UNKNOWN;switch(n){case ws.OK:return Be.OK;case ws.CANCELLED:return Be.CANCELLED;case ws.UNKNOWN:return Be.UNKNOWN;case ws.DEADLINE_EXCEEDED:return Be.DEADLINE_EXCEEDED;case ws.RESOURCE_EXHAUSTED:return Be.RESOURCE_EXHAUSTED;case ws.INTERNAL:return Be.INTERNAL;case ws.UNAVAILABLE:return Be.UNAVAILABLE;case ws.UNAUTHENTICATED:return Be.UNAUTHENTICATED;case ws.INVALID_ARGUMENT:return Be.INVALID_ARGUMENT;case ws.NOT_FOUND:return Be.NOT_FOUND;case ws.ALREADY_EXISTS:return Be.ALREADY_EXISTS;case ws.PERMISSION_DENIED:return Be.PERMISSION_DENIED;case ws.FAILED_PRECONDITION:return Be.FAILED_PRECONDITION;case ws.ABORTED:return Be.ABORTED;case ws.OUT_OF_RANGE:return Be.OUT_OF_RANGE;case ws.UNIMPLEMENTED:return Be.UNIMPLEMENTED;case ws.DATA_LOSS:return Be.DATA_LOSS;default:return $t(39323,{code:n})}}(Ln=ws||(ws={}))[Ln.OK=0]="OK",Ln[Ln.CANCELLED=1]="CANCELLED",Ln[Ln.UNKNOWN=2]="UNKNOWN",Ln[Ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ln[Ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ln[Ln.NOT_FOUND=5]="NOT_FOUND",Ln[Ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ln[Ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ln[Ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ln[Ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ln[Ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ln[Ln.ABORTED=10]="ABORTED",Ln[Ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ln[Ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ln[Ln.INTERNAL=13]="INTERNAL",Ln[Ln.UNAVAILABLE=14]="UNAVAILABLE",Ln[Ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pfe=new nm([4294967295,4294967295],0);function vB(n){const e=v$().encode(n),t=new u$;return t.update(e),new Uint8Array(t.digest())}function _B(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new nm([t,i],0),new nm([s,r],0)]}class yL{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new jb(`Invalid padding: ${t}`);if(i<0)throw new jb(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new jb(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new jb(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=nm.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(nm.fromNumber(i)));return s.compare(Pfe)===1&&(s=new nm([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=vB(e),[i,s]=_B(t);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);if(!this.be(a))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new yL(r,s,t);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const t=vB(e),[i,s]=_B(t);for(let r=0;r<this.hashCount;r++){const a=this.we(i,s,r);this.Se(a)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class jb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,YE.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new mR(Xt.min(),s,new zi(pn),Wh(),kn())}}class YE{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new YE(i,t,kn(),kn(),kn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class Y${constructor(e,t){this.targetId=e,this.Ce=t}}class Z${constructor(e,t,i=Nr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class bB{constructor(){this.Fe=0,this.Me=wB(),this.xe=Nr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=kn(),t=kn(),i=kn();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:$t(38017,{changeType:r})}}),new YE(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=wB()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ife{constructor(e){this.ze=e,this.je=new Map,this.He=Wh(),this.Je=L1(),this.Ye=L1(),this.Ze=new zi(pn)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:$t(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const r=s.target;if(DP(r))if(i===0){const a=new It(r.path);this.tt(t,a,Kr.newNoDocument(a,Xt.min()))}else Jn(i===1,20013,{expectedCount:i});else{const a=this.ut(t);if(a!==i){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(t);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let a,l;try{a=dm(i).toUint8Array()}catch(c){if(c instanceof x$)return j_("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new yL(a,s,r)}catch(c){return j_(c instanceof jb?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.tt(t,r,null),s++)}),s}It(e){const t=new Map;this.je.forEach((r,a)=>{const l=this._t(a);if(l){if(r.current&&DP(l.target)){const c=new It(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,Kr.newNoDocument(c,e))}r.Le&&(t.set(a,r.qe()),r.Qe())}});let i=kn();this.Ye.forEach((r,a)=>{let l=!0;a.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(r))}),this.He.forEach((r,a)=>a.setReadTime(e));const s=new mR(e,t,this.Ze,this.He,i);return this.He=Wh(),this.Je=L1(),this.Ye=L1(),this.Ze=new zi(pn),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new bB,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Hs(pn),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Hs(pn),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ct("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bB),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function L1(){return new zi(It.comparator)}function wB(){return new zi(It.comparator)}const Dfe={asc:"ASCENDING",desc:"DESCENDING"},Nfe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lfe={and:"AND",or:"OR"};class Ofe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function LP(n,e){return n.useProto3Json||aR(e)?e:{value:e}}function PS(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X$(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jfe(n,e){return PS(n,e.toTimestamp())}function yu(n){return Jn(!!n,49232),Xt.fromTimestamp(function(t){const i=hm(t);return new Us(i.seconds,i.nanos)}(n))}function vL(n,e){return OP(n,e).canonicalString()}function OP(n,e){const t=function(s){return new xi(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Q$(n){const e=xi.fromString(n);return Jn(i7(e),10190,{key:e.toString()}),e}function jP(n,e){return vL(n.databaseId,e.path)}function hM(n,e){const t=Q$(e);if(t.get(1)!==n.databaseId.projectId)throw new rt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new rt(Be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new It(e7(t))}function J$(n,e){return vL(n.databaseId,e)}function Ffe(n){const e=Q$(n);return e.length===4?xi.emptyPath():e7(e)}function FP(n){return new xi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function e7(n){return Jn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function xB(n,e,t){return{name:jP(n,e),fields:t.value.mapValue.fields}}function Vfe(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:$t(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(Jn(f===void 0||typeof f=="string",58123),Nr.fromBase64String(f||"")):(Jn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Nr.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const f=h.code===void 0?Be.UNKNOWN:K$(h.code);return new rt(f,h.message||"")}(a);t=new Z$(i,s,r,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=hM(n,i.document.name),r=yu(i.document.updateTime),a=i.document.createTime?yu(i.document.createTime):Xt.min(),l=new Ba({mapValue:{fields:i.document.fields}}),c=Kr.newFoundDocument(s,r,a,l),h=i.targetIds||[],f=i.removedTargetIds||[];t=new fT(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=hM(n,i.document),r=i.readTime?yu(i.readTime):Xt.min(),a=Kr.newNoDocument(s,r),l=i.removedTargetIds||[];t=new fT([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=hM(n,i.document),r=i.removedTargetIds||[];t=new fT([],r,s,null)}else{if(!("filter"in e))return $t(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,a=new kfe(s,r),l=i.targetId;t=new Y$(l,a)}}return t}function Bfe(n,e){let t;if(e instanceof KE)t={update:xB(n,e.key,e.value)};else if(e instanceof pL)t={delete:jP(n,e.key)};else if(e instanceof Pm)t={update:xB(n,e.key,e.data),updateMask:Yfe(e.fieldMask)};else{if(!(e instanceof Sfe))return $t(16599,{ft:e.type});t={verify:jP(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const l=a.transform;if(l instanceof kS)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Fw)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vw)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof MS)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw $t(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:jfe(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:$t(27497)}(n,e.precondition)),t}function zfe(n,e){return n&&n.length>0?(Jn(e!==void 0,14353),n.map(t=>function(s,r){let a=s.updateTime?yu(s.updateTime):yu(r);return a.isEqual(Xt.min())&&(a=yu(r)),new Efe(a,s.transformResults||[])}(t,e))):[]}function Ufe(n,e){return{documents:[J$(n,e.path)]}}function Hfe(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=J$(n,s);const r=function(h){if(h.length!==0)return n7(dc.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(h){if(h.length!==0)return h.map(f=>function(v){return{field:qy(v.field),direction:Gfe(v.dir)}}(f))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const l=LP(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function $fe(n){let e=Ffe(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Jn(i===1,65062);const f=t.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];t.where&&(r=function(p){const v=t7(p);return v instanceof dc&&I$(v)?v.getFilters():[v]}(t.where));let a=[];t.orderBy&&(a=function(p){return p.map(v=>function(E){return new jw(Gy(E.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(v))}(t.orderBy));let l=null;t.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,aR(v)?null:v}(t.limit));let c=null;t.startAt&&(c=function(p){const v=!!p.before,w=p.values||[];return new z_(w,v)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const v=!p.before,w=p.values||[];return new z_(w,v)}(t.endAt)),ufe(e,s,a,r,l,"F",c,h)}function qfe(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function t7(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Gy(t.unaryFilter.field);return Ts.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Gy(t.unaryFilter.field);return Ts.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gy(t.unaryFilter.field);return Ts.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Gy(t.unaryFilter.field);return Ts.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $t(61313);default:return $t(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ts.create(Gy(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $t(58110);default:return $t(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dc.create(t.compositeFilter.filters.map(i=>t7(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return $t(1026)}}(t.compositeFilter.op))}(n):$t(30097,{filter:n})}function Gfe(n){return Dfe[n]}function Wfe(n){return Nfe[n]}function Kfe(n){return Lfe[n]}function qy(n){return{fieldPath:n.canonicalString()}}function Gy(n){return Mr.fromServerFormat(n.fieldPath)}function n7(n){return n instanceof Ts?function(t){if(t.op==="=="){if(cB(t.value))return{unaryFilter:{field:qy(t.field),op:"IS_NAN"}};if(lB(t.value))return{unaryFilter:{field:qy(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cB(t.value))return{unaryFilter:{field:qy(t.field),op:"IS_NOT_NAN"}};if(lB(t.value))return{unaryFilter:{field:qy(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qy(t.field),op:Wfe(t.op),value:t.value}}}(n):n instanceof dc?function(t){const i=t.getFilters().map(s=>n7(s));return i.length===1?i[0]:{compositeFilter:{op:Kfe(t.op),filters:i}}}(n):$t(54877,{filter:n})}function Yfe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i7(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,i,s,r=Xt.min(),a=Xt.min(),l=Nr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zfe{constructor(e){this.wt=e}}function Xfe(n){const e=$fe({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?RS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qfe{constructor(){this.Cn=new Jfe}addToCollectionParentIndex(e,t){return this.Cn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(um.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(um.min())}updateCollectionGroup(e,t,i){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class Jfe{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Hs(xi.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Hs(xi.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s7=41943040;class Va{static withCacheSize(e){return new Va(e,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Va.DEFAULT_COLLECTION_PERCENTILE=10,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Va.DEFAULT=new Va(s7,Va.DEFAULT_COLLECTION_PERCENTILE,Va.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Va.DISABLED=new Va(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new U_(0)}static lr(){return new U_(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="LruGarbageCollector",eme=1048576;function TB([n,e],[t,i]){const s=pn(n,t);return s===0?pn(e,i):s}class tme{constructor(e){this.Er=e,this.buffer=new Hs(TB),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();TB(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nme{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ct(AB,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){f0(t)?ct(AB,"Ignoring IndexedDB error during garbage collection: ",t):await d0(t)}await this.mr(3e5)})}}class ime{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return He.resolve(rR.le);const i=new tme(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(EB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EB):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,r,a,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,a=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(i=p,l=Date.now(),this.removeTargets(e,i,t))).next(p=>(r=p,c=Date.now(),this.removeOrphanedDocuments(e,i))).next(p=>(h=Date.now(),Hy()<=Rn.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${s} in `+(l-a)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:p})))}}function sme(n,e){return new ime(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rme{constructor(){this.changes=new Xg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?He.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ame{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ome{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&dw(i.mutation,s,Do.empty(),Us.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,kn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=kn()){const s=yp();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let a=Ob();return r.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){const i=yp();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,kn()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((a,l)=>{t.set(a,l)})})}computeViews(e,t,i,s){let r=Wh();const a=hw(),l=function(){return hw()}();return t.forEach((c,h)=>{const f=i.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Pm)?r=r.insert(h.key,h):f!==void 0?(a.set(h.key,f.mutation.getFieldMask()),dw(f.mutation,h,f.mutation.getFieldMask(),Us.now())):a.set(h.key,Do.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((h,f)=>a.set(h,f)),t.forEach((h,f)=>{var p;return l.set(h,new ame(f,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,t){const i=hw();let s=new zi((a,l)=>a-l),r=kn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=t.get(c);if(h===null)return;let f=i.get(c)||Do.empty();f=l.applyToLocalView(h,f),i.set(c,f);const p=(s.get(l.batchId)||kn()).add(c);s=s.insert(l.batchId,p)})}).next(()=>{const a=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,p=B$();f.forEach(v=>{if(!r.has(v)){const w=G$(t.get(v),i.get(v));w!==null&&p.set(v,w),r=r.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return He.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(a){return It.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fL(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const a=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):He.resolve(yp());let l=Dw,c=r;return a.next(h=>He.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),r.get(f)?He.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{c=c.insert(f,v)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,c,h,kn())).next(f=>({batchId:l,changes:V$(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new It(t)).next(i=>{let s=Ob();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let a=Ob();return this.indexManager.getCollectionParents(e,r).next(l=>He.forEach(l,c=>{const h=function(p,v){return new Zg(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,i,s).next(f=>{f.forEach((p,v)=>{a=a.insert(p,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(a=>{r.forEach((c,h)=>{const f=h.getKey();a.get(f)===null&&(a=a.insert(f,Kr.newInvalidDocument(f)))});let l=Ob();return a.forEach((c,h)=>{const f=r.get(c);f!==void 0&&dw(f.mutation,h,Do.empty(),Us.now()),hR(t,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lme{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return He.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:yu(s.createTime)}}(t)),He.resolve()}getNamedQuery(e,t){return He.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:Xfe(s.bundledQuery),readTime:yu(s.readTime)}}(t)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cme{constructor(){this.overlays=new zi(It.comparator),this.Qr=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const i=yp();return He.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.St(e,t,r)}),He.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),He.resolve()}getOverlaysForCollection(e,t,i){const s=yp(),r=t.length+1,a=new It(t.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&c.largestBatchId>i&&s.set(c.getKey(),c)}return He.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new zi((h,f)=>h-f);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>i){let f=r.get(h.largestBatchId);f===null&&(f=yp(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=yp(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return He.resolve(l)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const a=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new Rfe(t,i));let r=this.Qr.get(t);r===void 0&&(r=kn(),this.Qr.set(t,r)),this.Qr.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ume{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.$r=new Hs(ar.Ur),this.Kr=new Hs(ar.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new ar(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new ar(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new It(new xi([])),i=new ar(t,e),s=new ar(t,e+1),r=[];return this.Kr.forEachInRange([i,s],a=>{this.zr(a),r.push(a.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new It(new xi([])),i=new ar(t,e),s=new ar(t,e+1);let r=kn();return this.Kr.forEachInRange([i,s],a=>{r=r.add(a.key)}),r}containsKey(e){const t=new ar(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ar{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return It.comparator(e.key,t.key)||pn(e.Zr,t.Zr)}static Wr(e,t){return pn(e.Zr,t.Zr)||It.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hme{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Hs(ar.Ur)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Cfe(r,t,i,s);this.mutationQueue.push(a);for(const l of s)this.Xr=this.Xr.add(new ar(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return He.resolve(a)}lookupMutationBatch(e,t){return He.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),r=s<0?0:s;return He.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?cL:this.nr-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ar(t,0),s=new ar(t,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],a=>{const l=this.ei(a.Zr);r.push(l)}),He.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Hs(pn);return t.forEach(s=>{const r=new ar(s,0),a=new ar(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,a],l=>{i=i.add(l.Zr)})}),He.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;It.isDocumentKey(r)||(r=r.child(""));const a=new ar(new It(r),0);let l=new Hs(pn);return this.Xr.forEachWhile(c=>{const h=c.key.path;return!!i.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Zr)),!0)},a),He.resolve(this.ni(l))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Jn(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return He.forEach(t.mutations,s=>{const r=new ar(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new ar(t,0),s=this.Xr.firstAfterOrEqual(i);return He.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dme{constructor(e){this.ii=e,this.docs=function(){return new zi(It.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,a=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return He.resolve(i?i.document.mutableCopy():Kr.newInvalidDocument(t))}getEntries(e,t){let i=Wh();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Kr.newInvalidDocument(s))}),He.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=Wh();const a=t.path,l=new It(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||Ude(zde(f),i)<=0||(s.has(f.key)||hR(t,f))&&(r=r.insert(f.key,f.mutableCopy()))}return He.resolve(r)}getAllFromCollectionGroup(e,t,i,s){$t(9500)}si(e,t){return He.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new fme(this)}getSize(e){return He.resolve(this.size)}}class fme extends rme{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),He.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mme{constructor(e){this.persistence=e,this.oi=new Xg(t=>hL(t),dL),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this._i=0,this.ai=new _L,this.targetCount=0,this.ui=U_.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),He.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new U_(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.Tr(t),He.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.oi.forEach((a,l)=>{l.sequenceNumber<=t&&i.get(l.targetId)===null&&(this.oi.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),He.waitFor(r).next(()=>s)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return He.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),He.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(a=>{r.push(s.markPotentiallyOrphaned(e,a))}),He.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),He.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return He.resolve(i)}containsKey(e,t){return He.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e,t){this.ci={},this.overlays={},this.li=new rR(0),this.hi=!1,this.hi=!0,this.Pi=new ume,this.referenceDelegate=e(this),this.Ti=new mme(this),this.indexManager=new Qfe,this.remoteDocumentCache=function(s){return new dme(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new Zfe(t),this.Ei=new lme(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cme,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new hme(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ct("MemoryPersistence","Starting transaction:",e);const s=new pme(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,t){return He.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class pme extends $de{constructor(e){super(),this.currentSequenceNumber=e}}class bL{constructor(e){this.persistence=e,this.Vi=new _L,this.mi=null}static fi(e){return new bL(e)}get gi(){if(this.mi)return this.mi;throw $t(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),He.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),He.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.gi,i=>{const s=It.fromPath(i);return this.pi(e,s).next(r=>{r||t.removeEntry(s,Xt.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return He.or([()=>He.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class IS{constructor(e,t){this.persistence=e,this.yi=new Xg(i=>Wde(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=sme(this,t)}static fi(e,t){return new IS(e,t)}di(){}Ai(e){return He.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return He.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?He.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,a=>this.Dr(e,a,t).next(l=>{l||(i++,r.removeEntry(a,Xt.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),He.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),He.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),He.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uT(e.data.value)),t}Dr(e,t,i){return He.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return He.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=kn(),s=kn();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new wL(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gme{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yme{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Wle()?8:qde(Jr())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.ws(e,t).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.bs(e,t,s,i).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new gme;return this.Ss(e,t,a).next(l=>{if(r.result=l,this.fs)return this.Ds(e,t,a,l.size)})}).next(()=>r.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(Hy()<=Rn.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",$y(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),He.resolve()):(Hy()<=Rn.DEBUG&&ct("QueryEngine","Query:",$y(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Hy()<=Rn.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",$y(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gu(t))):He.resolve())}ws(e,t){if(fB(t))return He.resolve(null);let i=gu(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=RS(t,null,"F"),i=gu(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const a=kn(...r);return this.ys.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(c=>{const h=this.vs(t,l);return this.Cs(t,h,a,c.readTime)?this.ws(e,RS(t,null,"F")):this.Fs(e,h,t,c)}))})))}bs(e,t,i,s){return fB(t)||s.isEqual(Xt.min())?He.resolve(null):this.ys.getDocuments(e,i).next(r=>{const a=this.vs(t,r);return this.Cs(t,a,i,s)?He.resolve(null):(Hy()<=Rn.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$y(t)),this.Fs(e,a,t,Bde(s,Dw)).next(l=>l))})}vs(e,t){let i=new Hs(j$(e));return t.forEach((s,r)=>{hR(e,r)&&(i=i.add(r))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Ss(e,t,i){return Hy()<=Rn.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",$y(t)),this.ys.getDocumentsMatchingQuery(e,t,um.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="LocalStore",vme=3e8;class _me{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new zi(pn),this.Os=new Xg(r=>hL(r),dL),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ome(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function bme(n,e,t,i){return new _me(n,e,t,i)}async function a7(n,e){const t=nn(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const a=[],l=[];let c=kn();for(const h of s){a.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of r){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(i,c).next(h=>({ks:h,removedBatchIds:a,addedBatchIds:l}))})})}function wme(n,e){const t=nn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const p=h.batch,v=p.keys();let w=He.resolve();return v.forEach(E=>{w=w.next(()=>f.getEntry(c,E)).next(S=>{const C=h.docVersions.get(E);Jn(C!==null,48541),S.version.compareTo(C)<0&&(p.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),f.addEntry(S)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let c=kn();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function o7(n){const e=nn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function xme(n,e){const t=nn(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const l=[];e.targetChanges.forEach((f,p)=>{const v=s.get(p);if(!v)return;l.push(t.Ti.removeMatchingKeys(r,f.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(r,f.addedDocuments,p)));let w=v.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Nr.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,i)),s=s.insert(p,w),function(S,C,k){return S.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=vme?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,w,f)&&l.push(t.Ti.updateTargetData(r,w))});let c=Wh(),h=kn();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(r,f))}),l.push(Eme(r,a,e.documentUpdates).next(f=>{c=f.qs,h=f.Qs})),!i.isEqual(Xt.min())){const f=t.Ti.getLastRemoteSnapshotVersion(r).next(p=>t.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));l.push(f)}return He.waitFor(l).next(()=>a.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,c,h)).next(()=>c)}).then(r=>(t.xs=s,r))}function Eme(n,e,t){let i=kn(),s=kn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let a=Wh();return t.forEach((l,c)=>{const h=r.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Xt.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ct(xL,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{qs:a,Qs:s}})}function Ame(n,e){const t=nn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=cL),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Tme(n,e){const t=nn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(r=>r?(s=r,He.resolve(s)):t.Ti.allocateTargetId(i).next(a=>(s=new Xf(e,a,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function VP(n,e,t){const i=nn(n),s=i.xs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,a=>i.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!f0(a))throw a;ct(xL,`Failed to update sequence numbers for target ${e}: ${a}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function SB(n,e,t){const i=nn(n);let s=Xt.min(),r=kn();return i.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,f){const p=nn(c),v=p.Os.get(f);return v!==void 0?He.resolve(p.xs.get(v)):p.Ti.getTargetData(h,f)}(i,a,gu(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(a,l.targetId).next(c=>{r=c})}).next(()=>i.Ms.getDocumentsMatchingQuery(a,e,t?s:Xt.min(),t?r:kn())).next(l=>(Sme(i,dfe(e),l),{documents:l,$s:r})))}function Sme(n,e,t){let i=n.Ns.get(e)||Xt.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Ns.set(e,i)}class CB{constructor(){this.activeTargetIds=vfe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cme{constructor(){this.xo=new CB,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new CB,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rme{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RB="ConnectivityMonitor";class kB{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ct(RB,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ct(RB,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O1=null;function BP(){return O1===null?O1=function(){return 268435456+Math.round(2147483648*Math.random())}():O1++,"0x"+O1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="RestConnection",kme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mme{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===TS?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,r){const a=BP(),l=this.jo(e,t.toUriEncodedString());ct(dM,`Sending RPC '${e}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,r);const{host:h}=new URL(l),f=o0(h);return this.Jo(e,l,c,i,f).then(p=>(ct(dM,`Received RPC '${e}' ${a}: `,p),p),p=>{throw j_(dM,`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Yo(e,t,i,s,r,a){return this.zo(e,t,i,s,r)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+h0}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,t){const i=kme[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="WebChannelConnection";class Ime extends Mme{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,r){const a=BP();return new Promise((l,c)=>{const h=new h$;h.setWithCredentials(!0),h.listenOnce(d$.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cT.NO_ERROR:const p=h.getResponseJson();ct(zr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(p)),l(p);break;case cT.TIMEOUT:ct(zr,`RPC '${e}' ${a} timed out`),c(new rt(Be.DEADLINE_EXCEEDED,"Request time out"));break;case cT.HTTP_ERROR:const v=h.getStatus();if(ct(zr,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const S=function(k){const N=k.toLowerCase().replace(/_/g,"-");return Object.values(Be).indexOf(N)>=0?N:Be.UNKNOWN}(E.status);c(new rt(S,E.message))}else c(new rt(Be.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new rt(Be.UNAVAILABLE,"Connection failed."));break;default:$t(9055,{h_:e,streamId:a,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{ct(zr,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(s);ct(zr,`RPC '${e}' ${a} sending request:`,s),h.send(t,"POST",f,i,15)})}I_(e,t,i){const s=BP(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=p$(),l=m$(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,i),c.encodeInitMessageHeaders=!0;const f=r.join("");ct(zr,`Creating RPC '${e}' stream ${s}: ${f}`,c);const p=a.createWebChannel(f,c);this.E_(p);let v=!1,w=!1;const E=new Pme({Zo:C=>{w?ct(zr,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(v||(ct(zr,`Opening RPC '${e}' stream ${s} transport.`),p.open(),v=!0),ct(zr,`RPC '${e}' stream ${s} sending:`,C),p.send(C))},Xo:()=>p.close()}),S=(C,k,N)=>{C.listen(k,I=>{try{N(I)}catch(z){setTimeout(()=>{throw z},0)}})};return S(p,Lb.EventType.OPEN,()=>{w||(ct(zr,`RPC '${e}' stream ${s} transport opened.`),E.__())}),S(p,Lb.EventType.CLOSE,()=>{w||(w=!0,ct(zr,`RPC '${e}' stream ${s} transport closed`),E.u_(),this.d_(p))}),S(p,Lb.EventType.ERROR,C=>{w||(w=!0,j_(zr,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),E.u_(new rt(Be.UNAVAILABLE,"The operation could not be completed")))}),S(p,Lb.EventType.MESSAGE,C=>{var k;if(!w){const N=C.data[0];Jn(!!N,16349);const I=N,z=(I==null?void 0:I.error)||((k=I[0])===null||k===void 0?void 0:k.error);if(z){ct(zr,`RPC '${e}' stream ${s} received error:`,z);const V=z.status;let H=function(q){const Y=ws[q];if(Y!==void 0)return K$(Y)}(V),B=z.message;H===void 0&&(H=Be.INTERNAL,B="Unknown error status: "+V+" with message "+z.message),w=!0,E.u_(new rt(H,B)),p.close()}else ct(zr,`RPC '${e}' stream ${s} received:`,N),E.c_(N)}}),S(l,f$.STAT_EVENT,C=>{C.stat===RP.PROXY?ct(zr,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===RP.NOPROXY&&ct(zr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function fM(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(n){return new Ofe(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,t,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=r,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&ct("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="PersistentStream";class c7{constructor(e,t,i,s,r,a,l,c){this.xi=e,this.S_=i,this.D_=s,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new l7(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===Be.RESOURCE_EXHAUSTED?(Gh(t.toString()),Gh("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===Be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new rt(Be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ct(MB,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ct(MB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dme extends c7{constructor(e,t,i,s,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,a),this.serializer=r}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=Vfe(this.serializer,e),i=function(r){if(!("targetChange"in r))return Xt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Xt.min():a.readTime?yu(a.readTime):Xt.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=FP(this.serializer),t.addTarget=function(r,a){let l;const c=a.target;if(l=DP(c)?{documents:Ufe(r,c)}:{query:Hfe(r,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=X$(r,a.resumeToken);const h=LP(r,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Xt.min())>0){l.readTime=PS(r,a.snapshotVersion.toTimestamp());const h=LP(r,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const i=qfe(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=FP(this.serializer),t.removeTarget=e,this.Q_(t)}}class Nme extends c7{constructor(e,t,i,s,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,a),this.serializer=r}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Jn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jn(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Jn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=zfe(e.writeResults,e.commitTime),i=yu(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=FP(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Bfe(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lme{}class Ome extends Lme{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new rt(Be.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.zo(e,OP(t,i),s,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new rt(Be.UNKNOWN,r.toString())})}Yo(e,t,i,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Yo(e,OP(t,i),s,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new rt(Be.UNKNOWN,a.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class jme{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Gh(t),this.ua=!1):ct("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="RemoteStore";class Fme{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=r,this.Ra.No(a=>{i.enqueueAndForget(async()=>{Qg(this)&&(ct(jg,"Restarting streams for network reachability change."),await async function(c){const h=nn(c);h.da.add(4),await ZE(h),h.Va.set("Unknown"),h.da.delete(4),await gR(h)}(this))})}),this.Va=new jme(i,s)}}async function gR(n){if(Qg(n))for(const e of n.Aa)await e(!0)}async function ZE(n){for(const e of n.Aa)await e(!1)}function u7(n,e){const t=nn(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),SL(t)?TL(t):m0(t).N_()&&AL(t,e))}function EL(n,e){const t=nn(n),i=m0(t);t.Ea.delete(e),i.N_()&&h7(t,e),t.Ea.size===0&&(i.N_()?i.k_():Qg(t)&&t.Va.set("Unknown"))}function AL(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}m0(n).Z_(e)}function h7(n,e){n.ma.Ke(e),m0(n).X_(e)}function TL(n){n.ma=new Ife({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),m0(n).start(),n.Va.ca()}function SL(n){return Qg(n)&&!m0(n).O_()&&n.Ea.size>0}function Qg(n){return nn(n).da.size===0}function d7(n){n.ma=void 0}async function Vme(n){n.Va.set("Online")}async function Bme(n){n.Ea.forEach((e,t)=>{AL(n,e)})}async function zme(n,e){d7(n),SL(n)?(n.Va.Pa(e),TL(n)):n.Va.set("Unknown")}async function Ume(n,e,t){if(n.Va.set("Online"),e instanceof Z$&&e.state===2&&e.cause)try{await async function(s,r){const a=r.cause;for(const l of r.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,a),s.Ea.delete(l),s.ma.removeTarget(l))}(n,e)}catch(i){ct(jg,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await DS(n,i)}else if(e instanceof fT?n.ma.Xe(e):e instanceof Y$?n.ma.ot(e):n.ma.nt(e),!t.isEqual(Xt.min()))try{const i=await o7(n.localStore);t.compareTo(i)>=0&&await function(r,a){const l=r.ma.It(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=r.Ea.get(h);f&&r.Ea.set(h,f.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const f=r.Ea.get(c);if(!f)return;r.Ea.set(c,f.withResumeToken(Nr.EMPTY_BYTE_STRING,f.snapshotVersion)),h7(r,c);const p=new Xf(f.target,c,h,f.sequenceNumber);AL(r,p)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t)}catch(i){ct(jg,"Failed to raise snapshot:",i),await DS(n,i)}}async function DS(n,e,t){if(!f0(e))throw e;n.da.add(1),await ZE(n),n.Va.set("Offline"),t||(t=()=>o7(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ct(jg,"Retrying IndexedDB access"),await t(),n.da.delete(1),await gR(n)})}function f7(n,e){return e().catch(t=>DS(n,t,e))}async function yR(n){const e=nn(n),t=mm(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:cL;for(;Hme(e);)try{const s=await Ame(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,$me(e,s)}catch(s){await DS(e,s)}m7(e)&&p7(e)}function Hme(n){return Qg(n)&&n.Ia.length<10}function $me(n,e){n.Ia.push(e);const t=mm(n);t.N_()&&t.ea&&t.ta(e.mutations)}function m7(n){return Qg(n)&&!mm(n).O_()&&n.Ia.length>0}function p7(n){mm(n).start()}async function qme(n){mm(n).ia()}async function Gme(n){const e=mm(n);for(const t of n.Ia)e.ta(t.mutations)}async function Wme(n,e,t){const i=n.Ia.shift(),s=gL.from(i,e,t);await f7(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await yR(n)}async function Kme(n,e){e&&mm(n).ea&&await async function(i,s){if(function(a){return Mfe(a)&&a!==Be.ABORTED}(s.code)){const r=i.Ia.shift();mm(i).L_(),await f7(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await yR(i)}}(n,e),m7(n)&&p7(n)}async function PB(n,e){const t=nn(n);t.asyncQueue.verifyOperationInProgress(),ct(jg,"RemoteStore received new credentials");const i=Qg(t);t.da.add(3),await ZE(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await gR(t)}async function Yme(n,e){const t=nn(n);e?(t.da.delete(2),await gR(t)):e||(t.da.add(2),await ZE(t),t.Va.set("Unknown"))}function m0(n){return n.fa||(n.fa=function(t,i,s){const r=nn(t);return r.oa(),new Dme(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:Vme.bind(null,n),n_:Bme.bind(null,n),i_:zme.bind(null,n),Y_:Ume.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),SL(n)?TL(n):n.Va.set("Unknown")):(await n.fa.stop(),d7(n))})),n.fa}function mm(n){return n.ga||(n.ga=function(t,i,s){const r=nn(t);return r.oa(),new Nme(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:qme.bind(null,n),i_:Kme.bind(null,n),na:Gme.bind(null,n),ra:Wme.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await yR(n)):(await n.ga.stop(),n.Ia.length>0&&(ct(jg,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Vh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const a=Date.now()+i,l=new CL(e,t,a,s,r);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function RL(n,e){if(Gh("AsyncQueue",`${e}: ${n}`),f0(n))return new rt(Be.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{static emptySet(e){return new _v(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||It.comparator(t.key,i.key):(t,i)=>It.comparator(t.key,i.key),this.keyedMap=Ob(),this.sortedSet=new zi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _v)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new _v;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(){this.pa=new zi(It.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):$t(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class H_{constructor(e,t,i,s,r,a,l,c,h){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,t,i,s,r){const a=[];return t.forEach(l=>{a.push({type:0,doc:l})}),new H_(e,t,_v.emptySet(t),a,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zme{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Xme{constructor(){this.queries=DB(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=nn(t),r=s.queries;s.queries=DB(),r.forEach((a,l)=>{for(const c of l.Sa)c.onError(i)})})(this,new rt(Be.ABORTED,"Firestore shutting down"))}}function DB(){return new Xg(n=>O$(n),uR)}async function kL(n,e){const t=nn(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.Da()&&e.va()&&(i=2):(r=new Zme,i=e.va()?0:1);try{switch(i){case 0:r.ba=await t.onListen(s,!0);break;case 1:r.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(a){const l=RL(a,`Initialization of query '${$y(e.query)}' failed`);return void e.onError(l)}t.queries.set(s,r),r.Sa.push(e),e.Fa(t.onlineState),r.ba&&e.Ma(r.ba)&&PL(t)}async function ML(n,e){const t=nn(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?s=e.va()?0:1:!r.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Qme(n,e){const t=nn(n);let i=!1;for(const s of e){const r=s.query,a=t.queries.get(r);if(a){for(const l of a.Sa)l.Ma(s)&&(i=!0);a.ba=s}}i&&PL(t)}function Jme(n,e,t){const i=nn(n),s=i.queries.get(e);if(s)for(const r of s.Sa)r.onError(t);i.queries.delete(e)}function PL(n){n.Ca.forEach(e=>{e.next()})}var zP,NB;(NB=zP||(zP={})).xa="default",NB.Cache="cache";class IL{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new H_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=H_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==zP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.key=e}}class y7{constructor(e){this.key=e}}class epe{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kn(),this.mutatedKeys=kn(),this.Za=j$(e),this.Xa=new _v(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new IB,s=t?t.Xa:this.Xa;let r=t?t.mutatedKeys:this.mutatedKeys,a=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const v=s.get(f),w=hR(this.query,p)?p:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;v&&w?v.data.isEqual(w.data)?E!==S&&(i.track({type:3,doc:w}),C=!0):this.ru(v,w)||(i.track({type:2,doc:w}),C=!0,(c&&this.Za(w,c)>0||h&&this.Za(w,h)<0)&&(l=!0)):!v&&w?(i.track({type:0,doc:w}),C=!0):v&&!w&&(i.track({type:1,doc:v}),C=!0,(c||h)&&(l=!0)),C&&(w?(a=a.add(w),r=S?r.add(f):r.delete(f)):(a=a.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),r=r.delete(f.key),i.track({type:1,doc:f})}return{Xa:a,nu:i,Cs:l,mutatedKeys:r}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((f,p)=>function(w,E){const S=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t(20277,{Vt:C})}};return S(w)-S(E)}(f.type,p.type)||this.Za(f.doc,p.doc)),this.iu(i),s=s!=null&&s;const l=t&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,h=c!==this.Ja;return this.Ja=c,a.length!==0||h?{snapshot:new H_(this.query,e.Xa,r,a,e.mutatedKeys,c===0,h,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new IB,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=kn(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new y7(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new g7(i))}),t}au(e){this.Ha=e.$s,this.Ya=kn();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return H_.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const DL="SyncEngine";class tpe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class npe{constructor(e){this.key=e,this.cu=!1}}class ipe{constructor(e,t,i,s,r,a){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Xg(l=>O$(l),uR),this.Pu=new Map,this.Tu=new Set,this.Iu=new zi(It.comparator),this.Eu=new Map,this.du=new _L,this.Au={},this.Ru=new Map,this.Vu=U_.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function spe(n,e,t=!0){const i=E7(n);let s;const r=i.hu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.uu()):s=await v7(i,e,t,!0),s}async function rpe(n,e){const t=E7(n);await v7(t,e,!0,!1)}async function v7(n,e,t,i){const s=await Tme(n.localStore,gu(e)),r=s.targetId,a=n.sharedClientState.addLocalQueryTarget(r,t);let l;return i&&(l=await ape(n,e,r,a==="current",s.resumeToken)),n.isPrimaryClient&&t&&u7(n.remoteStore,s),l}async function ape(n,e,t,i,s){n.fu=(p,v,w)=>async function(S,C,k,N){let I=C.view.tu(k);I.Cs&&(I=await SB(S.localStore,C.query,!1).then(({documents:B})=>C.view.tu(B,I)));const z=N&&N.targetChanges.get(C.targetId),V=N&&N.targetMismatches.get(C.targetId)!=null,H=C.view.applyChanges(I,S.isPrimaryClient,z,V);return OB(S,C.targetId,H.ou),H.snapshot}(n,p,v,w);const r=await SB(n.localStore,e,!0),a=new epe(e,r.$s),l=a.tu(r.documents),c=YE.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),h=a.applyChanges(l,n.isPrimaryClient,c);OB(n,t,h.ou);const f=new tpe(e,t,a);return n.hu.set(e,f),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function ope(n,e,t){const i=nn(n),s=i.hu.get(e),r=i.Pu.get(s.targetId);if(r.length>1)return i.Pu.set(s.targetId,r.filter(a=>!uR(a,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await VP(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&EL(i.remoteStore,s.targetId),UP(i,s.targetId)}).catch(d0)):(UP(i,s.targetId),await VP(i.localStore,s.targetId,!0))}async function lpe(n,e){const t=nn(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),EL(t.remoteStore,i.targetId))}async function cpe(n,e,t){const i=gpe(n);try{const s=await function(a,l){const c=nn(a),h=Us.now(),f=l.reduce((w,E)=>w.add(E.key),kn());let p,v;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=Wh(),S=kn();return c.Bs.getEntries(w,f).next(C=>{E=C,E.forEach((k,N)=>{N.isValidDocument()||(S=S.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,E)).next(C=>{p=C;const k=[];for(const N of l){const I=Tfe(N,p.get(N.key).overlayedDocument);I!=null&&k.push(new Pm(N.key,I,k$(I.value.mapValue),dl.exists(!0)))}return c.mutationQueue.addMutationBatch(w,h,k,l)}).next(C=>{v=C;const k=C.applyToLocalDocumentSet(p,S);return c.documentOverlayCache.saveOverlays(w,C.batchId,k)})}).then(()=>({batchId:v.batchId,changes:V$(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(a,l,c){let h=a.Au[a.currentUser.toKey()];h||(h=new zi(pn)),h=h.insert(l,c),a.Au[a.currentUser.toKey()]=h}(i,s.batchId,t),await XE(i,s.changes),await yR(i.remoteStore)}catch(s){const r=RL(s,"Failed to persist write");t.reject(r)}}async function _7(n,e){const t=nn(n);try{const i=await xme(t.localStore,e);e.targetChanges.forEach((s,r)=>{const a=t.Eu.get(r);a&&(Jn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.cu=!0:s.modifiedDocuments.size>0?Jn(a.cu,14607):s.removedDocuments.size>0&&(Jn(a.cu,42227),a.cu=!1))}),await XE(t,i,e)}catch(i){await d0(i)}}function LB(n,e,t){const i=nn(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((r,a)=>{const l=a.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(a,l){const c=nn(a);c.onlineState=l;let h=!1;c.queries.forEach((f,p)=>{for(const v of p.Sa)v.Fa(l)&&(h=!0)}),h&&PL(c)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function upe(n,e,t){const i=nn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),r=s&&s.key;if(r){let a=new zi(It.comparator);a=a.insert(r,Kr.newNoDocument(r,Xt.min()));const l=kn().add(r),c=new mR(Xt.min(),new Map,new zi(pn),a,l);await _7(i,c),i.Iu=i.Iu.remove(r),i.Eu.delete(e),NL(i)}else await VP(i.localStore,e,!1).then(()=>UP(i,e,t)).catch(d0)}async function hpe(n,e){const t=nn(n),i=e.batch.batchId;try{const s=await wme(t.localStore,e);w7(t,i,null),b7(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await XE(t,s)}catch(s){await d0(s)}}async function dpe(n,e,t){const i=nn(n);try{const s=await function(a,l){const c=nn(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(p=>(Jn(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(i.localStore,e);w7(i,e,t),b7(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await XE(i,s)}catch(s){await d0(s)}}function b7(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function w7(n,e,t){const i=nn(n);let s=i.Au[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function UP(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||x7(n,i)})}function x7(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(EL(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),NL(n))}function OB(n,e,t){for(const i of t)i instanceof g7?(n.du.addReference(i.key,e),fpe(n,i)):i instanceof y7?(ct(DL,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||x7(n,i.key)):$t(19791,{pu:i})}function fpe(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ct(DL,"New document in limbo: "+t),n.Tu.add(i),NL(n))}function NL(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new It(xi.fromString(e)),i=n.Vu.next();n.Eu.set(i,new npe(t)),n.Iu=n.Iu.insert(t,i),u7(n.remoteStore,new Xf(gu(cR(t.path)),i,"TargetPurposeLimboResolution",rR.le))}}async function XE(n,e,t){const i=nn(n),s=[],r=[],a=[];i.hu.isEmpty()||(i.hu.forEach((l,c)=>{a.push(i.fu(c,e,t).then(h=>{var f;if((h||t)&&i.isPrimaryClient){const p=h?!h.fromCache:(f=t==null?void 0:t.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){s.push(h);const p=wL.Rs(c.targetId,h);r.push(p)}}))}),await Promise.all(a),i.lu.Y_(s),await async function(c,h){const f=nn(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>He.forEach(h,v=>He.forEach(v.ds,w=>f.persistence.referenceDelegate.addReference(p,v.targetId,w)).next(()=>He.forEach(v.As,w=>f.persistence.referenceDelegate.removeReference(p,v.targetId,w)))))}catch(p){if(!f0(p))throw p;ct(xL,"Failed to update sequence numbers: "+p)}for(const p of h){const v=p.targetId;if(!p.fromCache){const w=f.xs.get(v),E=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(E);f.xs=f.xs.insert(v,S)}}}(i.localStore,r))}async function mpe(n,e){const t=nn(n);if(!t.currentUser.isEqual(e)){ct(DL,"User change. New user:",e.toKey());const i=await a7(t.localStore,e);t.currentUser=e,function(r,a){r.Ru.forEach(l=>{l.forEach(c=>{c.reject(new rt(Be.CANCELLED,a))})}),r.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await XE(t,i.ks)}}function ppe(n,e){const t=nn(n),i=t.Eu.get(e);if(i&&i.cu)return kn().add(i.key);{let s=kn();const r=t.Pu.get(e);if(!r)return s;for(const a of r){const l=t.hu.get(a);s=s.unionWith(l.view.eu)}return s}}function E7(n){const e=nn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ppe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=upe.bind(null,e),e.lu.Y_=Qme.bind(null,e.eventManager),e.lu.gu=Jme.bind(null,e.eventManager),e}function gpe(n){const e=nn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hpe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dpe.bind(null,e),e}class NS{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pR(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return bme(this.persistence,new yme,e.initialUser,this.serializer)}Su(e){return new r7(bL.fi,this.serializer)}bu(e){return new Cme}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}NS.provider={build:()=>new NS};class ype extends NS{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Jn(this.persistence.referenceDelegate instanceof IS,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nme(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?Va.withCacheSize(this.cacheSizeBytes):Va.DEFAULT;return new r7(i=>IS.fi(i,t),this.serializer)}}class HP{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>LB(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mpe.bind(null,this.syncEngine),await Yme(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xme}()}createDatastore(e){const t=pR(e.databaseInfo.databaseId),i=function(r){return new Ime(r)}(e.databaseInfo);return function(r,a,l,c){return new Ome(r,a,l,c)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,a,l){return new Fme(i,s,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,t=>LB(this.syncEngine,t,0),function(){return kB.C()?new kB:new Rme}())}createSyncEngine(e,t){return function(s,r,a,l,c,h,f){const p=new ipe(s,r,a,l,c,h);return f&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=nn(s);ct(jg,"RemoteStore shutting down."),r.da.add(5),await ZE(r),r.Ra.shutdown(),r.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}HP.provider={build:()=>new HP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Gh("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="FirestoreClient";class vpe{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Wr.UNAUTHENTICATED,this.clientId=_$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async a=>{ct(pm,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(ct(pm,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=RL(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function mM(n,e){n.asyncQueue.verifyOperationInProgress(),ct(pm,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await a7(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function jB(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _pe(n);ct(pm,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>PB(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>PB(e.remoteStore,s)),n._onlineComponents=e}async function _pe(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(pm,"Using user provided OfflineComponentProvider");try{await mM(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Be.FAILED_PRECONDITION||s.code===Be.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;j_("Error using user provided cache. Falling back to memory cache: "+t),await mM(n,new NS)}}else ct(pm,"Using default OfflineComponentProvider"),await mM(n,new ype(void 0));return n._offlineComponents}async function A7(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(pm,"Using user provided OnlineComponentProvider"),await jB(n,n._uninitializedComponentsProvider._online)):(ct(pm,"Using default OnlineComponentProvider"),await jB(n,new HP))),n._onlineComponents}function bpe(n){return A7(n).then(e=>e.syncEngine)}async function LS(n){const e=await A7(n),t=e.eventManager;return t.onListen=spe.bind(null,e.syncEngine),t.onUnlisten=ope.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rpe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lpe.bind(null,e.syncEngine),t}function wpe(n,e,t={}){const i=new Vh;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const f=new LL({next:v=>{f.xu(),a.enqueueAndForget(()=>ML(r,p));const w=v.docs.has(l);!w&&v.fromCache?h.reject(new rt(Be.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&c&&c.source==="server"?h.reject(new rt(Be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new IL(cR(l.path),f,{includeMetadataChanges:!0,Qa:!0});return kL(r,p)}(await LS(n),n.asyncQueue,e,t,i)),i.promise}function xpe(n,e,t={}){const i=new Vh;return n.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,h){const f=new LL({next:v=>{f.xu(),a.enqueueAndForget(()=>ML(r,p)),v.fromCache&&c.source==="server"?h.reject(new rt(Be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new IL(l,f,{includeMetadataChanges:!0,Qa:!0});return kL(r,p)}(await LS(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(n,e,t){if(!t)throw new rt(Be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Epe(n,e,t,i){if(e===!0&&i===!0)throw new rt(Be.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VB(n){if(!It.isDocumentKey(n))throw new rt(Be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function BB(n){if(It.isDocumentKey(n))throw new rt(Be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vR(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$t(12329,{type:typeof n})}function Ua(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new rt(Be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vR(n);throw new rt(Be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ape(n,e){if(e<=0)throw new rt(Be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="firestore.googleapis.com",zB=!0;class UB{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(Be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C7,this.ssl=zB}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:zB;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eme)throw new rt(Be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Epe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T7((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Be.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _R{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(Be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UB(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Pde;switch(i.type){case"firstParty":return new Lde(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new rt(Be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=FB.get(t);i&&(ct("ComponentProvider","Removing Datastore"),FB.delete(t),i.terminate())}(this),Promise.resolve()}}function Tpe(n,e,t,i={}){var s;n=Ua(n,_R);const r=o0(e),a=n._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;r&&(wH(`https://${c}`),xH("Firestore",!0)),a.host!==C7&&a.host!==c&&j_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:r,emulatorOptions:i});if(!Dg(h,l)&&(n._setSettings(h),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Wr.MOCK_USER;else{f=Fle(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new rt(Be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Wr(v)}n._authCredentials=new Ide(new y$(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ku(this.firestore,e,this._query)}}class Xr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new im(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xr(this.firestore,e,this._key)}}class im extends ku{constructor(e,t,i){super(e,t,cR(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xr(this.firestore,null,new It(e))}withConverter(e){return new im(this.firestore,e,this._path)}}function fw(n,e,...t){if(n=ds(n),S7("collection","path",e),n instanceof _R){const i=xi.fromString(e,...t);return BB(i),new im(n,null,i)}{if(!(n instanceof Xr||n instanceof im))throw new rt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(e,...t));return BB(i),new im(n.firestore,null,i)}}function lc(n,e,...t){if(n=ds(n),arguments.length===1&&(e=_$.newId()),S7("doc","path",e),n instanceof _R){const i=xi.fromString(e,...t);return VB(i),new Xr(n,null,new It(i))}{if(!(n instanceof Xr||n instanceof im))throw new rt(Be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xi.fromString(e,...t));return VB(i),new Xr(n.firestore,n instanceof im?n.converter:null,new It(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HB="AsyncQueue";class $B{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new l7(this,"async_queue_retry"),this.rc=()=>{const i=fM();i&&ct(HB,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=fM();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=fM();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Vh;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!f0(e))throw e;ct(HB,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Gh("INTERNAL UNHANDLED ERROR: ",qB(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=CL.createAndSchedule(this,e,t,i,r=>this.uc(r));return this.Zu.push(s),s}oc(){this.Xu&&$t(47125,{cc:qB(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function qB(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(n,["next","error","complete"])}class Kh extends _R{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new $B,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $B(e),this._firestoreClient=void 0,await e}}}function Spe(n,e){const t=typeof n=="object"?n:SH(),i=typeof n=="string"?n:TS,s=JN(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=Ole("firestore");r&&Tpe(s,...r)}return s}function bR(n){if(n._terminated)throw new rt(Be.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Cpe(n),n._firestoreClient}function Cpe(n){var e,t,i;const s=n._freezeSettings(),r=function(l,c,h,f){return new Zde(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,T7(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new vpe(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $_(Nr.fromBase64String(e))}catch(t){throw new rt(Be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $_(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new rt(Be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rt(Be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rt(Be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rpe=/^__.*__$/;class kpe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Pm(e,this.data,this.fieldMask,t,this.fieldTransforms):new KE(e,this.data,t,this.fieldTransforms)}}class R7{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Pm(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function k7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t(40011,{Ic:n})}}class VL{constructor(e,t,i,s,r,a){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Ec(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new VL(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return OS(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(k7(this.Ic)&&Rpe.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Mpe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||pR(e)}bc(e,t,i,s=!1){return new VL({Ic:e,methodName:t,wc:i,path:Mr.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QE(n){const e=n._freezeSettings(),t=pR(n._databaseId);return new Mpe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function M7(n,e,t,i,s,r={}){const a=n.bc(r.merge||r.mergeFields?2:0,e,t,s);BL("Data must be an object, but it was:",a,i);const l=I7(i,a);let c,h;if(r.merge)c=new Do(a.fieldMask),h=a.fieldTransforms;else if(r.mergeFields){const f=[];for(const p of r.mergeFields){const v=$P(e,p,t);if(!a.contains(v))throw new rt(Be.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);N7(f,v)||f.push(v)}c=new Do(f),h=a.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=a.fieldTransforms;return new kpe(new Ba(l),c,h)}class xR extends OL{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xR}}function Ppe(n,e,t,i){const s=n.bc(1,e,t);BL("Data must be an object, but it was:",s,i);const r=[],a=Ba.empty();Mm(i,(c,h)=>{const f=zL(e,c,t);h=ds(h);const p=s.mc(f);if(h instanceof xR)r.push(f);else{const v=JE(h,p);v!=null&&(r.push(f),a.set(f,v))}});const l=new Do(r);return new R7(a,l,s.fieldTransforms)}function Ipe(n,e,t,i,s,r){const a=n.bc(1,e,t),l=[$P(e,i,t)],c=[s];if(r.length%2!=0)throw new rt(Be.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<r.length;v+=2)l.push($P(e,r[v])),c.push(r[v+1]);const h=[],f=Ba.empty();for(let v=l.length-1;v>=0;--v)if(!N7(h,l[v])){const w=l[v];let E=c[v];E=ds(E);const S=a.mc(w);if(E instanceof xR)h.push(w);else{const C=JE(E,S);C!=null&&(h.push(w),f.set(w,C))}}const p=new Do(h);return new R7(f,p,a.fieldTransforms)}function P7(n,e,t,i=!1){return JE(t,n.bc(i?4:3,e))}function JE(n,e){if(D7(n=ds(n)))return BL("Unsupported field value:",e,n),I7(n,e);if(n instanceof OL)return function(i,s){if(!k7(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const r=[];let a=0;for(const l of i){let c=JE(l,s.fc(a));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),a++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=ds(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _fe(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=Us.fromDate(i);return{timestampValue:PS(s.serializer,r)}}if(i instanceof Us){const r=new Us(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:PS(s.serializer,r)}}if(i instanceof jL)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $_)return{bytesValue:X$(s.serializer,i._byteString)};if(i instanceof Xr){const r=s.databaseId,a=i.firestore._databaseId;if(!a.isEqual(r))throw s.gc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:vL(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof FL)return function(a,l){return{mapValue:{fields:{[C$]:{stringValue:R$},[SS]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.gc("VectorValues must only contain numeric values.");return mL(l.serializer,h)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${vR(i)}`)}(n,e)}function I7(n,e){const t={};return w$(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mm(n,(i,s)=>{const r=JE(s,e.Ac(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function D7(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Us||n instanceof jL||n instanceof $_||n instanceof Xr||n instanceof OL||n instanceof FL)}function BL(n,e,t){if(!D7(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=vR(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function $P(n,e,t){if((e=ds(e))instanceof wR)return e._internalPath;if(typeof e=="string")return zL(n,e);throw OS("Field path arguments must be of type string or ",n,!1,void 0,t)}const Dpe=new RegExp("[~\\*/\\[\\]]");function zL(n,e,t){if(e.search(Dpe)>=0)throw OS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wR(...e.split("."))._internalPath}catch{throw OS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function OS(n,e,t,i,s){const r=i&&!i.isEmpty(),a=s!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||a)&&(c+=" (found",r&&(c+=` in field ${i}`),a&&(c+=` in document ${s}`),c+=")"),new rt(Be.INVALID_ARGUMENT,l+n+c)}function N7(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Xr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Npe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HL("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Npe extends UL{data(){return super.data()}}function HL(n,e){return typeof e=="string"?zL(n,e):e instanceof wR?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new rt(Be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $L{}class ER extends $L{}function pM(n,e,...t){let i=[];e instanceof $L&&i.push(e),i=i.concat(t),function(r){const a=r.filter(c=>c instanceof GL).length,l=r.filter(c=>c instanceof qL).length;if(a>1||a>0&&l>0)throw new rt(Be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class qL extends ER{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qL(e,t,i)}_apply(e){const t=this._parse(e);return O7(e._query,t),new ku(e.firestore,e.converter,NP(e._query,t))}_parse(e){const t=QE(e.firestore);return function(r,a,l,c,h,f,p){let v;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new rt(Be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){KB(p,f);const E=[];for(const S of p)E.push(WB(c,r,S));v={arrayValue:{values:E}}}else v=WB(c,r,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||KB(p,f),v=P7(l,a,p,f==="in"||f==="not-in");return Ts.create(h,f,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class GL extends $L{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new GL(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:dc.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let a=s;const l=r.getFlattenedFilters();for(const c of l)O7(a,c),a=NP(a,c)}(e._query,t),new ku(e.firestore,e.converter,NP(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class WL extends ER{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WL(e,t)}_apply(e){const t=function(s,r,a){if(s.startAt!==null)throw new rt(Be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new rt(Be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jw(r,a)}(e._query,this._field,this._direction);return new ku(e.firestore,e.converter,function(s,r){const a=s.explicitOrderBy.concat([r]);return new Zg(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function gM(n,e="asc"){const t=e,i=HL("orderBy",n);return WL._create(i,t)}class KL extends ER{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new KL(e,t,i)}_apply(e){return new ku(e.firestore,e.converter,RS(e._query,this._limit,this._limitType))}}function yM(n){return Ape("limit",n),KL._create("limit",n,"F")}class YL extends ER{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new YL(e,t,i)}_apply(e){const t=Ope(e,this.type,this._docOrFields,this._inclusive);return new ku(e.firestore,e.converter,function(s,r){return new Zg(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,r,s.endAt)}(e._query,t))}}function Lpe(...n){return YL._create("startAfter",n,!1)}function Ope(n,e,t,i){if(t[0]=ds(t[0]),t[0]instanceof UL)return function(r,a,l,c,h){if(!c)throw new rt(Be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const p of vv(r))if(p.field.isKeyField())f.push(CS(a,c.key));else{const v=c.data.field(p.field);if(oR(v))throw new rt(Be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const w=p.field.canonicalString();throw new rt(Be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}f.push(v)}return new z_(f,h)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=QE(n.firestore);return function(a,l,c,h,f,p){const v=a.explicitOrderBy;if(f.length>v.length)throw new rt(Be.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let E=0;E<f.length;E++){const S=f[E];if(v[E].field.isKeyField()){if(typeof S!="string")throw new rt(Be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof S}`);if(!fL(a)&&S.indexOf("/")!==-1)throw new rt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${S}' contains a slash.`);const C=a.path.child(xi.fromString(S));if(!It.isDocumentKey(C))throw new rt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${C}' is not because it contains an odd number of segments.`);const k=new It(C);w.push(CS(l,k))}else{const C=P7(c,h,S);w.push(C)}}return new z_(w,p)}(n._query,n.firestore._databaseId,s,e,t,i)}}function WB(n,e,t){if(typeof(t=ds(t))=="string"){if(t==="")throw new rt(Be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fL(e)&&t.indexOf("/")!==-1)throw new rt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xi.fromString(t));if(!It.isDocumentKey(i))throw new rt(Be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CS(n,new It(i))}if(t instanceof Xr)return CS(n,t._key);throw new rt(Be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vR(t)}.`)}function KB(n,e){if(!Array.isArray(n)||n.length===0)throw new rt(Be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O7(n,e){const t=function(s,r){for(const a of s)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new rt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(Be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jpe{convertValue(e,t="none"){switch(fm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(dm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $t(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Mm(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[SS].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(a=>cs(a.doubleValue));return new FL(r)}convertGeoPoint(e){return new jL(cs(e.latitude),cs(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=lR(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Nw(e));default:return null}}convertTimestamp(e){const t=hm(e);return new Us(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xi.fromString(e);Jn(i7(i),9688,{name:e});const s=new Lw(i.get(1),i.get(3)),r=new It(i.popFirst(5));return s.isEqual(t)||Gh(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class F7 extends UL{constructor(e,t,i,s,r,a){super(e,t,i,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(HL("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mT extends F7{data(e={}){return super.data(e)}}class V7{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fb(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mT(this._firestore,this._userDataWriter,i.key,i,new Fb(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new rt(Be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const c=new mT(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Fb(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new mT(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Fb(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Fpe(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Fpe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vpe(n){n=Ua(n,Xr);const e=Ua(n.firestore,Kh);return wpe(bR(e),n._key).then(t=>B7(e,n,t))}class ZL extends jpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new $_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xr(this.firestore,null,t)}}function Bpe(n){n=Ua(n,ku);const e=Ua(n.firestore,Kh),t=bR(e),i=new ZL(e);return L7(n._query),xpe(t,n._query).then(s=>new V7(e,i,n,s))}function YB(n,e,t){n=Ua(n,Xr);const i=Ua(n.firestore,Kh),s=j7(n.converter,e,t);return AR(i,[M7(QE(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,dl.none())])}function vp(n,e,t,...i){n=Ua(n,Xr);const s=Ua(n.firestore,Kh),r=QE(s);let a;return a=typeof(e=ds(e))=="string"||e instanceof wR?Ipe(r,"updateDoc",n._key,e,t,i):Ppe(r,"updateDoc",n._key,e),AR(s,[a.toMutation(n._key,dl.exists(!0))])}function zpe(n){return AR(Ua(n.firestore,Kh),[new pL(n._key,dl.none())])}function Upe(n,e){const t=Ua(n.firestore,Kh),i=lc(n),s=j7(n.converter,e);return AR(t,[M7(QE(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,dl.exists(!1))]).then(()=>i)}function qP(n,...e){var t,i,s;n=ds(n);let r={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||GB(e[a])||(r=e[a],a++);const l={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(GB(e[a])){const p=e[a];e[a]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[a+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[a+2]=(s=p.complete)===null||s===void 0?void 0:s.bind(p)}let c,h,f;if(n instanceof Xr)h=Ua(n.firestore,Kh),f=cR(n._key.path),c={next:p=>{e[a]&&e[a](B7(h,n,p))},error:e[a+1],complete:e[a+2]};else{const p=Ua(n,ku);h=Ua(p.firestore,Kh),f=p._query;const v=new ZL(h);c={next:w=>{e[a]&&e[a](new V7(h,v,p,w))},error:e[a+1],complete:e[a+2]},L7(n._query)}return function(v,w,E,S){const C=new LL(S),k=new IL(w,C,E);return v.asyncQueue.enqueueAndForget(async()=>kL(await LS(v),k)),()=>{C.xu(),v.asyncQueue.enqueueAndForget(async()=>ML(await LS(v),k))}}(bR(h),f,l,c)}function AR(n,e){return function(i,s){const r=new Vh;return i.asyncQueue.enqueueAndForget(async()=>cpe(await bpe(i),s,r)),r.promise}(bR(n),e)}function B7(n,e,t){const i=t.docs.get(e._key),s=new ZL(n);return new F7(n,s,e._key,i,new Fb(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){h0=s})(l0),L_(new Ng("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new Kh(new Dde(i.getProvider("auth-internal")),new Ode(a,i.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new rt(Be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lw(h.options.projectId,f)}(a,s),a);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),tm(ZV,XV,e),tm(ZV,XV,"esm2017")})();const Hpe={apiKey:"AIzaSyC0hVLhV4RjwqCdXAMKZX9mMrpYeEGh-aM",authDomain:"vazap-sync.firebaseapp.com",projectId:"vazap-sync",storageBucket:"vazap-sync.firebasestorage.app",messagingSenderId:"545375085918",appId:"1:545375085918:web:2a4c06f9e1023fc4075bcf",measurementId:"G-HDHGW9SLQ6"},z7=TH(Hpe),_a=Spe(z7),q_=kde(z7),Jg=P.createContext({});function $pe({children:n}){const e={status:"loading"},[t,i]=P.useState(e),s=qg();return P.useEffect(()=>{vhe(q_,r=>{r?r.getIdToken().then(a=>{i({...r,status:"connected",token:a})}):(i(null),s("/auth"))})},[]),b.jsx(Jg.Provider,{value:{user:t},children:n})}const eA="/assets/vazap-DYYQyowT.webp",qpe=[{title:"Painel",url:"#",icon:Dte,disabled:!0},{title:"Lojas",url:"/admin/stores",icon:hN},{title:"Atendentes",url:"#",icon:t0,disabled:!0},{title:"Configurações",url:"#",icon:Ene,disabled:!0}];function Gpe(){return b.jsx(Qae,{children:b.jsxs("div",{className:"flex items-center justify-between px-3 py-0 pt-3",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("img",{src:eA,alt:"Logo",width:45,style:{marginBottom:"-5px"}}),b.jsx("p",{className:"text-2xl font-bold",children:"VAZAP"})]}),b.jsx(pS,{})]})})}function Wpe({items:n}){return b.jsx(eoe,{className:"px-3",children:b.jsx(toe,{children:b.jsx(noe,{children:b.jsx(u8,{children:n.map(e=>b.jsx(h8,{children:e.disabled?b.jsx(FN,{delayDuration:100,children:b.jsxs(Gg,{children:[b.jsx(Wg,{asChild:!0,children:b.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground opacity-50 cursor-not-allowed px-3 py-2 rounded-md w-full",children:[b.jsx(e.icon,{size:18}),b.jsx("span",{children:e.title})]})}),b.jsx(Kg,{side:"right",children:b.jsx("span",{children:"Em breve"})})]})}):b.jsx(d8,{asChild:!0,children:b.jsxs("a",{href:e.url,children:[b.jsx(e.icon,{}),b.jsx("span",{children:e.title})]})})},e.title))})})})})}function Kpe(){const[n,e]=P.useState({}),{user:t}=P.useContext(Jg);return P.useEffect(()=>{if(t){const i=t.status==="loading"?"Carregando...":t.displayName||"Desconhecido",s=t.status==="loading"?"carregando...":t.email||"email@ex.com";e({name:i,email:s})}else e({name:"Desconectado",email:"email@ex.com"})},[t]),b.jsx(Jae,{className:"px-3",children:b.jsx(u8,{children:b.jsx(h8,{children:b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsxs(d8,{className:"py-1 h-auto rounded-md",children:[b.jsx(hte,{className:"!h-6 !w-6"}),b.jsxs("div",{children:[b.jsx("p",{children:n.name}),b.jsx("p",{className:"text-xs",children:n.email})]}),b.jsx(ite,{className:"ml-auto"})]})}),b.jsxs(td,{side:"top",children:[b.jsx(or,{children:b.jsxs("div",{className:"flex gap-2 items-center justify-start",children:[b.jsx(e0,{})," Conta"]})}),b.jsx(or,{children:b.jsxs("div",{className:"flex gap-2 items-center justify-start",children:[b.jsx(Zne,{})," Pagamentos"]})}),b.jsx(or,{variant:"destructive",onClick:()=>JH(q_),children:b.jsxs("div",{className:"flex gap-2 items-center justify-start",children:[b.jsx(NU,{className:"text-red-400"})," Sair"]})})]})]})})})})}function Ype(){return b.jsxs(Zae,{children:[b.jsx(Gpe,{}),b.jsx(Wpe,{items:qpe}),b.jsx(Kpe,{})]})}function Zpe(){return b.jsx("div",{className:"h-screen",children:b.jsxs(Yae,{children:[b.jsx(Ype,{}),b.jsx(soe,{})]})})}var TR="Collapsible",[Xpe,U7]=bl(TR),[Qpe,XL]=Xpe(TR),H7=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:i,defaultOpen:s,disabled:r,onOpenChange:a,...l}=n,[c,h]=Sm({prop:i,defaultProp:s??!1,onChange:a,caller:TR});return b.jsx(Qpe,{scope:t,disabled:r,contentId:oc(),open:c,onOpenToggle:P.useCallback(()=>h(f=>!f),[h]),children:b.jsx(Kn.div,{"data-state":JL(c),"data-disabled":r?"":void 0,...l,ref:e})})});H7.displayName=TR;var $7="CollapsibleTrigger",q7=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,...i}=n,s=XL($7,t);return b.jsx(Kn.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":JL(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:e,onClick:Ft(n.onClick,s.onOpenToggle)})});q7.displayName=$7;var QL="CollapsibleContent",G7=P.forwardRef((n,e)=>{const{forceMount:t,...i}=n,s=XL(QL,n.__scopeCollapsible);return b.jsx(gc,{present:t||s.open,children:({present:r})=>b.jsx(Jpe,{...i,ref:e,present:r})})});G7.displayName=QL;var Jpe=P.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:i,children:s,...r}=n,a=XL(QL,t),[l,c]=P.useState(i),h=P.useRef(null),f=Bi(e,h),p=P.useRef(0),v=p.current,w=P.useRef(0),E=w.current,S=a.open||l,C=P.useRef(S),k=P.useRef(void 0);return P.useEffect(()=>{const N=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(N)},[]),yl(()=>{const N=h.current;if(N){k.current=k.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const I=N.getBoundingClientRect();p.current=I.height,w.current=I.width,C.current||(N.style.transitionDuration=k.current.transitionDuration,N.style.animationName=k.current.animationName),c(i)}},[a.open,i]),b.jsx(Kn.div,{"data-state":JL(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!S,...r,ref:f,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...n.style},children:S&&s})});function JL(n){return n?"open":"closed"}var ege=H7,tge=q7,nge=G7,vc="Accordion",ige=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[eO,sge,rge]=BN(vc),[SR,nke]=bl(vc,[rge,U7]),tO=U7(),W7=xe.forwardRef((n,e)=>{const{type:t,...i}=n,s=i,r=i;return b.jsx(eO.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?b.jsx(cge,{...r,ref:e}):b.jsx(lge,{...s,ref:e})})});W7.displayName=vc;var[K7,age]=SR(vc),[Y7,oge]=SR(vc,{collapsible:!1}),lge=xe.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:s=()=>{},collapsible:r=!1,...a}=n,[l,c]=Sm({prop:t,defaultProp:i??"",onChange:s,caller:vc});return b.jsx(K7,{scope:n.__scopeAccordion,value:xe.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:xe.useCallback(()=>r&&c(""),[r,c]),children:b.jsx(Y7,{scope:n.__scopeAccordion,collapsible:r,children:b.jsx(Z7,{...a,ref:e})})})}),cge=xe.forwardRef((n,e)=>{const{value:t,defaultValue:i,onValueChange:s=()=>{},...r}=n,[a,l]=Sm({prop:t,defaultProp:i??[],onChange:s,caller:vc}),c=xe.useCallback(f=>l((p=[])=>[...p,f]),[l]),h=xe.useCallback(f=>l((p=[])=>p.filter(v=>v!==f)),[l]);return b.jsx(K7,{scope:n.__scopeAccordion,value:a,onItemOpen:c,onItemClose:h,children:b.jsx(Y7,{scope:n.__scopeAccordion,collapsible:!0,children:b.jsx(Z7,{...r,ref:e})})})}),[uge,CR]=SR(vc),Z7=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:i,dir:s,orientation:r="vertical",...a}=n,l=xe.useRef(null),c=Bi(l,e),h=sge(t),p=zN(s)==="ltr",v=Ft(n.onKeyDown,w=>{var j;if(!ige.includes(w.key))return;const E=w.target,S=h().filter(q=>{var Y;return!((Y=q.ref.current)!=null&&Y.disabled)}),C=S.findIndex(q=>q.ref.current===E),k=S.length;if(C===-1)return;w.preventDefault();let N=C;const I=0,z=k-1,V=()=>{N=C+1,N>z&&(N=I)},H=()=>{N=C-1,N<I&&(N=z)};switch(w.key){case"Home":N=I;break;case"End":N=z;break;case"ArrowRight":r==="horizontal"&&(p?V():H());break;case"ArrowDown":r==="vertical"&&V();break;case"ArrowLeft":r==="horizontal"&&(p?H():V());break;case"ArrowUp":r==="vertical"&&H();break}const B=N%k;(j=S[B].ref.current)==null||j.focus()});return b.jsx(uge,{scope:t,disabled:i,direction:s,orientation:r,children:b.jsx(eO.Slot,{scope:t,children:b.jsx(Kn.div,{...a,"data-orientation":r,ref:c,onKeyDown:i?void 0:v})})})}),jS="AccordionItem",[hge,nO]=SR(jS),X7=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,value:i,...s}=n,r=CR(jS,t),a=age(jS,t),l=tO(t),c=oc(),h=i&&a.value.includes(i)||!1,f=r.disabled||n.disabled;return b.jsx(hge,{scope:t,open:h,disabled:f,triggerId:c,children:b.jsx(ege,{"data-orientation":r.orientation,"data-state":nq(h),...l,...s,ref:e,disabled:f,open:h,onOpenChange:p=>{p?a.onItemOpen(i):a.onItemClose(i)}})})});X7.displayName=jS;var Q7="AccordionHeader",J7=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,s=CR(vc,t),r=nO(Q7,t);return b.jsx(Kn.h3,{"data-orientation":s.orientation,"data-state":nq(r.open),"data-disabled":r.disabled?"":void 0,...i,ref:e})});J7.displayName=Q7;var GP="AccordionTrigger",eq=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,s=CR(vc,t),r=nO(GP,t),a=oge(GP,t),l=tO(t);return b.jsx(eO.ItemSlot,{scope:t,children:b.jsx(tge,{"aria-disabled":r.open&&!a.collapsible||void 0,"data-orientation":s.orientation,id:r.triggerId,...l,...i,ref:e})})});eq.displayName=GP;var tq="AccordionContent",iO=xe.forwardRef((n,e)=>{const{__scopeAccordion:t,...i}=n,s=CR(vc,t),r=nO(tq,t),a=tO(t);return b.jsx(nge,{role:"region","aria-labelledby":r.triggerId,"data-orientation":s.orientation,...a,...i,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});iO.displayName=tq;function nq(n){return n?"open":"closed"}var dge=W7,fge=X7,mge=J7,pge=eq,gge=iO;function iq({...n}){return b.jsx(dge,{"data-slot":"accordion",...n})}function sq({className:n,...e}){return b.jsx(fge,{"data-slot":"accordion-item",className:tt("border-b last:border-b-0",n),...e})}function rq({className:n,children:e,...t}){return b.jsx(mge,{className:"flex",children:b.jsxs(pge,{"data-slot":"accordion-trigger",className:tt("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,b.jsx(NE,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function yge({className:n,children:e,...t}){return b.jsx(gge,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...t,children:b.jsx("div",{className:tt("pt-0 pb-4",n),children:e})})}const ou="https://backend-779792751824.us-central1.run.app",sO="https://stores.vazap.com.br";function aq(n,e){return function(){return n.apply(e,arguments)}}const{toString:vge}=Object.prototype,{getPrototypeOf:rO}=Object,{iterator:RR,toStringTag:oq}=Symbol,kR=(n=>e=>{const t=vge.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_c=n=>(n=n.toLowerCase(),e=>kR(e)===n),MR=n=>e=>typeof e===n,{isArray:p0}=Array,Bw=MR("undefined");function _ge(n){return n!==null&&!Bw(n)&&n.constructor!==null&&!Bw(n.constructor)&&Ha(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const lq=_c("ArrayBuffer");function bge(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&lq(n.buffer),e}const wge=MR("string"),Ha=MR("function"),cq=MR("number"),PR=n=>n!==null&&typeof n=="object",xge=n=>n===!0||n===!1,pT=n=>{if(kR(n)!=="object")return!1;const e=rO(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(oq in n)&&!(RR in n)},Ege=_c("Date"),Age=_c("File"),Tge=_c("Blob"),Sge=_c("FileList"),Cge=n=>PR(n)&&Ha(n.pipe),Rge=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Ha(n.append)&&((e=kR(n))==="formdata"||e==="object"&&Ha(n.toString)&&n.toString()==="[object FormData]"))},kge=_c("URLSearchParams"),[Mge,Pge,Ige,Dge]=["ReadableStream","Request","Response","Headers"].map(_c),Nge=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tA(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),p0(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),a=r.length;let l;for(i=0;i<a;i++)l=r[i],e.call(null,n[l],l,n)}}function uq(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const _p=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hq=n=>!Bw(n)&&n!==_p;function WP(){const{caseless:n}=hq(this)&&this||{},e={},t=(i,s)=>{const r=n&&uq(e,s)||s;pT(e[r])&&pT(i)?e[r]=WP(e[r],i):pT(i)?e[r]=WP({},i):p0(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&tA(arguments[i],t);return e}const Lge=(n,e,t,{allOwnKeys:i}={})=>(tA(e,(s,r)=>{t&&Ha(s)?n[r]=aq(s,t):n[r]=s},{allOwnKeys:i}),n),Oge=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),jge=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Fge=(n,e,t,i)=>{let s,r,a;const l={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)a=s[r],(!i||i(a,n,e))&&!l[a]&&(e[a]=n[a],l[a]=!0);n=t!==!1&&rO(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Vge=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Bge=n=>{if(!n)return null;if(p0(n))return n;let e=n.length;if(!cq(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},zge=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&rO(Uint8Array)),Uge=(n,e)=>{const i=(n&&n[RR]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},Hge=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},$ge=_c("HTMLFormElement"),qge=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),ZB=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Gge=_c("RegExp"),dq=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};tA(t,(s,r)=>{let a;(a=e(s,r,n))!==!1&&(i[r]=a||s)}),Object.defineProperties(n,i)},Wge=n=>{dq(n,(e,t)=>{if(Ha(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Ha(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Kge=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return p0(n)?i(n):i(String(n).split(e)),t},Yge=()=>{},Zge=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Xge(n){return!!(n&&Ha(n.append)&&n[oq]==="FormData"&&n[RR])}const Qge=n=>{const e=new Array(10),t=(i,s)=>{if(PR(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=p0(i)?[]:{};return tA(i,(a,l)=>{const c=t(a,s+1);!Bw(c)&&(r[l]=c)}),e[s]=void 0,r}}return i};return t(n,0)},Jge=_c("AsyncFunction"),eye=n=>n&&(PR(n)||Ha(n))&&Ha(n.then)&&Ha(n.catch),fq=((n,e)=>n?setImmediate:e?((t,i)=>(_p.addEventListener("message",({source:s,data:r})=>{s===_p&&r===t&&i.length&&i.shift()()},!1),s=>{i.push(s),_p.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ha(_p.postMessage)),tye=typeof queueMicrotask<"u"?queueMicrotask.bind(_p):typeof process<"u"&&process.nextTick||fq,nye=n=>n!=null&&Ha(n[RR]),Ie={isArray:p0,isArrayBuffer:lq,isBuffer:_ge,isFormData:Rge,isArrayBufferView:bge,isString:wge,isNumber:cq,isBoolean:xge,isObject:PR,isPlainObject:pT,isReadableStream:Mge,isRequest:Pge,isResponse:Ige,isHeaders:Dge,isUndefined:Bw,isDate:Ege,isFile:Age,isBlob:Tge,isRegExp:Gge,isFunction:Ha,isStream:Cge,isURLSearchParams:kge,isTypedArray:zge,isFileList:Sge,forEach:tA,merge:WP,extend:Lge,trim:Nge,stripBOM:Oge,inherits:jge,toFlatObject:Fge,kindOf:kR,kindOfTest:_c,endsWith:Vge,toArray:Bge,forEachEntry:Uge,matchAll:Hge,isHTMLForm:$ge,hasOwnProperty:ZB,hasOwnProp:ZB,reduceDescriptors:dq,freezeMethods:Wge,toObjectSet:Kge,toCamelCase:qge,noop:Yge,toFiniteNumber:Zge,findKey:uq,global:_p,isContextDefined:hq,isSpecCompliantForm:Xge,toJSONObject:Qge,isAsyncFn:Jge,isThenable:eye,setImmediate:fq,asap:tye,isIterable:nye};function rn(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}Ie.inherits(rn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const mq=rn.prototype,pq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{pq[n]={value:n}});Object.defineProperties(rn,pq);Object.defineProperty(mq,"isAxiosError",{value:!0});rn.from=(n,e,t,i,s,r)=>{const a=Object.create(mq);return Ie.toFlatObject(n,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),rn.call(a,n.message,e,t,i,s),a.cause=n,a.name=n.name,r&&Object.assign(a,r),a};const iye=null;function KP(n){return Ie.isPlainObject(n)||Ie.isArray(n)}function gq(n){return Ie.endsWith(n,"[]")?n.slice(0,-2):n}function XB(n,e,t){return n?n.concat(e).map(function(s,r){return s=gq(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function sye(n){return Ie.isArray(n)&&!n.some(KP)}const rye=Ie.toFlatObject(Ie,{},null,function(e){return/^is[A-Z]/.test(e)});function IR(n,e,t){if(!Ie.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ie.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,C){return!Ie.isUndefined(C[S])});const i=t.metaTokens,s=t.visitor||f,r=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(e);if(!Ie.isFunction(s))throw new TypeError("visitor must be a function");function h(E){if(E===null)return"";if(Ie.isDate(E))return E.toISOString();if(Ie.isBoolean(E))return E.toString();if(!c&&Ie.isBlob(E))throw new rn("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(E)||Ie.isTypedArray(E)?c&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function f(E,S,C){let k=E;if(E&&!C&&typeof E=="object"){if(Ie.endsWith(S,"{}"))S=i?S:S.slice(0,-2),E=JSON.stringify(E);else if(Ie.isArray(E)&&sye(E)||(Ie.isFileList(E)||Ie.endsWith(S,"[]"))&&(k=Ie.toArray(E)))return S=gq(S),k.forEach(function(I,z){!(Ie.isUndefined(I)||I===null)&&e.append(a===!0?XB([S],z,r):a===null?S:S+"[]",h(I))}),!1}return KP(E)?!0:(e.append(XB(C,S,r),h(E)),!1)}const p=[],v=Object.assign(rye,{defaultVisitor:f,convertValue:h,isVisitable:KP});function w(E,S){if(!Ie.isUndefined(E)){if(p.indexOf(E)!==-1)throw Error("Circular reference detected in "+S.join("."));p.push(E),Ie.forEach(E,function(k,N){(!(Ie.isUndefined(k)||k===null)&&s.call(e,k,Ie.isString(N)?N.trim():N,S,v))===!0&&w(k,S?S.concat(N):[N])}),p.pop()}}if(!Ie.isObject(n))throw new TypeError("data must be an object");return w(n),e}function QB(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function aO(n,e){this._pairs=[],n&&IR(n,this,e)}const yq=aO.prototype;yq.append=function(e,t){this._pairs.push([e,t])};yq.toString=function(e){const t=e?function(i){return e.call(this,i,QB)}:QB;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function aye(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function vq(n,e,t){if(!e)return n;const i=t&&t.encode||aye;Ie.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let r;if(s?r=s(e,t):r=Ie.isURLSearchParams(e)?e.toString():new aO(e,t).toString(i),r){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class JB{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ie.forEach(this.handlers,function(i){i!==null&&e(i)})}}const _q={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oye=typeof URLSearchParams<"u"?URLSearchParams:aO,lye=typeof FormData<"u"?FormData:null,cye=typeof Blob<"u"?Blob:null,uye={isBrowser:!0,classes:{URLSearchParams:oye,FormData:lye,Blob:cye},protocols:["http","https","file","blob","url","data"]},oO=typeof window<"u"&&typeof document<"u",YP=typeof navigator=="object"&&navigator||void 0,hye=oO&&(!YP||["ReactNative","NativeScript","NS"].indexOf(YP.product)<0),dye=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fye=oO&&window.location.href||"http://localhost",mye=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oO,hasStandardBrowserEnv:hye,hasStandardBrowserWebWorkerEnv:dye,navigator:YP,origin:fye},Symbol.toStringTag,{value:"Module"})),Yr={...mye,...uye};function pye(n,e){return IR(n,new Yr.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return Yr.isNode&&Ie.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function gye(n){return Ie.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yye(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function bq(n){function e(t,i,s,r){let a=t[r++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=r>=t.length;return a=!a&&Ie.isArray(s)?s.length:a,c?(Ie.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!l):((!s[a]||!Ie.isObject(s[a]))&&(s[a]=[]),e(t,i,s[a],r)&&Ie.isArray(s[a])&&(s[a]=yye(s[a])),!l)}if(Ie.isFormData(n)&&Ie.isFunction(n.entries)){const t={};return Ie.forEachEntry(n,(i,s)=>{e(gye(i),s,t,0)}),t}return null}function vye(n,e,t){if(Ie.isString(n))try{return(e||JSON.parse)(n),Ie.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const nA={transitional:_q,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=Ie.isObject(e);if(r&&Ie.isHTMLForm(e)&&(e=new FormData(e)),Ie.isFormData(e))return s?JSON.stringify(bq(e)):e;if(Ie.isArrayBuffer(e)||Ie.isBuffer(e)||Ie.isStream(e)||Ie.isFile(e)||Ie.isBlob(e)||Ie.isReadableStream(e))return e;if(Ie.isArrayBufferView(e))return e.buffer;if(Ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return pye(e,this.formSerializer).toString();if((l=Ie.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return IR(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),vye(e)):e}],transformResponse:[function(e){const t=this.transitional||nA.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Ie.isResponse(e)||Ie.isReadableStream(e))return e;if(e&&Ie.isString(e)&&(i&&!this.responseType||s)){const a=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(a)throw l.name==="SyntaxError"?rn.from(l,rn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yr.classes.FormData,Blob:Yr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],n=>{nA.headers[n]={}});const _ye=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bye=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(a){s=a.indexOf(":"),t=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!t||e[t]&&_ye[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},e5=Symbol("internals");function wb(n){return n&&String(n).trim().toLowerCase()}function gT(n){return n===!1||n==null?n:Ie.isArray(n)?n.map(gT):String(n)}function wye(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const xye=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function vM(n,e,t,i,s){if(Ie.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!Ie.isString(e)){if(Ie.isString(i))return e.indexOf(i)!==-1;if(Ie.isRegExp(i))return i.test(e)}}function Eye(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Aye(n,e){const t=Ie.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,a){return this[i].call(this,e,s,r,a)},configurable:!0})})}let $a=class{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(l,c,h){const f=wb(c);if(!f)throw new Error("header name must be a non-empty string");const p=Ie.findKey(s,f);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||c]=gT(l))}const a=(l,c)=>Ie.forEach(l,(h,f)=>r(h,f,c));if(Ie.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ie.isString(e)&&(e=e.trim())&&!xye(e))a(bye(e),t);else if(Ie.isObject(e)&&Ie.isIterable(e)){let l={},c,h;for(const f of e){if(!Ie.isArray(f))throw TypeError("Object iterator must return a key-value pair");l[h=f[0]]=(c=l[h])?Ie.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}a(l,t)}else e!=null&&r(t,e,i);return this}get(e,t){if(e=wb(e),e){const i=Ie.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return wye(s);if(Ie.isFunction(t))return t.call(this,s,i);if(Ie.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=wb(e),e){const i=Ie.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||vM(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(a){if(a=wb(a),a){const l=Ie.findKey(i,a);l&&(!t||vM(i,i[l],l,t))&&(delete i[l],s=!0)}}return Ie.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||vM(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return Ie.forEach(this,(s,r)=>{const a=Ie.findKey(i,r);if(a){t[a]=gT(s),delete t[r];return}const l=e?Eye(r):String(r).trim();l!==r&&delete t[r],t[l]=gT(s),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ie.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&Ie.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[e5]=this[e5]={accessors:{}}).accessors,s=this.prototype;function r(a){const l=wb(a);i[l]||(Aye(s,a),i[l]=!0)}return Ie.isArray(e)?e.forEach(r):r(e),this}};$a.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors($a.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Ie.freezeMethods($a);function _M(n,e){const t=this||nA,i=e||t,s=$a.from(i.headers);let r=i.data;return Ie.forEach(n,function(l){r=l.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function wq(n){return!!(n&&n.__CANCEL__)}function g0(n,e,t){rn.call(this,n??"canceled",rn.ERR_CANCELED,e,t),this.name="CanceledError"}Ie.inherits(g0,rn,{__CANCEL__:!0});function xq(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new rn("Request failed with status code "+t.status,[rn.ERR_BAD_REQUEST,rn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Tye(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Sye(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,a;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=i[r];a||(a=h),t[s]=c,i[s]=h;let p=r,v=0;for(;p!==s;)v+=t[p++],p=p%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),h-a<e)return;const w=f&&h-f;return w?Math.round(v*1e3/w):void 0}}function Cye(n,e){let t=0,i=1e3/e,s,r;const a=(h,f=Date.now())=>{t=f,s=null,r&&(clearTimeout(r),r=null),n.apply(null,h)};return[(...h)=>{const f=Date.now(),p=f-t;p>=i?a(h,f):(s=h,r||(r=setTimeout(()=>{r=null,a(s)},i-p)))},()=>s&&a(s)]}const FS=(n,e,t=3)=>{let i=0;const s=Sye(50,250);return Cye(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,c=a-i,h=s(c),f=a<=l;i=a;const p={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-a)/h:void 0,event:r,lengthComputable:l!=null,[e?"download":"upload"]:!0};n(p)},t)},t5=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},n5=n=>(...e)=>Ie.asap(()=>n(...e)),Rye=Yr.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Yr.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Yr.origin),Yr.navigator&&/(msie|trident)/i.test(Yr.navigator.userAgent)):()=>!0,kye=Yr.hasStandardBrowserEnv?{write(n,e,t,i,s,r){const a=[n+"="+encodeURIComponent(e)];Ie.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),Ie.isString(i)&&a.push("path="+i),Ie.isString(s)&&a.push("domain="+s),r===!0&&a.push("secure"),document.cookie=a.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mye(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Pye(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Eq(n,e,t){let i=!Mye(e);return n&&(i||t==!1)?Pye(n,e):e}const i5=n=>n instanceof $a?{...n}:n;function Fg(n,e){e=e||{};const t={};function i(h,f,p,v){return Ie.isPlainObject(h)&&Ie.isPlainObject(f)?Ie.merge.call({caseless:v},h,f):Ie.isPlainObject(f)?Ie.merge({},f):Ie.isArray(f)?f.slice():f}function s(h,f,p,v){if(Ie.isUndefined(f)){if(!Ie.isUndefined(h))return i(void 0,h,p,v)}else return i(h,f,p,v)}function r(h,f){if(!Ie.isUndefined(f))return i(void 0,f)}function a(h,f){if(Ie.isUndefined(f)){if(!Ie.isUndefined(h))return i(void 0,h)}else return i(void 0,f)}function l(h,f,p){if(p in e)return i(h,f);if(p in n)return i(void 0,h)}const c={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(h,f,p)=>s(i5(h),i5(f),p,!0)};return Ie.forEach(Object.keys(Object.assign({},n,e)),function(f){const p=c[f]||s,v=p(n[f],e[f],f);Ie.isUndefined(v)&&p!==l||(t[f]=v)}),t}const Aq=n=>{const e=Fg({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:a,auth:l}=e;e.headers=a=$a.from(a),e.url=vq(Eq(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ie.isFormData(t)){if(Yr.hasStandardBrowserEnv||Yr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[h,...f]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];a.setContentType([h||"multipart/form-data",...f].join("; "))}}if(Yr.hasStandardBrowserEnv&&(i&&Ie.isFunction(i)&&(i=i(e)),i||i!==!1&&Rye(e.url))){const h=s&&r&&kye.read(r);h&&a.set(s,h)}return e},Iye=typeof XMLHttpRequest<"u",Dye=Iye&&function(n){return new Promise(function(t,i){const s=Aq(n);let r=s.data;const a=$a.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=s,f,p,v,w,E;function S(){w&&w(),E&&E(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(s.method.toUpperCase(),s.url,!0),C.timeout=s.timeout;function k(){if(!C)return;const I=$a.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),V={data:!l||l==="text"||l==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:I,config:n,request:C};xq(function(B){t(B),S()},function(B){i(B),S()},V),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(i(new rn("Request aborted",rn.ECONNABORTED,n,C)),C=null)},C.onerror=function(){i(new rn("Network Error",rn.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let z=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const V=s.transitional||_q;s.timeoutErrorMessage&&(z=s.timeoutErrorMessage),i(new rn(z,V.clarifyTimeoutError?rn.ETIMEDOUT:rn.ECONNABORTED,n,C)),C=null},r===void 0&&a.setContentType(null),"setRequestHeader"in C&&Ie.forEach(a.toJSON(),function(z,V){C.setRequestHeader(V,z)}),Ie.isUndefined(s.withCredentials)||(C.withCredentials=!!s.withCredentials),l&&l!=="json"&&(C.responseType=s.responseType),h&&([v,E]=FS(h,!0),C.addEventListener("progress",v)),c&&C.upload&&([p,w]=FS(c),C.upload.addEventListener("progress",p),C.upload.addEventListener("loadend",w)),(s.cancelToken||s.signal)&&(f=I=>{C&&(i(!I||I.type?new g0(null,n,C):I),C.abort(),C=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const N=Tye(s.url);if(N&&Yr.protocols.indexOf(N)===-1){i(new rn("Unsupported protocol "+N+":",rn.ERR_BAD_REQUEST,n));return}C.send(r||null)})},Nye=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const r=function(h){if(!s){s=!0,l();const f=h instanceof Error?h:this.reason;i.abort(f instanceof rn?f:new g0(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,r(new rn(`timeout ${e} of ms exceeded`,rn.ETIMEDOUT))},e);const l=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(r):h.removeEventListener("abort",r)}),n=null)};n.forEach(h=>h.addEventListener("abort",r));const{signal:c}=i;return c.unsubscribe=()=>Ie.asap(l),c}},Lye=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},Oye=async function*(n,e){for await(const t of jye(n))yield*Lye(t,e)},jye=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},s5=(n,e,t,i)=>{const s=Oye(n,e);let r=0,a,l=c=>{a||(a=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await s.next();if(h){l(),c.close();return}let p=f.byteLength;if(t){let v=r+=p;t(v)}c.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},DR=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tq=DR&&typeof ReadableStream=="function",Fye=DR&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Sq=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Vye=Tq&&Sq(()=>{let n=!1;const e=new Request(Yr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),r5=64*1024,ZP=Tq&&Sq(()=>Ie.isReadableStream(new Response("").body)),VS={stream:ZP&&(n=>n.body)};DR&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!VS[e]&&(VS[e]=Ie.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new rn(`Response type '${e}' is not supported`,rn.ERR_NOT_SUPPORT,i)})})})(new Response);const Bye=async n=>{if(n==null)return 0;if(Ie.isBlob(n))return n.size;if(Ie.isSpecCompliantForm(n))return(await new Request(Yr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(n)||Ie.isArrayBuffer(n))return n.byteLength;if(Ie.isURLSearchParams(n)&&(n=n+""),Ie.isString(n))return(await Fye(n)).byteLength},zye=async(n,e)=>{const t=Ie.toFiniteNumber(n.getContentLength());return t??Bye(e)},Uye=DR&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:r,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:h,headers:f,withCredentials:p="same-origin",fetchOptions:v}=Aq(n);h=h?(h+"").toLowerCase():"text";let w=Nye([s,r&&r.toAbortSignal()],a),E;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(c&&Vye&&t!=="get"&&t!=="head"&&(C=await zye(f,i))!==0){let V=new Request(e,{method:"POST",body:i,duplex:"half"}),H;if(Ie.isFormData(i)&&(H=V.headers.get("content-type"))&&f.setContentType(H),V.body){const[B,j]=t5(C,FS(n5(c)));i=s5(V.body,r5,B,j)}}Ie.isString(p)||(p=p?"include":"omit");const k="credentials"in Request.prototype;E=new Request(e,{...v,signal:w,method:t.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:k?p:void 0});let N=await fetch(E,v);const I=ZP&&(h==="stream"||h==="response");if(ZP&&(l||I&&S)){const V={};["status","statusText","headers"].forEach(q=>{V[q]=N[q]});const H=Ie.toFiniteNumber(N.headers.get("content-length")),[B,j]=l&&t5(H,FS(n5(l),!0))||[];N=new Response(s5(N.body,r5,B,()=>{j&&j(),S&&S()}),V)}h=h||"text";let z=await VS[Ie.findKey(VS,h)||"text"](N,n);return!I&&S&&S(),await new Promise((V,H)=>{xq(V,H,{data:z,headers:$a.from(N.headers),status:N.status,statusText:N.statusText,config:n,request:E})})}catch(k){throw S&&S(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new rn("Network Error",rn.ERR_NETWORK,n,E),{cause:k.cause||k}):rn.from(k,k&&k.code,n,E)}}),XP={http:iye,xhr:Dye,fetch:Uye};Ie.forEach(XP,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const a5=n=>`- ${n}`,Hye=n=>Ie.isFunction(n)||n===null||n===!1,Cq={getAdapter:n=>{n=Ie.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let r=0;r<e;r++){t=n[r];let a;if(i=t,!Hye(t)&&(i=XP[(a=String(t)).toLowerCase()],i===void 0))throw new rn(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+r]=i}if(!i){const r=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?r.length>1?`since :
`+r.map(a5).join(`
`):" "+a5(r[0]):"as no adapter specified";throw new rn("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:XP};function bM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new g0(null,n)}function o5(n){return bM(n),n.headers=$a.from(n.headers),n.data=_M.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Cq.getAdapter(n.adapter||nA.adapter)(n).then(function(i){return bM(n),i.data=_M.call(n,n.transformResponse,i),i.headers=$a.from(i.headers),i},function(i){return wq(i)||(bM(n),i&&i.response&&(i.response.data=_M.call(n,n.transformResponse,i.response),i.response.headers=$a.from(i.response.headers))),Promise.reject(i)})}const Rq="1.10.0",NR={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{NR[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const l5={};NR.transitional=function(e,t,i){function s(r,a){return"[Axios v"+Rq+"] Transitional option '"+r+"'"+a+(i?". "+i:"")}return(r,a,l)=>{if(e===!1)throw new rn(s(a," has been removed"+(t?" in "+t:"")),rn.ERR_DEPRECATED);return t&&!l5[a]&&(l5[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,a,l):!0}};NR.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function $ye(n,e,t){if(typeof n!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const l=n[r],c=l===void 0||a(l,r,n);if(c!==!0)throw new rn("option "+r+" must be "+c,rn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new rn("Unknown option "+r,rn.ERR_BAD_OPTION)}}const yT={assertOptions:$ye,validators:NR},Nc=yT.validators;let Rg=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JB,response:new JB}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fg(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&yT.assertOptions(i,{silentJSONParsing:Nc.transitional(Nc.boolean),forcedJSONParsing:Nc.transitional(Nc.boolean),clarifyTimeoutError:Nc.transitional(Nc.boolean)},!1),s!=null&&(Ie.isFunction(s)?t.paramsSerializer={serialize:s}:yT.assertOptions(s,{encode:Nc.function,serialize:Nc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yT.assertOptions(t,{baseUrl:Nc.spelling("baseURL"),withXsrfToken:Nc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&Ie.merge(r.common,r[t.method]);r&&Ie.forEach(["delete","get","head","post","put","patch","common"],E=>{delete r[E]}),t.headers=$a.concat(a,r);const l=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(c=c&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let f,p=0,v;if(!c){const E=[o5.bind(this),void 0];for(E.unshift.apply(E,l),E.push.apply(E,h),v=E.length,f=Promise.resolve(t);p<v;)f=f.then(E[p++],E[p++]);return f}v=l.length;let w=t;for(p=0;p<v;){const E=l[p++],S=l[p++];try{w=E(w)}catch(C){S.call(this,C);break}}try{f=o5.call(this,w)}catch(E){return Promise.reject(E)}for(p=0,v=h.length;p<v;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=Fg(this.defaults,e);const t=Eq(e.baseURL,e.url,e.allowAbsoluteUrls);return vq(t,e.params,e.paramsSerializer)}};Ie.forEach(["delete","get","head","options"],function(e){Rg.prototype[e]=function(t,i){return this.request(Fg(i||{},{method:e,url:t,data:(i||{}).data}))}});Ie.forEach(["post","put","patch"],function(e){function t(i){return function(r,a,l){return this.request(Fg(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Rg.prototype[e]=t(),Rg.prototype[e+"Form"]=t(!0)});let qye=class kq{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const a=new Promise(l=>{i.subscribe(l),r=l}).then(s);return a.cancel=function(){i.unsubscribe(r)},a},e(function(r,a,l){i.reason||(i.reason=new g0(r,a,l),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kq(function(s){e=s}),cancel:e}}};function Gye(n){return function(t){return n.apply(null,t)}}function Wye(n){return Ie.isObject(n)&&n.isAxiosError===!0}const QP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QP).forEach(([n,e])=>{QP[e]=n});function Mq(n){const e=new Rg(n),t=aq(Rg.prototype.request,e);return Ie.extend(t,Rg.prototype,e,{allOwnKeys:!0}),Ie.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return Mq(Fg(n,s))},t}const Gn=Mq(nA);Gn.Axios=Rg;Gn.CanceledError=g0;Gn.CancelToken=qye;Gn.isCancel=wq;Gn.VERSION=Rq;Gn.toFormData=IR;Gn.AxiosError=rn;Gn.Cancel=Gn.CanceledError;Gn.all=function(e){return Promise.all(e)};Gn.spread=Gye;Gn.isAxiosError=Wye;Gn.mergeConfig=Fg;Gn.AxiosHeaders=$a;Gn.formToJSON=n=>bq(Ie.isHTMLForm(n)?new FormData(n):n);Gn.getAdapter=Cq.getAdapter;Gn.HttpStatusCode=QP;Gn.default=Gn;const{Axios:rke,AxiosError:ake,CanceledError:oke,isCancel:lke,CancelToken:cke,VERSION:uke,all:hke,Cancel:dke,isAxiosError:fke,spread:mke,toFormData:pke,AxiosHeaders:gke,HttpStatusCode:yke,formToJSON:vke,getAdapter:_ke,mergeConfig:bke}=Gn,iA=()=>({getStores:async r=>(await Gn.get(`${ou}/stores`,{params:{idToken:r}})).data.stores,createStore:async(r,a)=>{await Gn.post(`${ou}/stores`,{idToken:r,surname:a})},deleteStore:async(r,a)=>{await Gn.delete(`${ou}/store/${a}`,{params:{idToken:r}})},createStoreAttendant:async(r,a,l)=>{await Gn.post(`${ou}/store/${a}/attendants`,{idToken:r,name:l})},deleteStoreAttendant:async(r,a,l)=>{await Gn.delete(`${ou}/store/${a}/attendants/${l}`,{params:{idToken:r}})}}),sA=P.createContext({});function Kye({children:n}){const[e,t]=P.useState(!1),[i,s]=P.useState([]),{getStores:r}=iA(),a=l=>{!l||!l.token||(t(!0),r(l.token).then(c=>{s(c),t(!1)}))};return P.useEffect(()=>{console.log(i)},[i]),b.jsx(sA.Provider,{value:{stores:i,loading:e,setStores:s,fetchStores:a},children:n})}function Yye({message:n}){return b.jsxs("div",{className:"flex flex-col gap-2 justify-center items-center w-full h-full",children:[b.jsx(Dr,{className:"animate-spin"}),b.jsx("p",{children:n})]})}function Zye({title:n}){return b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx(Xae,{}),b.jsx("h1",{className:"text-2xl font-bold",children:n})]})}function LR({...n}){return b.jsx(bN,{"data-slot":"dialog",...n})}function Pq({...n}){return b.jsx(k9,{"data-slot":"dialog-trigger",...n})}function Xye({...n}){return b.jsx(wN,{"data-slot":"dialog-portal",...n})}function Iq({...n}){return b.jsx(OE,{"data-slot":"dialog-close",...n})}function Qye({className:n,...e}){return b.jsx(xN,{"data-slot":"dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function OR({className:n,children:e,showCloseButton:t=!0,...i}){return b.jsxs(Xye,{"data-slot":"dialog-portal",children:[b.jsx(Qye,{}),b.jsxs(EN,{"data-slot":"dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...i,children:[e,t&&b.jsxs(OE,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[b.jsx(n0,{}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Jye({className:n,...e}){return b.jsx("div",{"data-slot":"dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function eve({className:n,...e}){return b.jsx("div",{"data-slot":"dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function jR({className:n,...e}){return b.jsx(AN,{"data-slot":"dialog-title",className:tt("text-lg leading-none font-semibold",n),...e})}function tve({className:n,...e}){return b.jsx(TN,{"data-slot":"dialog-description",className:tt("text-muted-foreground text-sm",n),...e})}var nve="Label",Dq=P.forwardRef((n,e)=>b.jsx(Kn.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Dq.displayName=nve;var ive=Dq,rA=n=>n.type==="checkbox",bp=n=>n instanceof Date,va=n=>n==null;const Nq=n=>typeof n=="object";var hs=n=>!va(n)&&!Array.isArray(n)&&Nq(n)&&!bp(n),Lq=n=>hs(n)&&n.target?rA(n.target)?n.target.checked:n.target.value:n,sve=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,Oq=(n,e)=>n.has(sve(e)),rve=n=>{const e=n.constructor&&n.constructor.prototype;return hs(e)&&e.hasOwnProperty("isPrototypeOf")},lO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function _r(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(lO&&(n instanceof Blob||i))&&(t||hs(n)))if(e=t?[]:{},!t&&!rve(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=_r(n[s]));else return n;return e}var FR=n=>/^\w*$/.test(n),us=n=>n===void 0,cO=n=>Array.isArray(n)?n.filter(Boolean):[],uO=n=>cO(n.replace(/["|']|\]/g,"").split(/\.|\[/)),st=(n,e,t)=>{if(!e||!hs(n))return t;const i=(FR(e)?[e]:uO(e)).reduce((s,r)=>va(s)?s:s[r],n);return us(i)||i===n?us(n[e])?t:n[e]:i},Ro=n=>typeof n=="boolean",Qn=(n,e,t)=>{let i=-1;const s=FR(e)?[e]:uO(e),r=s.length,a=r-1;for(;++i<r;){const l=s[i];let c=t;if(i!==a){const h=n[l];c=hs(h)||Array.isArray(h)?h:isNaN(+s[i+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;n[l]=c,n=n[l]}};const BS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hO=xe.createContext(null);hO.displayName="HookFormContext";const VR=()=>xe.useContext(hO),ave=n=>{const{children:e,...t}=n;return xe.createElement(hO.Provider,{value:t},e)};var jq=(n,e,t,i=!0)=>{const s={defaultValues:e._defaultValues};for(const r in n)Object.defineProperty(s,r,{get:()=>{const a=r;return e._proxyFormState[a]!==Xl.all&&(e._proxyFormState[a]=!i||Xl.all),t&&(t[a]=!0),n[a]}});return s};const dO=typeof window<"u"?P.useLayoutEffect:P.useEffect;function Fq(n){const e=VR(),{control:t=e.control,disabled:i,name:s,exact:r}=n||{},[a,l]=xe.useState(t._formState),c=xe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return dO(()=>t._subscribe({name:s,formState:c.current,exact:r,callback:h=>{!i&&l({...t._formState,...h})}}),[s,i,r]),xe.useEffect(()=>{c.current.isValid&&t._setValid(!0)},[t]),xe.useMemo(()=>jq(a,t,c.current,!1),[a,t])}var uu=n=>typeof n=="string",Vq=(n,e,t,i,s)=>uu(n)?(i&&e.watch.add(n),st(t,n,s)):Array.isArray(n)?n.map(r=>(i&&e.watch.add(r),st(t,r))):(i&&(e.watchAll=!0),t);function ove(n){const e=VR(),{control:t=e.control,name:i,defaultValue:s,disabled:r,exact:a}=n||{},l=xe.useRef(s),[c,h]=xe.useState(t._getWatch(i,l.current));return dO(()=>t._subscribe({name:i,formState:{values:!0},exact:a,callback:f=>!r&&h(Vq(i,t._names,f.values||t._formValues,!1,l.current))}),[i,t,r,a]),xe.useEffect(()=>t._removeUnmounted()),c}function lve(n){const e=VR(),{name:t,disabled:i,control:s=e.control,shouldUnregister:r}=n,a=Oq(s._names.array,t),l=ove({control:s,name:t,defaultValue:st(s._formValues,t,st(s._defaultValues,t,n.defaultValue)),exact:!0}),c=Fq({control:s,name:t,exact:!0}),h=xe.useRef(n),f=xe.useRef(s.register(t,{...n.rules,value:l,...Ro(n.disabled)?{disabled:n.disabled}:{}})),p=xe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!st(c.errors,t)},isDirty:{enumerable:!0,get:()=>!!st(c.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!st(c.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!st(c.validatingFields,t)},error:{enumerable:!0,get:()=>st(c.errors,t)}}),[c,t]),v=xe.useCallback(C=>f.current.onChange({target:{value:Lq(C),name:t},type:BS.CHANGE}),[t]),w=xe.useCallback(()=>f.current.onBlur({target:{value:st(s._formValues,t),name:t},type:BS.BLUR}),[t,s._formValues]),E=xe.useCallback(C=>{const k=st(s._fields,t);k&&C&&(k._f.ref={focus:()=>C.focus&&C.focus(),select:()=>C.select&&C.select(),setCustomValidity:N=>C.setCustomValidity(N),reportValidity:()=>C.reportValidity()})},[s._fields,t]),S=xe.useMemo(()=>({name:t,value:l,...Ro(i)||c.disabled?{disabled:c.disabled||i}:{},onChange:v,onBlur:w,ref:E}),[t,i,c.disabled,v,w,E,l]);return xe.useEffect(()=>{const C=s._options.shouldUnregister||r;s.register(t,{...h.current.rules,...Ro(h.current.disabled)?{disabled:h.current.disabled}:{}});const k=(N,I)=>{const z=st(s._fields,N);z&&z._f&&(z._f.mount=I)};if(k(t,!0),C){const N=_r(st(s._options.defaultValues,t));Qn(s._defaultValues,t,N),us(st(s._formValues,t))&&Qn(s._formValues,t,N)}return!a&&s.register(t),()=>{(a?C&&!s._state.action:C)?s.unregister(t):k(t,!1)}},[t,s,a,r]),xe.useEffect(()=>{s._setDisabledField({disabled:i,name:t})},[i,t,s]),xe.useMemo(()=>({field:S,formState:c,fieldState:p}),[S,c,p])}const cve=n=>n.render(lve(n));var fO=(n,e,t,i,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:s||!0}}:{},mw=n=>Array.isArray(n)?n:[n],c5=()=>{let n=[];return{get observers(){return n},next:s=>{for(const r of n)r.next&&r.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(r=>r!==s)}}),unsubscribe:()=>{n=[]}}},JP=n=>va(n)||!Nq(n);function af(n,e){if(JP(n)||JP(e))return n===e;if(bp(n)&&bp(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const s of t){const r=n[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(bp(r)&&bp(a)||hs(r)&&hs(a)||Array.isArray(r)&&Array.isArray(a)?!af(r,a):r!==a)return!1}}return!0}var Oa=n=>hs(n)&&!Object.keys(n).length,mO=n=>n.type==="file",Ql=n=>typeof n=="function",zS=n=>{if(!lO)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Bq=n=>n.type==="select-multiple",pO=n=>n.type==="radio",uve=n=>pO(n)||rA(n),wM=n=>zS(n)&&n.isConnected;function hve(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=us(n)?i++:n[e[i++]];return n}function dve(n){for(const e in n)if(n.hasOwnProperty(e)&&!us(n[e]))return!1;return!0}function Os(n,e){const t=Array.isArray(e)?e:FR(e)?[e]:uO(e),i=t.length===1?n:hve(n,t),s=t.length-1,r=t[s];return i&&delete i[r],s!==0&&(hs(i)&&Oa(i)||Array.isArray(i)&&dve(i))&&Os(n,t.slice(0,-1)),n}var zq=n=>{for(const e in n)if(Ql(n[e]))return!0;return!1};function US(n,e={}){const t=Array.isArray(n);if(hs(n)||t)for(const i in n)Array.isArray(n[i])||hs(n[i])&&!zq(n[i])?(e[i]=Array.isArray(n[i])?[]:{},US(n[i],e[i])):va(n[i])||(e[i]=!0);return e}function Uq(n,e,t){const i=Array.isArray(n);if(hs(n)||i)for(const s in n)Array.isArray(n[s])||hs(n[s])&&!zq(n[s])?us(e)||JP(t[s])?t[s]=Array.isArray(n[s])?US(n[s],[]):{...US(n[s])}:Uq(n[s],va(e)?{}:e[s],t[s]):t[s]=!af(n[s],e[s]);return t}var xb=(n,e)=>Uq(n,e,US(e));const u5={value:!1,isValid:!1},h5={value:!0,isValid:!0};var Hq=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!us(n[0].attributes.value)?us(n[0].value)||n[0].value===""?h5:{value:n[0].value,isValid:!0}:h5:u5}return u5},$q=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>us(n)?n:e?n===""?NaN:n&&+n:t&&uu(n)?new Date(n):i?i(n):n;const d5={isValid:!1,value:null};var qq=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,d5):d5;function f5(n){const e=n.ref;return mO(e)?e.files:pO(e)?qq(n.refs).value:Bq(e)?[...e.selectedOptions].map(({value:t})=>t):rA(e)?Hq(n.refs).value:$q(us(e.value)?n.ref.value:e.value,n)}var fve=(n,e,t,i)=>{const s={};for(const r of n){const a=st(e,r);a&&Qn(s,r,a._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:i}},HS=n=>n instanceof RegExp,Eb=n=>us(n)?n:HS(n)?n.source:hs(n)?HS(n.value)?n.value.source:n.value:n,m5=n=>({isOnSubmit:!n||n===Xl.onSubmit,isOnBlur:n===Xl.onBlur,isOnChange:n===Xl.onChange,isOnAll:n===Xl.all,isOnTouch:n===Xl.onTouched});const p5="AsyncFunction";var mve=n=>!!n&&!!n.validate&&!!(Ql(n.validate)&&n.validate.constructor.name===p5||hs(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===p5)),pve=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),g5=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const pw=(n,e,t,i)=>{for(const s of t||Object.keys(n)){const r=st(n,s);if(r){const{_f:a,...l}=r;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],s)&&!i)return!0;if(a.ref&&e(a.ref,a.name)&&!i)return!0;if(pw(l,e))break}else if(hs(l)&&pw(l,e))break}}};function y5(n,e,t){const i=st(n,t);if(i||FR(t))return{error:i,name:t};const s=t.split(".");for(;s.length;){const r=s.join("."),a=st(e,r),l=st(n,r);if(a&&!Array.isArray(a)&&t!==r)return{name:t};if(l&&l.type)return{name:r,error:l};if(l&&l.root&&l.root.type)return{name:`${r}.root`,error:l.root};s.pop()}return{name:t}}var gve=(n,e,t,i)=>{t(n);const{name:s,...r}=n;return Oa(r)||Object.keys(r).length>=Object.keys(e).length||Object.keys(r).find(a=>e[a]===(!i||Xl.all))},yve=(n,e,t)=>!n||!e||n===e||mw(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),vve=(n,e,t,i,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?i.isOnBlur:s.isOnBlur)?!n:(t?i.isOnChange:s.isOnChange)?n:!0,_ve=(n,e)=>!cO(st(n,e)).length&&Os(n,e),bve=(n,e,t)=>{const i=mw(st(n,t));return Qn(i,"root",e[t]),Qn(n,t,i),n},vT=n=>uu(n);function v5(n,e,t="validate"){if(vT(n)||Array.isArray(n)&&n.every(vT)||Ro(n)&&!n)return{type:t,message:vT(n)?n:"",ref:e}}var zy=n=>hs(n)&&!HS(n)?n:{value:n,message:""},_5=async(n,e,t,i,s,r)=>{const{ref:a,refs:l,required:c,maxLength:h,minLength:f,min:p,max:v,pattern:w,validate:E,name:S,valueAsNumber:C,mount:k}=n._f,N=st(t,S);if(!k||e.has(S))return{};const I=l?l[0]:a,z=ne=>{s&&I.reportValidity&&(I.setCustomValidity(Ro(ne)?"":ne||""),I.reportValidity())},V={},H=pO(a),B=rA(a),j=H||B,q=(C||mO(a))&&us(a.value)&&us(N)||zS(a)&&a.value===""||N===""||Array.isArray(N)&&!N.length,Y=fO.bind(null,S,i,V),Z=(ne,Q,_e,Le=Qu.maxLength,ee=Qu.minLength)=>{const se=ne?Q:_e;V[S]={type:ne?Le:ee,message:se,ref:a,...Y(ne?Le:ee,se)}};if(r?!Array.isArray(N)||!N.length:c&&(!j&&(q||va(N))||Ro(N)&&!N||B&&!Hq(l).isValid||H&&!qq(l).isValid)){const{value:ne,message:Q}=vT(c)?{value:!!c,message:c}:zy(c);if(ne&&(V[S]={type:Qu.required,message:Q,ref:I,...Y(Qu.required,Q)},!i))return z(Q),V}if(!q&&(!va(p)||!va(v))){let ne,Q;const _e=zy(v),Le=zy(p);if(!va(N)&&!isNaN(N)){const ee=a.valueAsNumber||N&&+N;va(_e.value)||(ne=ee>_e.value),va(Le.value)||(Q=ee<Le.value)}else{const ee=a.valueAsDate||new Date(N),se=J=>new Date(new Date().toDateString()+" "+J),ie=a.type=="time",Te=a.type=="week";uu(_e.value)&&N&&(ne=ie?se(N)>se(_e.value):Te?N>_e.value:ee>new Date(_e.value)),uu(Le.value)&&N&&(Q=ie?se(N)<se(Le.value):Te?N<Le.value:ee<new Date(Le.value))}if((ne||Q)&&(Z(!!ne,_e.message,Le.message,Qu.max,Qu.min),!i))return z(V[S].message),V}if((h||f)&&!q&&(uu(N)||r&&Array.isArray(N))){const ne=zy(h),Q=zy(f),_e=!va(ne.value)&&N.length>+ne.value,Le=!va(Q.value)&&N.length<+Q.value;if((_e||Le)&&(Z(_e,ne.message,Q.message),!i))return z(V[S].message),V}if(w&&!q&&uu(N)){const{value:ne,message:Q}=zy(w);if(HS(ne)&&!N.match(ne)&&(V[S]={type:Qu.pattern,message:Q,ref:a,...Y(Qu.pattern,Q)},!i))return z(Q),V}if(E){if(Ql(E)){const ne=await E(N,t),Q=v5(ne,I);if(Q&&(V[S]={...Q,...Y(Qu.validate,Q.message)},!i))return z(Q.message),V}else if(hs(E)){let ne={};for(const Q in E){if(!Oa(ne)&&!i)break;const _e=v5(await E[Q](N,t),I,Q);_e&&(ne={..._e,...Y(Q,_e.message)},z(_e.message),i&&(V[S]=ne))}if(!Oa(ne)&&(V[S]={ref:I,...ne},!i))return V}}return z(!0),V};const wve={mode:Xl.onSubmit,reValidateMode:Xl.onChange,shouldFocusError:!0};function xve(n={}){let e={...wve,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ql(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let s=hs(e.defaultValues)||hs(e.values)?_r(e.defaultValues||e.values)||{}:{},r=e.shouldUnregister?{}:_r(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const v={array:c5(),state:c5()},w=e.criteriaMode===Xl.all,E=oe=>be=>{clearTimeout(h),h=setTimeout(oe,be)},S=async oe=>{if(!e.disabled&&(f.isValid||p.isValid||oe)){const be=e.resolver?Oa((await B()).errors):await q(i,!0);be!==t.isValid&&v.state.next({isValid:be})}},C=(oe,be)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((oe||Array.from(l.mount)).forEach(Ce=>{Ce&&(be?Qn(t.validatingFields,Ce,be):Os(t.validatingFields,Ce))}),v.state.next({validatingFields:t.validatingFields,isValidating:!Oa(t.validatingFields)}))},k=(oe,be=[],Ce,Ke,fe=!0,Ae=!0)=>{if(Ke&&Ce&&!e.disabled){if(a.action=!0,Ae&&Array.isArray(st(i,oe))){const Oe=Ce(st(i,oe),Ke.argA,Ke.argB);fe&&Qn(i,oe,Oe)}if(Ae&&Array.isArray(st(t.errors,oe))){const Oe=Ce(st(t.errors,oe),Ke.argA,Ke.argB);fe&&Qn(t.errors,oe,Oe),_ve(t.errors,oe)}if((f.touchedFields||p.touchedFields)&&Ae&&Array.isArray(st(t.touchedFields,oe))){const Oe=Ce(st(t.touchedFields,oe),Ke.argA,Ke.argB);fe&&Qn(t.touchedFields,oe,Oe)}(f.dirtyFields||p.dirtyFields)&&(t.dirtyFields=xb(s,r)),v.state.next({name:oe,isDirty:Z(oe,be),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Qn(r,oe,be)},N=(oe,be)=>{Qn(t.errors,oe,be),v.state.next({errors:t.errors})},I=oe=>{t.errors=oe,v.state.next({errors:t.errors,isValid:!1})},z=(oe,be,Ce,Ke)=>{const fe=st(i,oe);if(fe){const Ae=st(r,oe,us(Ce)?st(s,oe):Ce);us(Ae)||Ke&&Ke.defaultChecked||be?Qn(r,oe,be?Ae:f5(fe._f)):_e(oe,Ae),a.mount&&S()}},V=(oe,be,Ce,Ke,fe)=>{let Ae=!1,Oe=!1;const Xe={name:oe};if(!e.disabled){if(!Ce||Ke){(f.isDirty||p.isDirty)&&(Oe=t.isDirty,t.isDirty=Xe.isDirty=Z(),Ae=Oe!==Xe.isDirty);const Rt=af(st(s,oe),be);Oe=!!st(t.dirtyFields,oe),Rt?Os(t.dirtyFields,oe):Qn(t.dirtyFields,oe,!0),Xe.dirtyFields=t.dirtyFields,Ae=Ae||(f.dirtyFields||p.dirtyFields)&&Oe!==!Rt}if(Ce){const Rt=st(t.touchedFields,oe);Rt||(Qn(t.touchedFields,oe,Ce),Xe.touchedFields=t.touchedFields,Ae=Ae||(f.touchedFields||p.touchedFields)&&Rt!==Ce)}Ae&&fe&&v.state.next(Xe)}return Ae?Xe:{}},H=(oe,be,Ce,Ke)=>{const fe=st(t.errors,oe),Ae=(f.isValid||p.isValid)&&Ro(be)&&t.isValid!==be;if(e.delayError&&Ce?(c=E(()=>N(oe,Ce)),c(e.delayError)):(clearTimeout(h),c=null,Ce?Qn(t.errors,oe,Ce):Os(t.errors,oe)),(Ce?!af(fe,Ce):fe)||!Oa(Ke)||Ae){const Oe={...Ke,...Ae&&Ro(be)?{isValid:be}:{},errors:t.errors,name:oe};t={...t,...Oe},v.state.next(Oe)}},B=async oe=>{C(oe,!0);const be=await e.resolver(r,e.context,fve(oe||l.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return C(oe),be},j=async oe=>{const{errors:be}=await B(oe);if(oe)for(const Ce of oe){const Ke=st(be,Ce);Ke?Qn(t.errors,Ce,Ke):Os(t.errors,Ce)}else t.errors=be;return be},q=async(oe,be,Ce={valid:!0})=>{for(const Ke in oe){const fe=oe[Ke];if(fe){const{_f:Ae,...Oe}=fe;if(Ae){const Xe=l.array.has(Ae.name),Rt=fe._f&&mve(fe._f);Rt&&f.validatingFields&&C([Ke],!0);const sn=await _5(fe,l.disabled,r,w,e.shouldUseNativeValidation&&!be,Xe);if(Rt&&f.validatingFields&&C([Ke]),sn[Ae.name]&&(Ce.valid=!1,be))break;!be&&(st(sn,Ae.name)?Xe?bve(t.errors,sn,Ae.name):Qn(t.errors,Ae.name,sn[Ae.name]):Os(t.errors,Ae.name))}!Oa(Oe)&&await q(Oe,be,Ce)}}return Ce.valid},Y=()=>{for(const oe of l.unMount){const be=st(i,oe);be&&(be._f.refs?be._f.refs.every(Ce=>!wM(Ce)):!wM(be._f.ref))&&We(oe)}l.unMount=new Set},Z=(oe,be)=>!e.disabled&&(oe&&be&&Qn(r,oe,be),!af(J(),s)),ne=(oe,be,Ce)=>Vq(oe,l,{...a.mount?r:us(be)?s:uu(oe)?{[oe]:be}:be},Ce,be),Q=oe=>cO(st(a.mount?r:s,oe,e.shouldUnregister?st(s,oe,[]):[])),_e=(oe,be,Ce={})=>{const Ke=st(i,oe);let fe=be;if(Ke){const Ae=Ke._f;Ae&&(!Ae.disabled&&Qn(r,oe,$q(be,Ae)),fe=zS(Ae.ref)&&va(be)?"":be,Bq(Ae.ref)?[...Ae.ref.options].forEach(Oe=>Oe.selected=fe.includes(Oe.value)):Ae.refs?rA(Ae.ref)?Ae.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(fe)?Oe.checked=!!fe.find(Xe=>Xe===Oe.value):Oe.checked=fe===Oe.value||!!fe)}):Ae.refs.forEach(Oe=>Oe.checked=Oe.value===fe):mO(Ae.ref)?Ae.ref.value="":(Ae.ref.value=fe,Ae.ref.type||v.state.next({name:oe,values:_r(r)})))}(Ce.shouldDirty||Ce.shouldTouch)&&V(oe,fe,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&Te(oe)},Le=(oe,be,Ce)=>{for(const Ke in be){if(!be.hasOwnProperty(Ke))return;const fe=be[Ke],Ae=oe+"."+Ke,Oe=st(i,Ae);(l.array.has(oe)||hs(fe)||Oe&&!Oe._f)&&!bp(fe)?Le(Ae,fe,Ce):_e(Ae,fe,Ce)}},ee=(oe,be,Ce={})=>{const Ke=st(i,oe),fe=l.array.has(oe),Ae=_r(be);Qn(r,oe,Ae),fe?(v.array.next({name:oe,values:_r(r)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&Ce.shouldDirty&&v.state.next({name:oe,dirtyFields:xb(s,r),isDirty:Z(oe,Ae)})):Ke&&!Ke._f&&!va(Ae)?Le(oe,Ae,Ce):_e(oe,Ae,Ce),g5(oe,l)&&v.state.next({...t}),v.state.next({name:a.mount?oe:void 0,values:_r(r)})},se=async oe=>{a.mount=!0;const be=oe.target;let Ce=be.name,Ke=!0;const fe=st(i,Ce),Ae=Rt=>{Ke=Number.isNaN(Rt)||bp(Rt)&&isNaN(Rt.getTime())||af(Rt,st(r,Ce,Rt))},Oe=m5(e.mode),Xe=m5(e.reValidateMode);if(fe){let Rt,sn;const Ji=be.type?f5(fe._f):Lq(oe),mi=oe.type===BS.BLUR||oe.type===BS.FOCUS_OUT,es=!pve(fe._f)&&!e.resolver&&!st(t.errors,Ce)&&!fe._f.deps||vve(mi,st(t.touchedFields,Ce),t.isSubmitted,Xe,Oe),ks=g5(Ce,l,mi);Qn(r,Ce,Ji),mi?(fe._f.onBlur&&fe._f.onBlur(oe),c&&c(0)):fe._f.onChange&&fe._f.onChange(oe);const ms=V(Ce,Ji,mi),ts=!Oa(ms)||ks;if(!mi&&v.state.next({name:Ce,type:oe.type,values:_r(r)}),es)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?mi&&S():mi||S()),ts&&v.state.next({name:Ce,...ks?{}:ms});if(!mi&&ks&&v.state.next({...t}),e.resolver){const{errors:lr}=await B([Ce]);if(Ae(Ji),Ke){const Ui=y5(t.errors,i,Ce),cr=y5(lr,i,Ui.name||Ce);Rt=cr.error,Ce=cr.name,sn=Oa(lr)}}else C([Ce],!0),Rt=(await _5(fe,l.disabled,r,w,e.shouldUseNativeValidation))[Ce],C([Ce]),Ae(Ji),Ke&&(Rt?sn=!1:(f.isValid||p.isValid)&&(sn=await q(i,!0)));Ke&&(fe._f.deps&&Te(fe._f.deps),H(Ce,sn,Rt,ms))}},ie=(oe,be)=>{if(st(t.errors,be)&&oe.focus)return oe.focus(),1},Te=async(oe,be={})=>{let Ce,Ke;const fe=mw(oe);if(e.resolver){const Ae=await j(us(oe)?oe:fe);Ce=Oa(Ae),Ke=oe?!fe.some(Oe=>st(Ae,Oe)):Ce}else oe?(Ke=(await Promise.all(fe.map(async Ae=>{const Oe=st(i,Ae);return await q(Oe&&Oe._f?{[Ae]:Oe}:Oe)}))).every(Boolean),!(!Ke&&!t.isValid)&&S()):Ke=Ce=await q(i);return v.state.next({...!uu(oe)||(f.isValid||p.isValid)&&Ce!==t.isValid?{}:{name:oe},...e.resolver||!oe?{isValid:Ce}:{},errors:t.errors}),be.shouldFocus&&!Ke&&pw(i,ie,oe?fe:l.mount),Ke},J=oe=>{const be={...a.mount?r:s};return us(oe)?be:uu(oe)?st(be,oe):oe.map(Ce=>st(be,Ce))},ce=(oe,be)=>({invalid:!!st((be||t).errors,oe),isDirty:!!st((be||t).dirtyFields,oe),error:st((be||t).errors,oe),isValidating:!!st(t.validatingFields,oe),isTouched:!!st((be||t).touchedFields,oe)}),ge=oe=>{oe&&mw(oe).forEach(be=>Os(t.errors,be)),v.state.next({errors:oe?t.errors:{}})},ue=(oe,be,Ce)=>{const Ke=(st(i,oe,{_f:{}})._f||{}).ref,fe=st(t.errors,oe)||{},{ref:Ae,message:Oe,type:Xe,...Rt}=fe;Qn(t.errors,oe,{...Rt,...be,ref:Ke}),v.state.next({name:oe,errors:t.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Ke&&Ke.focus&&Ke.focus()},De=(oe,be)=>Ql(oe)?v.state.subscribe({next:Ce=>oe(ne(void 0,be),Ce)}):ne(oe,be,!0),$e=oe=>v.state.subscribe({next:be=>{yve(oe.name,be.name,oe.exact)&&gve(be,oe.formState||f,jn,oe.reRenderRoot)&&oe.callback({values:{...r},...t,...be})}}).unsubscribe,Pe=oe=>(a.mount=!0,p={...p,...oe.formState},$e({...oe,formState:p})),We=(oe,be={})=>{for(const Ce of oe?mw(oe):l.mount)l.mount.delete(Ce),l.array.delete(Ce),be.keepValue||(Os(i,Ce),Os(r,Ce)),!be.keepError&&Os(t.errors,Ce),!be.keepDirty&&Os(t.dirtyFields,Ce),!be.keepTouched&&Os(t.touchedFields,Ce),!be.keepIsValidating&&Os(t.validatingFields,Ce),!e.shouldUnregister&&!be.keepDefaultValue&&Os(s,Ce);v.state.next({values:_r(r)}),v.state.next({...t,...be.keepDirty?{isDirty:Z()}:{}}),!be.keepIsValid&&S()},je=({disabled:oe,name:be})=>{(Ro(oe)&&a.mount||oe||l.disabled.has(be))&&(oe?l.disabled.add(be):l.disabled.delete(be))},nt=(oe,be={})=>{let Ce=st(i,oe);const Ke=Ro(be.disabled)||Ro(e.disabled);return Qn(i,oe,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:oe}},name:oe,mount:!0,...be}}),l.mount.add(oe),Ce?je({disabled:Ro(be.disabled)?be.disabled:e.disabled,name:oe}):z(oe,!0,be.value),{...Ke?{disabled:be.disabled||e.disabled}:{},...e.progressive?{required:!!be.required,min:Eb(be.min),max:Eb(be.max),minLength:Eb(be.minLength),maxLength:Eb(be.maxLength),pattern:Eb(be.pattern)}:{},name:oe,onChange:se,onBlur:se,ref:fe=>{if(fe){nt(oe,be),Ce=st(i,oe);const Ae=us(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,Oe=uve(Ae),Xe=Ce._f.refs||[];if(Oe?Xe.find(Rt=>Rt===Ae):Ae===Ce._f.ref)return;Qn(i,oe,{_f:{...Ce._f,...Oe?{refs:[...Xe.filter(wM),Ae,...Array.isArray(st(s,oe))?[{}]:[]],ref:{type:Ae.type,name:oe}}:{ref:Ae}}}),z(oe,!1,void 0,Ae)}else Ce=st(i,oe,{}),Ce._f&&(Ce._f.mount=!1),(e.shouldUnregister||be.shouldUnregister)&&!(Oq(l.array,oe)&&a.action)&&l.unMount.add(oe)}}},et=()=>e.shouldFocusError&&pw(i,ie,l.mount),Ct=oe=>{Ro(oe)&&(v.state.next({disabled:oe}),pw(i,(be,Ce)=>{const Ke=st(i,Ce);Ke&&(be.disabled=Ke._f.disabled||oe,Array.isArray(Ke._f.refs)&&Ke._f.refs.forEach(fe=>{fe.disabled=Ke._f.disabled||oe}))},0,!1))},Dt=(oe,be)=>async Ce=>{let Ke;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let fe=_r(r);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:Ae,values:Oe}=await B();t.errors=Ae,fe=Oe}else await q(i);if(l.disabled.size)for(const Ae of l.disabled)Qn(fe,Ae,void 0);if(Os(t.errors,"root"),Oa(t.errors)){v.state.next({errors:{}});try{await oe(fe,Ce)}catch(Ae){Ke=Ae}}else be&&await be({...t.errors},Ce),et(),setTimeout(et);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Oa(t.errors)&&!Ke,submitCount:t.submitCount+1,errors:t.errors}),Ke)throw Ke},cn=(oe,be={})=>{st(i,oe)&&(us(be.defaultValue)?ee(oe,_r(st(s,oe))):(ee(oe,be.defaultValue),Qn(s,oe,_r(be.defaultValue))),be.keepTouched||Os(t.touchedFields,oe),be.keepDirty||(Os(t.dirtyFields,oe),t.isDirty=be.defaultValue?Z(oe,_r(st(s,oe))):Z()),be.keepError||(Os(t.errors,oe),f.isValid&&S()),v.state.next({...t}))},On=(oe,be={})=>{const Ce=oe?_r(oe):s,Ke=_r(Ce),fe=Oa(oe),Ae=fe?s:Ke;if(be.keepDefaultValues||(s=Ce),!be.keepValues){if(be.keepDirtyValues){const Oe=new Set([...l.mount,...Object.keys(xb(s,r))]);for(const Xe of Array.from(Oe))st(t.dirtyFields,Xe)?Qn(Ae,Xe,st(r,Xe)):ee(Xe,st(Ae,Xe))}else{if(lO&&us(oe))for(const Oe of l.mount){const Xe=st(i,Oe);if(Xe&&Xe._f){const Rt=Array.isArray(Xe._f.refs)?Xe._f.refs[0]:Xe._f.ref;if(zS(Rt)){const sn=Rt.closest("form");if(sn){sn.reset();break}}}}for(const Oe of l.mount)ee(Oe,st(Ae,Oe))}r=_r(Ae),v.array.next({values:{...Ae}}),v.state.next({values:{...Ae}})}l={mount:be.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!f.isValid||!!be.keepIsValid||!!be.keepDirtyValues,a.watch=!!e.shouldUnregister,v.state.next({submitCount:be.keepSubmitCount?t.submitCount:0,isDirty:fe?!1:be.keepDirty?t.isDirty:!!(be.keepDefaultValues&&!af(oe,s)),isSubmitted:be.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:fe?{}:be.keepDirtyValues?be.keepDefaultValues&&r?xb(s,r):t.dirtyFields:be.keepDefaultValues&&oe?xb(s,oe):be.keepDirty?t.dirtyFields:{},touchedFields:be.keepTouched?t.touchedFields:{},errors:be.keepErrors?t.errors:{},isSubmitSuccessful:be.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Zi=(oe,be)=>On(Ql(oe)?oe(r):oe,be),Xi=(oe,be={})=>{const Ce=st(i,oe),Ke=Ce&&Ce._f;if(Ke){const fe=Ke.refs?Ke.refs[0]:Ke.ref;fe.focus&&(fe.focus(),be.shouldSelect&&Ql(fe.select)&&fe.select())}},jn=oe=>{t={...t,...oe}},Tt={control:{register:nt,unregister:We,getFieldState:ce,handleSubmit:Dt,setError:ue,_subscribe:$e,_runSchema:B,_focusError:et,_getWatch:ne,_getDirty:Z,_setValid:S,_setFieldArray:k,_setDisabledField:je,_setErrors:I,_getFieldArray:Q,_reset:On,_resetDefaultValues:()=>Ql(e.defaultValues)&&e.defaultValues().then(oe=>{Zi(oe,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:Y,_disableForm:Ct,_subjects:v,_proxyFormState:f,get _fields(){return i},get _formValues(){return r},get _state(){return a},set _state(oe){a=oe},get _defaultValues(){return s},get _names(){return l},set _names(oe){l=oe},get _formState(){return t},get _options(){return e},set _options(oe){e={...e,...oe}}},subscribe:Pe,trigger:Te,register:nt,handleSubmit:Dt,watch:De,setValue:ee,getValues:J,reset:Zi,resetField:cn,clearErrors:ge,unregister:We,setError:ue,setFocus:Xi,getFieldState:ce};return{...Tt,formControl:Tt}}function y0(n={}){const e=xe.useRef(void 0),t=xe.useRef(void 0),[i,s]=xe.useState({isDirty:!1,isValidating:!1,isLoading:Ql(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Ql(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!Ql(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:a,...l}=xve(n);e.current={...l,formState:i}}const r=e.current.control;return r._options=n,dO(()=>{const a=r._subscribe({formState:r._proxyFormState,callback:()=>s({...r._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),r._formState.isReady=!0,a},[r]),xe.useEffect(()=>r._disableForm(n.disabled),[r,n.disabled]),xe.useEffect(()=>{n.mode&&(r._options.mode=n.mode),n.reValidateMode&&(r._options.reValidateMode=n.reValidateMode)},[r,n.mode,n.reValidateMode]),xe.useEffect(()=>{n.errors&&(r._setErrors(n.errors),r._focusError())},[r,n.errors]),xe.useEffect(()=>{n.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,n.shouldUnregister]),xe.useEffect(()=>{if(r._proxyFormState.isDirty){const a=r._getDirty();a!==i.isDirty&&r._subjects.state.next({isDirty:a})}},[r,i.isDirty]),xe.useEffect(()=>{n.values&&!af(n.values,t.current)?(r._reset(n.values,r._options.resetOptions),t.current=n.values,s(a=>({...a}))):r._resetDefaultValues()},[r,n.values]),xe.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),e.current.formState=jq(i,r),e.current}function Eve({className:n,...e}){return b.jsx(ive,{"data-slot":"label",className:tt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}const v0=ave,Gq=P.createContext({}),ec=({...n})=>b.jsx(Gq.Provider,{value:{name:n.name},children:b.jsx(cve,{...n})}),BR=()=>{const n=P.useContext(Gq),e=P.useContext(Wq),{getFieldState:t}=VR(),i=Fq({name:n.name}),s=t(n.name,i);if(!n)throw new Error("useFormField should be used within <FormField>");const{id:r}=e;return{id:r,name:n.name,formItemId:`${r}-form-item`,formDescriptionId:`${r}-form-item-description`,formMessageId:`${r}-form-item-message`,...s}},Wq=P.createContext({});function tc({className:n,...e}){const t=P.useId();return b.jsx(Wq.Provider,{value:{id:t},children:b.jsx("div",{"data-slot":"form-item",className:tt("grid gap-2",n),...e})})}function nc({className:n,...e}){const{error:t,formItemId:i}=BR();return b.jsx(Eve,{"data-slot":"form-label","data-error":!!t,className:tt("data-[error=true]:text-destructive",n),htmlFor:i,...e})}function ic({...n}){const{error:e,formItemId:t,formDescriptionId:i,formMessageId:s}=BR();return b.jsx(BC,{"data-slot":"form-control",id:t,"aria-describedby":e?`${i} ${s}`:`${i}`,"aria-invalid":!!e,...n})}function Ave({className:n,...e}){const{formDescriptionId:t}=BR();return b.jsx("p",{"data-slot":"form-description",id:t,className:tt("text-muted-foreground text-sm",n),...e})}function sc({className:n,...e}){const{error:t,formMessageId:i}=BR(),s=t?String((t==null?void 0:t.message)??""):e.children;return s?b.jsx("p",{"data-slot":"form-message",id:i,className:tt("text-destructive text-sm",n),...e,children:s}):null}const b5=(n,e,t)=>{if(n&&"reportValidity"in n){const i=st(t,e);n.setCustomValidity(i&&i.message||""),n.reportValidity()}},eI=(n,e)=>{for(const t in e.fields){const i=e.fields[t];i&&i.ref&&"reportValidity"in i.ref?b5(i.ref,t,n):i&&i.refs&&i.refs.forEach(s=>b5(s,t,n))}},w5=(n,e)=>{e.shouldUseNativeValidation&&eI(n,e);const t={};for(const i in n){const s=st(e.fields,i),r=Object.assign(n[i]||{},{ref:s&&s.ref});if(Tve(e.names||Object.keys(n),i)){const a=Object.assign({},st(t,i));Qn(a,"root",r),Qn(t,i,a)}else Qn(t,i,r)}return t},Tve=(n,e)=>{const t=x5(e);return n.some(i=>x5(i).match(`^${t}\\.\\d+`))};function x5(n){return n.replace(/\]|\[/g,"")}function Kq(n,e,t){function i(l,c){var h;Object.defineProperty(l,"_zod",{value:l._zod??{},enumerable:!1}),(h=l._zod).traits??(h.traits=new Set),l._zod.traits.add(n),e(l,c);for(const f in a.prototype)f in l||Object.defineProperty(l,f,{value:a.prototype[f].bind(l)});l._zod.constr=a,l._zod.def=c}const s=(t==null?void 0:t.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:n});function a(l){var c;const h=t!=null&&t.Parent?new r:this;i(h,l),(c=h._zod).deferred??(c.deferred=[]);for(const f of h._zod.deferred)f();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var c,h;return t!=null&&t.Parent&&l instanceof t.Parent?!0:(h=(c=l==null?void 0:l._zod)==null?void 0:c.traits)==null?void 0:h.has(n)}}),Object.defineProperty(a,"name",{value:n}),a}class Sve extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Cve={};function Yq(n){return Cve}function Rve(n,e){return typeof e=="bigint"?e.toString():e}const Zq=Error.captureStackTrace?Error.captureStackTrace:(...n)=>{};function j1(n){return typeof n=="string"?n:n==null?void 0:n.message}function Xq(n,e,t){var s,r,a,l,c,h;const i={...n,path:n.path??[]};if(!n.message){const f=j1((a=(r=(s=n.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,n))??j1((l=e==null?void 0:e.error)==null?void 0:l.call(e,n))??j1((c=t.customError)==null?void 0:c.call(t,n))??j1((h=t.localeError)==null?void 0:h.call(t,n))??"Invalid input";i.message=f}return delete i.inst,delete i.continue,e!=null&&e.reportInput||delete i.input,i}const Qq=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),Object.defineProperty(n,"message",{get(){return JSON.stringify(e,Rve,2)},enumerable:!0})},kve=Kq("$ZodError",Qq),Jq=Kq("$ZodError",Qq,{Parent:Error}),Mve=n=>(e,t,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=e._zod.run({value:t,issues:[]},r);if(a instanceof Promise)throw new Sve;if(a.issues.length){const l=new((s==null?void 0:s.Err)??n)(a.issues.map(c=>Xq(c,r,Yq())));throw Zq(l,s==null?void 0:s.callee),l}return a.value},Pve=Mve(Jq),Ive=n=>async(e,t,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=e._zod.run({value:t,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((s==null?void 0:s.Err)??n)(a.issues.map(c=>Xq(c,r,Yq())));throw Zq(l,s==null?void 0:s.callee),l}return a.value},Dve=Ive(Jq);function E5(n,e){try{var t=n()}catch(i){return e(i)}return t&&t.then?t.then(void 0,e):t}function Nve(n,e){for(var t={};n.length;){var i=n[0],s=i.code,r=i.message,a=i.path.join(".");if(!t[a])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];t[a]={message:l.message,type:l.code}}else t[a]={message:r,type:s};if("unionErrors"in i&&i.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return n.push(p)})}),e){var c=t[a].types,h=c&&c[i.code];t[a]=fO(a,e,t,s,h?[].concat(h,i.message):i.message)}n.shift()}return t}function Lve(n,e){for(var t={};n.length;){var i=n[0],s=i.code,r=i.message,a=i.path.join(".");if(!t[a])if(i.code==="invalid_union"){var l=i.errors[0][0];t[a]={message:l.message,type:l.code}}else t[a]={message:r,type:s};if(i.code==="invalid_union"&&i.errors.forEach(function(f){return f.forEach(function(p){return n.push(p)})}),e){var c=t[a].types,h=c&&c[i.code];t[a]=fO(a,e,t,s,h?[].concat(h,i.message):i.message)}n.shift()}return t}function _0(n,e,t){if(t===void 0&&(t={}),function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def}(n))return function(i,s,r){try{return Promise.resolve(E5(function(){return Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](i,e)).then(function(a){return r.shouldUseNativeValidation&&eI({},r),{errors:{},values:t.raw?Object.assign({},i):a}})},function(a){if(function(l){return Array.isArray(l==null?void 0:l.issues)}(a))return{values:{},errors:w5(Nve(a.errors,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw a}))}catch(a){return Promise.reject(a)}};if(function(i){return"_zod"in i&&typeof i._zod=="object"}(n))return function(i,s,r){try{return Promise.resolve(E5(function(){return Promise.resolve((t.mode==="sync"?Pve:Dve)(n,i,e)).then(function(a){return r.shouldUseNativeValidation&&eI({},r),{errors:{},values:t.raw?Object.assign({},i):a}})},function(a){if(function(l){return l instanceof kve}(a))return{values:{},errors:w5(Lve(a.issues,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw a}))}catch(a){return Promise.reject(a)}};throw new Error("Invalid input: not a Zod schema")}function Ove(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const jve=n=>{switch(n){case"success":return Bve;case"info":return Uve;case"warning":return zve;case"error":return Hve;default:return null}},Fve=Array(12).fill(0),Vve=({visible:n,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},xe.createElement("div",{className:"sonner-spinner"},Fve.map((t,i)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Bve=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zve=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Uve=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hve=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$ve=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qve=()=>{const[n,e]=xe.useState(document.hidden);return xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let tI=1;class Gve{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:i,...s}=e,r=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:tI++,a=this.toasts.find(c=>c.id===r),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),a?this.toasts=this.toasts.map(c=>c.id===r?(this.publish({...c,...e,id:r,title:i}),{...c,...e,id:r,dismissible:l,title:i}):c):this.addToast({title:i,...s,dismissible:l,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(i=>i({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let i;t.loading!==void 0&&(i=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let r=i!==void 0,a;const l=s.then(async h=>{if(a=["resolve",h],xe.isValidElement(h))r=!1,this.create({id:i,type:"default",message:h});else if(Kve(h)&&!h.ok){r=!1;const p=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:v,...E})}else if(h instanceof Error){r=!1;const p=typeof t.error=="function"?await t.error(h):t.error,v=typeof t.description=="function"?await t.description(h):t.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:i,type:"error",description:v,...E})}else if(t.success!==void 0){r=!1;const p=typeof t.success=="function"?await t.success(h):t.success,v=typeof t.description=="function"?await t.description(h):t.description,E=typeof p=="object"&&!xe.isValidElement(p)?p:{message:p};this.create({id:i,type:"success",description:v,...E})}}).catch(async h=>{if(a=["reject",h],t.error!==void 0){r=!1;const f=typeof t.error=="function"?await t.error(h):t.error,p=typeof t.description=="function"?await t.description(h):t.description,w=typeof f=="object"&&!xe.isValidElement(f)?f:{message:f};this.create({id:i,type:"error",description:p,...w})}}).finally(()=>{r&&(this.dismiss(i),i=void 0),t.finally==null||t.finally.call(t)}),c=()=>new Promise((h,f)=>l.then(()=>a[0]==="reject"?f(a[1]):h(a[1])).catch(f));return typeof i!="string"&&typeof i!="number"?{unwrap:c}:Object.assign(i,{unwrap:c})},this.custom=(e,t)=>{const i=(t==null?void 0:t.id)||tI++;return this.create({jsx:e(i),id:i,...t}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ja=new Gve,Wve=(n,e)=>{const t=(e==null?void 0:e.id)||tI++;return ja.addToast({title:n,...e,id:t}),t},Kve=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Yve=Wve,Zve=()=>ja.toasts,Xve=()=>ja.getActiveToasts(),jt=Object.assign(Yve,{success:ja.success,info:ja.info,warning:ja.warning,error:ja.error,custom:ja.custom,message:ja.message,promise:ja.promise,dismiss:ja.dismiss,loading:ja.loading},{getHistory:Zve,getToasts:Xve});Ove("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function F1(n){return n.label!==void 0}const Qve=3,Jve="24px",e_e="16px",A5=4e3,t_e=356,n_e=14,i_e=45,s_e=200;function Lc(...n){return n.filter(Boolean).join(" ")}function r_e(n){const[e,t]=n.split("-"),i=[];return e&&i.push(e),t&&i.push(t),i}const a_e=n=>{var e,t,i,s,r,a,l,c,h;const{invert:f,toast:p,unstyled:v,interacting:w,setHeights:E,visibleToasts:S,heights:C,index:k,toasts:N,expanded:I,removeToast:z,defaultRichColors:V,closeButton:H,style:B,cancelButtonStyle:j,actionButtonStyle:q,className:Y="",descriptionClassName:Z="",duration:ne,position:Q,gap:_e,expandByDefault:Le,classNames:ee,icons:se,closeButtonAriaLabel:ie="Close toast"}=n,[Te,J]=xe.useState(null),[ce,ge]=xe.useState(null),[ue,De]=xe.useState(!1),[$e,Pe]=xe.useState(!1),[We,je]=xe.useState(!1),[nt,et]=xe.useState(!1),[Ct,Dt]=xe.useState(!1),[cn,On]=xe.useState(0),[Zi,Xi]=xe.useState(0),jn=xe.useRef(p.duration||ne||A5),Qi=xe.useRef(null),Tt=xe.useRef(null),oe=k===0,be=k+1<=S,Ce=p.type,Ke=p.dismissible!==!1,fe=p.className||"",Ae=p.descriptionClassName||"",Oe=xe.useMemo(()=>C.findIndex(kt=>kt.toastId===p.id)||0,[C,p.id]),Xe=xe.useMemo(()=>{var kt;return(kt=p.closeButton)!=null?kt:H},[p.closeButton,H]),Rt=xe.useMemo(()=>p.duration||ne||A5,[p.duration,ne]),sn=xe.useRef(0),Ji=xe.useRef(0),mi=xe.useRef(0),es=xe.useRef(null),[ks,ms]=Q.split("-"),ts=xe.useMemo(()=>C.reduce((kt,Yn,ti)=>ti>=Oe?kt:kt+Yn.height,0),[C,Oe]),lr=qve(),Ui=p.invert||f,cr=Ce==="loading";Ji.current=xe.useMemo(()=>Oe*_e+ts,[Oe,ts]),xe.useEffect(()=>{jn.current=Rt},[Rt]),xe.useEffect(()=>{De(!0)},[]),xe.useEffect(()=>{const kt=Tt.current;if(kt){const Yn=kt.getBoundingClientRect().height;return Xi(Yn),E(ti=>[{toastId:p.id,height:Yn,position:p.position},...ti]),()=>E(ti=>ti.filter(Ti=>Ti.toastId!==p.id))}},[E,p.id]),xe.useLayoutEffect(()=>{if(!ue)return;const kt=Tt.current,Yn=kt.style.height;kt.style.height="auto";const ti=kt.getBoundingClientRect().height;kt.style.height=Yn,Xi(ti),E(Ti=>Ti.find(de=>de.toastId===p.id)?Ti.map(de=>de.toastId===p.id?{...de,height:ti}:de):[{toastId:p.id,height:ti,position:p.position},...Ti])},[ue,p.title,p.description,E,p.id,p.jsx,p.action,p.cancel]);const ps=xe.useCallback(()=>{Pe(!0),On(Ji.current),E(kt=>kt.filter(Yn=>Yn.toastId!==p.id)),setTimeout(()=>{z(p)},s_e)},[p,z,E,Ji]);xe.useEffect(()=>{if(p.promise&&Ce==="loading"||p.duration===1/0||p.type==="loading")return;let kt;return I||w||lr?(()=>{if(mi.current<sn.current){const Ti=new Date().getTime()-sn.current;jn.current=jn.current-Ti}mi.current=new Date().getTime()})():(()=>{jn.current!==1/0&&(sn.current=new Date().getTime(),kt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),ps()},jn.current))})(),()=>clearTimeout(kt)},[I,w,p,Ce,lr,ps]),xe.useEffect(()=>{p.delete&&(ps(),p.onDismiss==null||p.onDismiss.call(p,p))},[ps,p.delete]);function jo(){var kt;if(se!=null&&se.loading){var Yn;return xe.createElement("div",{className:Lc(ee==null?void 0:ee.loader,p==null||(Yn=p.classNames)==null?void 0:Yn.loader,"sonner-loader"),"data-visible":Ce==="loading"},se.loading)}return xe.createElement(Vve,{className:Lc(ee==null?void 0:ee.loader,p==null||(kt=p.classNames)==null?void 0:kt.loader),visible:Ce==="loading"})}const ur=p.icon||(se==null?void 0:se[Ce])||jve(Ce);var hr,qa;return xe.createElement("li",{tabIndex:0,ref:Tt,className:Lc(Y,fe,ee==null?void 0:ee.toast,p==null||(e=p.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[Ce],p==null||(t=p.classNames)==null?void 0:t[Ce]),"data-sonner-toast":"","data-rich-colors":(hr=p.richColors)!=null?hr:V,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":ue,"data-promise":!!p.promise,"data-swiped":Ct,"data-removed":$e,"data-visible":be,"data-y-position":ks,"data-x-position":ms,"data-index":k,"data-front":oe,"data-swiping":We,"data-dismissible":Ke,"data-type":Ce,"data-invert":Ui,"data-swipe-out":nt,"data-swipe-direction":ce,"data-expanded":!!(I||Le&&ue),style:{"--index":k,"--toasts-before":k,"--z-index":N.length-k,"--offset":`${$e?cn:Ji.current}px`,"--initial-height":Le?"auto":`${Zi}px`,...B,...p.style},onDragEnd:()=>{je(!1),J(null),es.current=null},onPointerDown:kt=>{cr||!Ke||(Qi.current=new Date,On(Ji.current),kt.target.setPointerCapture(kt.pointerId),kt.target.tagName!=="BUTTON"&&(je(!0),es.current={x:kt.clientX,y:kt.clientY}))},onPointerUp:()=>{var kt,Yn,ti;if(nt||!Ke)return;es.current=null;const Ti=Number(((kt=Tt.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),le=Number(((Yn=Tt.current)==null?void 0:Yn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),de=new Date().getTime()-((ti=Qi.current)==null?void 0:ti.getTime()),me=Te==="x"?Ti:le,Ve=Math.abs(me)/de;if(Math.abs(me)>=i_e||Ve>.11){On(Ji.current),p.onDismiss==null||p.onDismiss.call(p,p),ge(Te==="x"?Ti>0?"right":"left":le>0?"down":"up"),ps(),et(!0);return}else{var qe,Je;(qe=Tt.current)==null||qe.style.setProperty("--swipe-amount-x","0px"),(Je=Tt.current)==null||Je.style.setProperty("--swipe-amount-y","0px")}Dt(!1),je(!1),J(null)},onPointerMove:kt=>{var Yn,ti,Ti;if(!es.current||!Ke||((Yn=window.getSelection())==null?void 0:Yn.toString().length)>0)return;const de=kt.clientY-es.current.y,me=kt.clientX-es.current.x;var Ve;const qe=(Ve=n.swipeDirections)!=null?Ve:r_e(Q);!Te&&(Math.abs(me)>1||Math.abs(de)>1)&&J(Math.abs(me)>Math.abs(de)?"x":"y");let Je={x:0,y:0};const ht=Ne=>1/(1.5+Math.abs(Ne)/20);if(Te==="y"){if(qe.includes("top")||qe.includes("bottom"))if(qe.includes("top")&&de<0||qe.includes("bottom")&&de>0)Je.y=de;else{const Ne=de*ht(de);Je.y=Math.abs(Ne)<Math.abs(de)?Ne:de}}else if(Te==="x"&&(qe.includes("left")||qe.includes("right")))if(qe.includes("left")&&me<0||qe.includes("right")&&me>0)Je.x=me;else{const Ne=me*ht(me);Je.x=Math.abs(Ne)<Math.abs(me)?Ne:me}(Math.abs(Je.x)>0||Math.abs(Je.y)>0)&&Dt(!0),(ti=Tt.current)==null||ti.style.setProperty("--swipe-amount-x",`${Je.x}px`),(Ti=Tt.current)==null||Ti.style.setProperty("--swipe-amount-y",`${Je.y}px`)}},Xe&&!p.jsx&&Ce!=="loading"?xe.createElement("button",{"aria-label":ie,"data-disabled":cr,"data-close-button":!0,onClick:cr||!Ke?()=>{}:()=>{ps(),p.onDismiss==null||p.onDismiss.call(p,p)},className:Lc(ee==null?void 0:ee.closeButton,p==null||(i=p.classNames)==null?void 0:i.closeButton)},(qa=se==null?void 0:se.close)!=null?qa:$ve):null,(Ce||p.icon||p.promise)&&p.icon!==null&&((se==null?void 0:se[Ce])!==null||p.icon)?xe.createElement("div",{"data-icon":"",className:Lc(ee==null?void 0:ee.icon,p==null||(s=p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||jo():null,p.type!=="loading"?ur:null):null,xe.createElement("div",{"data-content":"",className:Lc(ee==null?void 0:ee.content,p==null||(r=p.classNames)==null?void 0:r.content)},xe.createElement("div",{"data-title":"",className:Lc(ee==null?void 0:ee.title,p==null||(a=p.classNames)==null?void 0:a.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?xe.createElement("div",{"data-description":"",className:Lc(Z,Ae,ee==null?void 0:ee.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),xe.isValidElement(p.cancel)?p.cancel:p.cancel&&F1(p.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||j,onClick:kt=>{F1(p.cancel)&&Ke&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,kt),ps())},className:Lc(ee==null?void 0:ee.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,xe.isValidElement(p.action)?p.action:p.action&&F1(p.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||q,onClick:kt=>{F1(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,kt),!kt.defaultPrevented&&ps())},className:Lc(ee==null?void 0:ee.actionButton,p==null||(h=p.classNames)==null?void 0:h.actionButton)},p.action.label):null)};function T5(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function o_e(n,e){const t={};return[n,e].forEach((i,s)=>{const r=s===1,a=r?"--mobile-offset":"--offset",l=r?e_e:Jve;function c(h){["top","right","bottom","left"].forEach(f=>{t[`${a}-${f}`]=typeof h=="number"?`${h}px`:h})}typeof i=="number"||typeof i=="string"?c(i):typeof i=="object"?["top","right","bottom","left"].forEach(h=>{i[h]===void 0?t[`${a}-${h}`]=l:t[`${a}-${h}`]=typeof i[h]=="number"?`${i[h]}px`:i[h]}):c(l)}),t}const l_e=xe.forwardRef(function(e,t){const{invert:i,position:s="bottom-right",hotkey:r=["altKey","KeyT"],expand:a,closeButton:l,className:c,offset:h,mobileOffset:f,theme:p="light",richColors:v,duration:w,style:E,visibleToasts:S=Qve,toastOptions:C,dir:k=T5(),gap:N=n_e,icons:I,containerAriaLabel:z="Notifications"}=e,[V,H]=xe.useState([]),B=xe.useMemo(()=>Array.from(new Set([s].concat(V.filter(ce=>ce.position).map(ce=>ce.position)))),[V,s]),[j,q]=xe.useState([]),[Y,Z]=xe.useState(!1),[ne,Q]=xe.useState(!1),[_e,Le]=xe.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=xe.useRef(null),se=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=xe.useRef(null),Te=xe.useRef(!1),J=xe.useCallback(ce=>{H(ge=>{var ue;return(ue=ge.find(De=>De.id===ce.id))!=null&&ue.delete||ja.dismiss(ce.id),ge.filter(({id:De})=>De!==ce.id)})},[]);return xe.useEffect(()=>ja.subscribe(ce=>{if(ce.dismiss){requestAnimationFrame(()=>{H(ge=>ge.map(ue=>ue.id===ce.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{AU.flushSync(()=>{H(ge=>{const ue=ge.findIndex(De=>De.id===ce.id);return ue!==-1?[...ge.slice(0,ue),{...ge[ue],...ce},...ge.slice(ue+1)]:[ce,...ge]})})})}),[V]),xe.useEffect(()=>{if(p!=="system"){Le(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Le("dark"):Le("light")),typeof window>"u")return;const ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:ge})=>{Le(ge?"dark":"light")})}catch{ce.addListener(({matches:ue})=>{try{Le(ue?"dark":"light")}catch(De){console.error(De)}})}},[p]),xe.useEffect(()=>{V.length<=1&&Z(!1)},[V]),xe.useEffect(()=>{const ce=ge=>{var ue;if(r.every(Pe=>ge[Pe]||ge.code===Pe)){var $e;Z(!0),($e=ee.current)==null||$e.focus()}ge.code==="Escape"&&(document.activeElement===ee.current||(ue=ee.current)!=null&&ue.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[r]),xe.useEffect(()=>{if(ee.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,Te.current=!1)}},[ee.current]),xe.createElement("section",{ref:t,"aria-label":`${z} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((ce,ge)=>{var ue;const[De,$e]=ce.split("-");return V.length?xe.createElement("ol",{key:ce,dir:k==="auto"?T5():k,tabIndex:-1,ref:ee,className:c,"data-sonner-toaster":!0,"data-sonner-theme":_e,"data-y-position":De,"data-x-position":$e,style:{"--front-toast-height":`${((ue=j[0])==null?void 0:ue.height)||0}px`,"--width":`${t_e}px`,"--gap":`${N}px`,...E,...o_e(h,f)},onBlur:Pe=>{Te.current&&!Pe.currentTarget.contains(Pe.relatedTarget)&&(Te.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||Te.current||(Te.current=!0,ie.current=Pe.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{ne||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:Pe=>{Pe.target instanceof HTMLElement&&Pe.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},V.filter(Pe=>!Pe.position&&ge===0||Pe.position===ce).map((Pe,We)=>{var je,nt;return xe.createElement(a_e,{key:Pe.id,icons:I,index:We,toast:Pe,defaultRichColors:v,duration:(je=C==null?void 0:C.duration)!=null?je:w,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:i,visibleToasts:S,closeButton:(nt=C==null?void 0:C.closeButton)!=null?nt:l,interacting:ne,position:ce,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:J,toasts:V.filter(et=>et.position==Pe.position),heights:j.filter(et=>et.position==Pe.position),setHeights:q,expandByDefault:a,gap:N,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});var qn;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const r={};for(const a of s)r[a]=a;return r},n.getValidEnumValues=s=>{const r=n.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),a={};for(const l of r)a[l]=s[l];return n.objectValues(a)},n.objectValues=s=>n.objectKeys(s).map(function(r){return s[r]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const r=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.push(a);return r},n.find=(s,r)=>{for(const a of s)if(r(a))return a},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function i(s,r=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}n.joinValues=i,n.jsonStringifyReplacer=(s,r)=>typeof r=="bigint"?r.toString():r})(qn||(qn={}));var S5;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(S5||(S5={}));const wt=qn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jd=n=>{switch(typeof n){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return Number.isNaN(n)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(n)?wt.array:n===null?wt.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?wt.promise:typeof Map<"u"&&n instanceof Map?wt.map:typeof Set<"u"&&n instanceof Set?wt.set:typeof Date<"u"&&n instanceof Date?wt.date:wt.object;default:return wt.unknown}},Ze=qn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Yh extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(r){return r.message},i={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)i._errors.push(t(a));else{let l=i,c=0;for(;c<a.path.length;){const h=a.path[c];c===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(t(a))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return s(this),i}static assert(e){if(!(e instanceof Yh))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):i.push(e(s));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}Yh.create=n=>new Yh(n);const nI=(n,e)=>{let t;switch(n.code){case Ze.invalid_type:n.received===wt.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Ze.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,qn.jsonStringifyReplacer)}`;break;case Ze.unrecognized_keys:t=`Unrecognized key(s) in object: ${qn.joinValues(n.keys,", ")}`;break;case Ze.invalid_union:t="Invalid input";break;case Ze.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${qn.joinValues(n.options)}`;break;case Ze.invalid_enum_value:t=`Invalid enum value. Expected ${qn.joinValues(n.options)}, received '${n.received}'`;break;case Ze.invalid_arguments:t="Invalid function arguments";break;case Ze.invalid_return_type:t="Invalid function return type";break;case Ze.invalid_date:t="Invalid date";break;case Ze.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:qn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Ze.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Ze.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Ze.custom:t="Invalid input";break;case Ze.invalid_intersection_types:t="Intersection results could not be merged";break;case Ze.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Ze.not_finite:t="Number must be finite";break;default:t=e.defaultError,qn.assertNever(n)}return{message:t}};let c_e=nI;function u_e(){return c_e}const h_e=n=>{const{data:e,path:t,errorMaps:i,issueData:s}=n,r=[...t,...s.path||[]],a={...s,path:r};if(s.message!==void 0)return{...s,path:r,message:s.message};let l="";const c=i.filter(h=>!!h).slice().reverse();for(const h of c)l=h(a,{data:e,defaultError:l}).message;return{...s,path:r,message:l}};function lt(n,e){const t=u_e(),i=h_e({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===nI?void 0:nI].filter(s=>!!s)});n.common.issues.push(i)}class Oo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const s of t){if(s.status==="aborted")return en;s.status==="dirty"&&e.dirty(),i.push(s.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const s of t){const r=await s.key,a=await s.value;i.push({key:r,value:a})}return Oo.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const s of t){const{key:r,value:a}=s;if(r.status==="aborted"||a.status==="aborted")return en;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(i[r.value]=a.value)}return{status:e.value,value:i}}}const en=Object.freeze({status:"aborted"}),Vb=n=>({status:"dirty",value:n}),wl=n=>({status:"valid",value:n}),C5=n=>n.status==="aborted",R5=n=>n.status==="dirty",G_=n=>n.status==="valid",$S=n=>typeof Promise<"u"&&n instanceof Promise;var At;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(At||(At={}));class gm{constructor(e,t,i,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const k5=(n,e)=>{if(G_(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Yh(n.common.issues);return this._error=t,this._error}}};function bn(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:s}=n;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(a,l)=>{const{message:c}=n;return a.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??i??l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:c??t??l.defaultError}},description:s}}class Un{get description(){return this._def.description}_getType(e){return Jd(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Jd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Oo,ctx:{common:e.parent.common,data:e.data,parsedType:Jd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if($S(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){const i={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jd(e)},s=this._parseSync({data:e,path:i.path,parent:i});return k5(i,s)}"~validate"(e){var i,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jd(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:t});return G_(r)?{value:r.value}:{issues:t.common.issues}}catch(r){(s=(i=r==null?void 0:r.message)==null?void 0:i.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(r=>G_(r)?{value:r.value}:{issues:t.common.issues})}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jd(e)},s=this._parse({data:e,path:i.path,parent:i}),r=await($S(s)?s:Promise.resolve(s));return k5(i,r)}refine(e,t){const i=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,r)=>{const a=e(s),l=()=>r.addIssue({code:Ze.custom,...i(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,t){return this._refinement((i,s)=>e(i)?!0:(s.addIssue(typeof t=="function"?t(i,s):t),!1))}_refinement(e){return new K_({schema:this,typeName:tn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return sm.create(this,this._def)}nullable(){return Y_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vu.create(this)}promise(){return KS.create(this,this._def)}or(e){return GS.create([this,e],this._def)}and(e){return WS.create(this,e,this._def)}transform(e){return new K_({...bn(this._def),schema:this,typeName:tn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new sI({...bn(this._def),innerType:this,defaultValue:t,typeName:tn.ZodDefault})}brand(){return new N_e({typeName:tn.ZodBranded,type:this,...bn(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new rI({...bn(this._def),innerType:this,catchValue:t,typeName:tn.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return gO.create(this,e)}readonly(){return aI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const d_e=/^c[^\s-]{8,}$/i,f_e=/^[0-9a-z]+$/,m_e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,p_e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g_e=/^[a-z0-9_-]{21}$/i,y_e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,v_e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,__e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b_e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xM;const w_e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,x_e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,A_e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,T_e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,S_e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C_e=new RegExp(`^${eG}$`);function tG(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function R_e(n){return new RegExp(`^${tG(n)}$`)}function k_e(n){let e=`${eG}T${tG(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function M_e(n,e){return!!((e==="v4"||!e)&&w_e.test(n)||(e==="v6"||!e)&&E_e.test(n))}function P_e(n,e){if(!y_e.test(n))return!1;try{const[t]=n.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(i));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function I_e(n,e){return!!((e==="v4"||!e)&&x_e.test(n)||(e==="v6"||!e)&&A_e.test(n))}class Qf extends Un{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==wt.string){const r=this._getOrReturnCtx(e);return lt(r,{code:Ze.invalid_type,expected:wt.string,received:r.parsedType}),en}const i=new Oo;let s;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="max")e.data.length>r.value&&(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),i.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,l=e.data.length<r.value;(a||l)&&(s=this._getOrReturnCtx(e,s),a?lt(s,{code:Ze.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):l&&lt(s,{code:Ze.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),i.dirty())}else if(r.kind==="email")__e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"email",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="emoji")xM||(xM=new RegExp(b_e,"u")),xM.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"emoji",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="uuid")p_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"uuid",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="nanoid")g_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"nanoid",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid")d_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"cuid",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="cuid2")f_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"cuid2",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="ulid")m_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"ulid",code:Ze.invalid_string,message:r.message}),i.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),lt(s,{validation:"url",code:Ze.invalid_string,message:r.message}),i.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"regex",code:Ze.invalid_string,message:r.message}),i.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),i.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:{startsWith:r.value},message:r.message}),i.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:{endsWith:r.value},message:r.message}),i.dirty()):r.kind==="datetime"?k_e(r).test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:"datetime",message:r.message}),i.dirty()):r.kind==="date"?C_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:"date",message:r.message}),i.dirty()):r.kind==="time"?R_e(r).test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.invalid_string,validation:"time",message:r.message}),i.dirty()):r.kind==="duration"?v_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"duration",code:Ze.invalid_string,message:r.message}),i.dirty()):r.kind==="ip"?M_e(e.data,r.version)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"ip",code:Ze.invalid_string,message:r.message}),i.dirty()):r.kind==="jwt"?P_e(e.data,r.alg)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"jwt",code:Ze.invalid_string,message:r.message}),i.dirty()):r.kind==="cidr"?I_e(e.data,r.version)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"cidr",code:Ze.invalid_string,message:r.message}),i.dirty()):r.kind==="base64"?T_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"base64",code:Ze.invalid_string,message:r.message}),i.dirty()):r.kind==="base64url"?S_e.test(e.data)||(s=this._getOrReturnCtx(e,s),lt(s,{validation:"base64url",code:Ze.invalid_string,message:r.message}),i.dirty()):qn.assertNever(r);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(s=>e.test(s),{validation:t,code:Ze.invalid_string,...At.errToObj(i)})}_addCheck(e){return new Qf({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...At.errToObj(e)})}url(e){return this._addCheck({kind:"url",...At.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...At.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...At.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...At.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...At.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...At.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...At.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...At.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...At.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...At.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...At.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...At.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...At.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...At.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...At.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...At.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...At.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...At.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...At.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...At.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...At.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...At.errToObj(t)})}nonempty(e){return this.min(1,At.errToObj(e))}trim(){return new Qf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Qf.create=n=>new Qf({checks:[],typeName:tn.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...bn(n)});function D_e(n,e){const t=(n.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,s=t>i?t:i,r=Number.parseInt(n.toFixed(s).replace(".","")),a=Number.parseInt(e.toFixed(s).replace(".",""));return r%a/10**s}class zw extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==wt.number){const r=this._getOrReturnCtx(e);return lt(r,{code:Ze.invalid_type,expected:wt.number,received:r.parsedType}),en}let i;const s=new Oo;for(const r of this._def.checks)r.kind==="int"?qn.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.invalid_type,expected:"integer",received:"float",message:r.message}),s.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),s.dirty()):r.kind==="multipleOf"?D_e(e.data,r.value)!==0&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.not_finite,message:r.message}),s.dirty()):qn.assertNever(r);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,At.toString(t))}gt(e,t){return this.setLimit("min",e,!1,At.toString(t))}lte(e,t){return this.setLimit("max",e,!0,At.toString(t))}lt(e,t){return this.setLimit("max",e,!1,At.toString(t))}setLimit(e,t,i,s){return new zw({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:At.toString(s)}]})}_addCheck(e){return new zw({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:At.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:At.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:At.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:At.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:At.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&qn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}zw.create=n=>new zw({checks:[],typeName:tn.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...bn(n)});class Uw extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==wt.bigint)return this._getInvalidInput(e);let i;const s=new Oo;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),s.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),lt(i,{code:Ze.not_multiple_of,multipleOf:r.value,message:r.message}),s.dirty()):qn.assertNever(r);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return lt(t,{code:Ze.invalid_type,expected:wt.bigint,received:t.parsedType}),en}gte(e,t){return this.setLimit("min",e,!0,At.toString(t))}gt(e,t){return this.setLimit("min",e,!1,At.toString(t))}lte(e,t){return this.setLimit("max",e,!0,At.toString(t))}lt(e,t){return this.setLimit("max",e,!1,At.toString(t))}setLimit(e,t,i,s){return new Uw({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:At.toString(s)}]})}_addCheck(e){return new Uw({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:At.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Uw.create=n=>new Uw({checks:[],typeName:tn.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...bn(n)});class M5 extends Un{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==wt.boolean){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.boolean,received:i.parsedType}),en}return wl(e.data)}}M5.create=n=>new M5({typeName:tn.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...bn(n)});class qS extends Un{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==wt.date){const r=this._getOrReturnCtx(e);return lt(r,{code:Ze.invalid_type,expected:wt.date,received:r.parsedType}),en}if(Number.isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return lt(r,{code:Ze.invalid_date}),en}const i=new Oo;let s;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(s=this._getOrReturnCtx(e,s),lt(s,{code:Ze.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):qn.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qS({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:At.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:At.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}qS.create=n=>new qS({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:tn.ZodDate,...bn(n)});class P5 extends Un{_parse(e){if(this._getType(e)!==wt.symbol){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.symbol,received:i.parsedType}),en}return wl(e.data)}}P5.create=n=>new P5({typeName:tn.ZodSymbol,...bn(n)});class I5 extends Un{_parse(e){if(this._getType(e)!==wt.undefined){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.undefined,received:i.parsedType}),en}return wl(e.data)}}I5.create=n=>new I5({typeName:tn.ZodUndefined,...bn(n)});class D5 extends Un{_parse(e){if(this._getType(e)!==wt.null){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.null,received:i.parsedType}),en}return wl(e.data)}}D5.create=n=>new D5({typeName:tn.ZodNull,...bn(n)});class N5 extends Un{constructor(){super(...arguments),this._any=!0}_parse(e){return wl(e.data)}}N5.create=n=>new N5({typeName:tn.ZodAny,...bn(n)});class L5 extends Un{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wl(e.data)}}L5.create=n=>new L5({typeName:tn.ZodUnknown,...bn(n)});class ym extends Un{_parse(e){const t=this._getOrReturnCtx(e);return lt(t,{code:Ze.invalid_type,expected:wt.never,received:t.parsedType}),en}}ym.create=n=>new ym({typeName:tn.ZodNever,...bn(n)});class O5 extends Un{_parse(e){if(this._getType(e)!==wt.undefined){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.void,received:i.parsedType}),en}return wl(e.data)}}O5.create=n=>new O5({typeName:tn.ZodVoid,...bn(n)});class vu extends Un{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),s=this._def;if(t.parsedType!==wt.array)return lt(t,{code:Ze.invalid_type,expected:wt.array,received:t.parsedType}),en;if(s.exactLength!==null){const a=t.data.length>s.exactLength.value,l=t.data.length<s.exactLength.value;(a||l)&&(lt(t,{code:a?Ze.too_big:Ze.too_small,minimum:l?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),i.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(lt(t,{code:Ze.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),i.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(lt(t,{code:Ze.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((a,l)=>s.type._parseAsync(new gm(t,a,t.path,l)))).then(a=>Oo.mergeArray(i,a));const r=[...t.data].map((a,l)=>s.type._parseSync(new gm(t,a,t.path,l)));return Oo.mergeArray(i,r)}get element(){return this._def.type}min(e,t){return new vu({...this._def,minLength:{value:e,message:At.toString(t)}})}max(e,t){return new vu({...this._def,maxLength:{value:e,message:At.toString(t)}})}length(e,t){return new vu({...this._def,exactLength:{value:e,message:At.toString(t)}})}nonempty(e){return this.min(1,e)}}vu.create=(n,e)=>new vu({type:n,minLength:null,maxLength:null,exactLength:null,typeName:tn.ZodArray,...bn(e)});function Wy(n){if(n instanceof xs){const e={};for(const t in n.shape){const i=n.shape[t];e[t]=sm.create(Wy(i))}return new xs({...n._def,shape:()=>e})}else return n instanceof vu?new vu({...n._def,type:Wy(n.element)}):n instanceof sm?sm.create(Wy(n.unwrap())):n instanceof Y_?Y_.create(Wy(n.unwrap())):n instanceof Vg?Vg.create(n.items.map(e=>Wy(e))):n}class xs extends Un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=qn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==wt.object){const h=this._getOrReturnCtx(e);return lt(h,{code:Ze.invalid_type,expected:wt.object,received:h.parsedType}),en}const{status:i,ctx:s}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof ym&&this._def.unknownKeys==="strip"))for(const h in s.data)a.includes(h)||l.push(h);const c=[];for(const h of a){const f=r[h],p=s.data[h];c.push({key:{status:"valid",value:h},value:f._parse(new gm(s,p,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof ym){const h=this._def.unknownKeys;if(h==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(h==="strict")l.length>0&&(lt(s,{code:Ze.unrecognized_keys,keys:l}),i.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const f of l){const p=s.data[f];c.push({key:{status:"valid",value:f},value:h._parse(new gm(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const f of c){const p=await f.key,v=await f.value;h.push({key:p,value:v,alwaysSet:f.alwaysSet})}return h}).then(h=>Oo.mergeObjectSync(i,h)):Oo.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return At.errToObj,new xs({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var r,a;const s=((a=(r=this._def).errorMap)==null?void 0:a.call(r,t,i).message)??i.defaultError;return t.code==="unrecognized_keys"?{message:At.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new xs({...this._def,unknownKeys:"strip"})}passthrough(){return new xs({...this._def,unknownKeys:"passthrough"})}extend(e){return new xs({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new xs({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:tn.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new xs({...this._def,catchall:e})}pick(e){const t={};for(const i of qn.objectKeys(e))e[i]&&this.shape[i]&&(t[i]=this.shape[i]);return new xs({...this._def,shape:()=>t})}omit(e){const t={};for(const i of qn.objectKeys(this.shape))e[i]||(t[i]=this.shape[i]);return new xs({...this._def,shape:()=>t})}deepPartial(){return Wy(this)}partial(e){const t={};for(const i of qn.objectKeys(this.shape)){const s=this.shape[i];e&&!e[i]?t[i]=s:t[i]=s.optional()}return new xs({...this._def,shape:()=>t})}required(e){const t={};for(const i of qn.objectKeys(this.shape))if(e&&!e[i])t[i]=this.shape[i];else{let r=this.shape[i];for(;r instanceof sm;)r=r._def.innerType;t[i]=r}return new xs({...this._def,shape:()=>t})}keyof(){return nG(qn.objectKeys(this.shape))}}xs.create=(n,e)=>new xs({shape:()=>n,unknownKeys:"strip",catchall:ym.create(),typeName:tn.ZodObject,...bn(e)});xs.strictCreate=(n,e)=>new xs({shape:()=>n,unknownKeys:"strict",catchall:ym.create(),typeName:tn.ZodObject,...bn(e)});xs.lazycreate=(n,e)=>new xs({shape:n,unknownKeys:"strip",catchall:ym.create(),typeName:tn.ZodObject,...bn(e)});class GS extends Un{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function s(r){for(const l of r)if(l.result.status==="valid")return l.result;for(const l of r)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;const a=r.map(l=>new Yh(l.ctx.common.issues));return lt(t,{code:Ze.invalid_union,unionErrors:a}),en}if(t.common.async)return Promise.all(i.map(async r=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await r._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(s);{let r;const a=[];for(const c of i){const h={...t,common:{...t.common,issues:[]},parent:null},f=c._parseSync({data:t.data,path:t.path,parent:h});if(f.status==="valid")return f;f.status==="dirty"&&!r&&(r={result:f,ctx:h}),h.common.issues.length&&a.push(h.common.issues)}if(r)return t.common.issues.push(...r.ctx.common.issues),r.result;const l=a.map(c=>new Yh(c));return lt(t,{code:Ze.invalid_union,unionErrors:l}),en}}get options(){return this._def.options}}GS.create=(n,e)=>new GS({options:n,typeName:tn.ZodUnion,...bn(e)});function iI(n,e){const t=Jd(n),i=Jd(e);if(n===e)return{valid:!0,data:n};if(t===wt.object&&i===wt.object){const s=qn.objectKeys(e),r=qn.objectKeys(n).filter(l=>s.indexOf(l)!==-1),a={...n,...e};for(const l of r){const c=iI(n[l],e[l]);if(!c.valid)return{valid:!1};a[l]=c.data}return{valid:!0,data:a}}else if(t===wt.array&&i===wt.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let r=0;r<n.length;r++){const a=n[r],l=e[r],c=iI(a,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return t===wt.date&&i===wt.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class WS extends Un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),s=(r,a)=>{if(C5(r)||C5(a))return en;const l=iI(r.value,a.value);return l.valid?((R5(r)||R5(a))&&t.dirty(),{status:t.value,value:l.data}):(lt(i,{code:Ze.invalid_intersection_types}),en)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([r,a])=>s(r,a)):s(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}WS.create=(n,e,t)=>new WS({left:n,right:e,typeName:tn.ZodIntersection,...bn(t)});class Vg extends Un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==wt.array)return lt(i,{code:Ze.invalid_type,expected:wt.array,received:i.parsedType}),en;if(i.data.length<this._def.items.length)return lt(i,{code:Ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),en;!this._def.rest&&i.data.length>this._def.items.length&&(lt(i,{code:Ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...i.data].map((a,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new gm(i,a,i.path,l)):null}).filter(a=>!!a);return i.common.async?Promise.all(r).then(a=>Oo.mergeArray(t,a)):Oo.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Vg({...this._def,rest:e})}}Vg.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Vg({items:n,typeName:tn.ZodTuple,rest:null,...bn(e)})};class j5 extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==wt.map)return lt(i,{code:Ze.invalid_type,expected:wt.map,received:i.parsedType}),en;const s=this._def.keyType,r=this._def.valueType,a=[...i.data.entries()].map(([l,c],h)=>({key:s._parse(new gm(i,l,i.path,[h,"key"])),value:r._parse(new gm(i,c,i.path,[h,"value"]))}));if(i.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of a){const h=await c.key,f=await c.value;if(h.status==="aborted"||f.status==="aborted")return en;(h.status==="dirty"||f.status==="dirty")&&t.dirty(),l.set(h.value,f.value)}return{status:t.value,value:l}})}else{const l=new Map;for(const c of a){const h=c.key,f=c.value;if(h.status==="aborted"||f.status==="aborted")return en;(h.status==="dirty"||f.status==="dirty")&&t.dirty(),l.set(h.value,f.value)}return{status:t.value,value:l}}}}j5.create=(n,e,t)=>new j5({valueType:e,keyType:n,typeName:tn.ZodMap,...bn(t)});class Hw extends Un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==wt.set)return lt(i,{code:Ze.invalid_type,expected:wt.set,received:i.parsedType}),en;const s=this._def;s.minSize!==null&&i.data.size<s.minSize.value&&(lt(i,{code:Ze.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&i.data.size>s.maxSize.value&&(lt(i,{code:Ze.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const r=this._def.valueType;function a(c){const h=new Set;for(const f of c){if(f.status==="aborted")return en;f.status==="dirty"&&t.dirty(),h.add(f.value)}return{status:t.value,value:h}}const l=[...i.data.values()].map((c,h)=>r._parse(new gm(i,c,i.path,h)));return i.common.async?Promise.all(l).then(c=>a(c)):a(l)}min(e,t){return new Hw({...this._def,minSize:{value:e,message:At.toString(t)}})}max(e,t){return new Hw({...this._def,maxSize:{value:e,message:At.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Hw.create=(n,e)=>new Hw({valueType:n,minSize:null,maxSize:null,typeName:tn.ZodSet,...bn(e)});class F5 extends Un{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}F5.create=(n,e)=>new F5({getter:n,typeName:tn.ZodLazy,...bn(e)});class V5 extends Un{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return lt(t,{received:t.data,code:Ze.invalid_literal,expected:this._def.value}),en}return{status:"valid",value:e.data}}get value(){return this._def.value}}V5.create=(n,e)=>new V5({value:n,typeName:tn.ZodLiteral,...bn(e)});function nG(n,e){return new W_({values:n,typeName:tn.ZodEnum,...bn(e)})}class W_ extends Un{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return lt(t,{expected:qn.joinValues(i),received:t.parsedType,code:Ze.invalid_type}),en}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),i=this._def.values;return lt(t,{received:t.data,code:Ze.invalid_enum_value,options:i}),en}return wl(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return W_.create(e,{...this._def,...t})}exclude(e,t=this._def){return W_.create(this.options.filter(i=>!e.includes(i)),{...this._def,...t})}}W_.create=nG;class B5 extends Un{_parse(e){const t=qn.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==wt.string&&i.parsedType!==wt.number){const s=qn.objectValues(t);return lt(i,{expected:qn.joinValues(s),received:i.parsedType,code:Ze.invalid_type}),en}if(this._cache||(this._cache=new Set(qn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=qn.objectValues(t);return lt(i,{received:i.data,code:Ze.invalid_enum_value,options:s}),en}return wl(e.data)}get enum(){return this._def.values}}B5.create=(n,e)=>new B5({values:n,typeName:tn.ZodNativeEnum,...bn(e)});class KS extends Un{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==wt.promise&&t.common.async===!1)return lt(t,{code:Ze.invalid_type,expected:wt.promise,received:t.parsedType}),en;const i=t.parsedType===wt.promise?t.data:Promise.resolve(t.data);return wl(i.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}KS.create=(n,e)=>new KS({type:n,typeName:tn.ZodPromise,...bn(e)});class K_ extends Un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:a=>{lt(i,a),a.fatal?t.abort():t.dirty()},get path(){return i.path}};if(r.addIssue=r.addIssue.bind(r),s.type==="preprocess"){const a=s.transform(i.data,r);if(i.common.async)return Promise.resolve(a).then(async l=>{if(t.value==="aborted")return en;const c=await this._def.schema._parseAsync({data:l,path:i.path,parent:i});return c.status==="aborted"?en:c.status==="dirty"||t.value==="dirty"?Vb(c.value):c});{if(t.value==="aborted")return en;const l=this._def.schema._parseSync({data:a,path:i.path,parent:i});return l.status==="aborted"?en:l.status==="dirty"||t.value==="dirty"?Vb(l.value):l}}if(s.type==="refinement"){const a=l=>{const c=s.refinement(l,r);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(i.common.async===!1){const l=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?en:(l.status==="dirty"&&t.dirty(),a(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(l=>l.status==="aborted"?en:(l.status==="dirty"&&t.dirty(),a(l.value).then(()=>({status:t.value,value:l.value}))))}if(s.type==="transform")if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!G_(a))return en;const l=s.transform(a.value,r);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>G_(a)?Promise.resolve(s.transform(a.value,r)).then(l=>({status:t.value,value:l})):en);qn.assertNever(s)}}K_.create=(n,e,t)=>new K_({schema:n,typeName:tn.ZodEffects,effect:e,...bn(t)});K_.createWithPreprocess=(n,e,t)=>new K_({schema:e,effect:{type:"preprocess",transform:n},typeName:tn.ZodEffects,...bn(t)});class sm extends Un{_parse(e){return this._getType(e)===wt.undefined?wl(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sm.create=(n,e)=>new sm({innerType:n,typeName:tn.ZodOptional,...bn(e)});class Y_ extends Un{_parse(e){return this._getType(e)===wt.null?wl(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Y_.create=(n,e)=>new Y_({innerType:n,typeName:tn.ZodNullable,...bn(e)});class sI extends Un{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===wt.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sI.create=(n,e)=>new sI({innerType:n,typeName:tn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...bn(e)});class rI extends Un{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return $S(s)?s.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Yh(i.common.issues)},input:i.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yh(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}rI.create=(n,e)=>new rI({innerType:n,typeName:tn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...bn(e)});class z5 extends Un{_parse(e){if(this._getType(e)!==wt.nan){const i=this._getOrReturnCtx(e);return lt(i,{code:Ze.invalid_type,expected:wt.nan,received:i.parsedType}),en}return{status:"valid",value:e.data}}}z5.create=n=>new z5({typeName:tn.ZodNaN,...bn(n)});class N_e extends Un{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class gO extends Un{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?en:r.status==="dirty"?(t.dirty(),Vb(r.value)):this._def.out._parseAsync({data:r.value,path:i.path,parent:i})})();{const s=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?en:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:i.path,parent:i})}}static create(e,t){return new gO({in:e,out:t,typeName:tn.ZodPipeline})}}class aI extends Un{_parse(e){const t=this._def.innerType._parse(e),i=s=>(G_(s)&&(s.value=Object.freeze(s.value)),s);return $S(t)?t.then(s=>i(s)):i(t)}unwrap(){return this._def.innerType}}aI.create=(n,e)=>new aI({innerType:n,typeName:tn.ZodReadonly,...bn(e)});var tn;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(tn||(tn={}));const rc=Qf.create;ym.create;vu.create;const b0=xs.create;GS.create;WS.create;Vg.create;W_.create;KS.create;sm.create;Y_.create;const L_e=b0({surname:rc().nonempty("Informe um apelido para a loja")});function O_e({open:n,setOpen:e}){const t=y0({resolver:_0(L_e),defaultValues:{surname:""}}),[i,s]=P.useState(!1),{user:r}=P.useContext(Jg),{createStore:a}=iA(),l=async({surname:c})=>{try{if(s(!0),!r||!r.token)throw"Você não está autenticado";await a(r.token,c),jt.success("Loja salva com sucesso, agora conecte ao WhatsApp")}catch(h){jt.error(h||"Erro")}finally{s(!1),t.reset(),e(!1)}};return b.jsx(LR,{open:n,onOpenChange:c=>{t.reset(),e(c)},children:b.jsx(v0,{...t,children:b.jsxs(OR,{className:"sm:max-w-md","aria-describedby":void 0,children:[b.jsx(Jye,{children:b.jsx(jR,{className:"text-lg font-semibold",children:"Adicionar loja"})}),b.jsxs("form",{className:"space-y-4",onSubmit:t.handleSubmit(l),children:[b.jsx("div",{children:b.jsx(ec,{control:t.control,name:"surname",render:({field:c})=>b.jsxs(tc,{children:[b.jsxs(nc,{children:["Apelido:",b.jsxs(Gg,{children:[b.jsx(Wg,{children:b.jsx(cte,{size:14})}),b.jsx(Kg,{side:"right",children:"Como você deseja chamar a loja"})]})]}),b.jsx(ic,{children:b.jsx(xu,{...c})}),b.jsx(sc,{})]})})}),b.jsxs(eve,{children:[b.jsx(Iq,{asChild:!0,children:b.jsx(mt,{variant:"secondary",children:"Cancelar"})}),b.jsxs(mt,{type:"submit",disabled:i,children:[i&&b.jsx(Dr,{className:"animate-spin"}),"Salvar"]})]})]})]})})})}function xl({className:n,...e}){return b.jsx("div",{"data-slot":"card",className:tt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function j_e({className:n,...e}){return b.jsx("div",{"data-slot":"card-header",className:tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function F_e({className:n,...e}){return b.jsx("div",{"data-slot":"card-title",className:tt("leading-none font-semibold",n),...e})}function V_e({className:n,...e}){return b.jsx("div",{"data-slot":"card-description",className:tt("text-muted-foreground text-sm",n),...e})}function El({className:n,...e}){return b.jsx("div",{"data-slot":"card-content",className:tt("px-6",n),...e})}var iG="AlertDialog",[B_e,wke]=bl(iG,[f9]),rd=f9(),sG=n=>{const{__scopeAlertDialog:e,...t}=n,i=rd(e);return b.jsx(bN,{...i,...t,modal:!0})};sG.displayName=iG;var z_e="AlertDialogTrigger",rG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,s=rd(t);return b.jsx(k9,{...s,...i,ref:e})});rG.displayName=z_e;var U_e="AlertDialogPortal",aG=n=>{const{__scopeAlertDialog:e,...t}=n,i=rd(e);return b.jsx(wN,{...i,...t})};aG.displayName=U_e;var H_e="AlertDialogOverlay",oG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,s=rd(t);return b.jsx(xN,{...s,...i,ref:e})});oG.displayName=H_e;var bv="AlertDialogContent",[$_e,q_e]=B_e(bv),G_e=SU("AlertDialogContent"),lG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:i,...s}=n,r=rd(t),a=P.useRef(null),l=Bi(e,a),c=P.useRef(null);return b.jsx(ere,{contentName:bv,titleName:cG,docsSlug:"alert-dialog",children:b.jsx($_e,{scope:t,cancelRef:c,children:b.jsxs(EN,{role:"alertdialog",...r,...s,ref:l,onOpenAutoFocus:Ft(s.onOpenAutoFocus,h=>{var f;h.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[b.jsx(G_e,{children:i}),b.jsx(K_e,{contentRef:a})]})})})});lG.displayName=bv;var cG="AlertDialogTitle",uG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,s=rd(t);return b.jsx(AN,{...s,...i,ref:e})});uG.displayName=cG;var hG="AlertDialogDescription",dG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,s=rd(t);return b.jsx(TN,{...s,...i,ref:e})});dG.displayName=hG;var W_e="AlertDialogAction",fG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,s=rd(t);return b.jsx(OE,{...s,...i,ref:e})});fG.displayName=W_e;var mG="AlertDialogCancel",pG=P.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...i}=n,{cancelRef:s}=q_e(mG,t),r=rd(t),a=Bi(e,s);return b.jsx(OE,{...r,...i,ref:a})});pG.displayName=mG;var K_e=({contentRef:n})=>{const e=`\`${bv}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bv}\` by passing a \`${hG}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bv}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return P.useEffect(()=>{var i;document.getElementById((i=n.current)==null?void 0:i.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},Y_e=sG,Z_e=rG,X_e=aG,Q_e=oG,J_e=lG,e0e=fG,t0e=pG,n0e=uG,i0e=dG;function gG({...n}){return b.jsx(Y_e,{"data-slot":"alert-dialog",...n})}function s0e({...n}){return b.jsx(Z_e,{"data-slot":"alert-dialog-trigger",...n})}function r0e({...n}){return b.jsx(X_e,{"data-slot":"alert-dialog-portal",...n})}function a0e({className:n,...e}){return b.jsx(Q_e,{"data-slot":"alert-dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function yG({className:n,...e}){return b.jsxs(r0e,{children:[b.jsx(a0e,{}),b.jsx(J_e,{"data-slot":"alert-dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...e})]})}function vG({className:n,...e}){return b.jsx("div",{"data-slot":"alert-dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function _G({className:n,...e}){return b.jsx("div",{"data-slot":"alert-dialog-footer",className:tt("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e})}function bG({className:n,...e}){return b.jsx(n0e,{"data-slot":"alert-dialog-title",className:tt("text-lg font-semibold",n),...e})}function wG({className:n,...e}){return b.jsx(i0e,{"data-slot":"alert-dialog-description",className:tt("text-muted-foreground text-sm",n),...e})}function o0e({className:n,...e}){return b.jsx(e0e,{className:tt(mN(),n),...e})}function xG({className:n,...e}){return b.jsx(t0e,{className:tt(mN({variant:"outline"}),n),...e})}const l0e=b0({name:rc().nonempty("Preencha o nome")});function c0e({store:n}){var f;const e=y0({resolver:_0(l0e),defaultValues:{name:""}}),[t,i]=P.useState(!1),[s,r]=P.useState(!1),{createStoreAttendant:a}=iA(),{user:l}=P.useContext(Jg),{fetchStores:c}=P.useContext(sA),h=async({name:p})=>{try{if(!l||!l.token)throw"Não autenticado";r(!0),await a(l.token,n.id,p),i(!1),c(l)}catch(v){const w=v;jt.error(w)}finally{r(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-center w-full",children:[b.jsxs("p",{className:"text-[16px]",children:["Atendentes (",((f=n.attendants)==null?void 0:f.length)||0,")"]}),b.jsxs(mt,{onClick:()=>i(!0),children:[b.jsx(qne,{})," Adicionar"]})]}),t&&b.jsx(v0,{...e,children:b.jsx("form",{onSubmit:e.handleSubmit(h),className:"mb-3",children:b.jsx(ec,{control:e.control,name:"name",render:({field:p})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Nome:"}),b.jsx(ic,{children:b.jsxs("div",{className:"flex gap-2",children:[b.jsx(xu,{...p}),b.jsx(mt,{size:"icon",variant:"secondary",onClick:()=>{e.reset(),i(!1)},children:b.jsx(n0,{})}),b.jsx(mt,{size:"icon",disabled:s,type:"submit",children:s?b.jsx(Dr,{className:"animate-spin"}):b.jsx(J_,{})})]})}),b.jsx(sc,{})]})})})}),n.attendants&&n.attendants.map((p,v)=>b.jsx(u0e,{attendant:p,storeId:n.id,userToken:(l==null?void 0:l.token)||"",onRemove:()=>c(l)},v))]})}function u0e({attendant:n,storeId:e,userToken:t,onRemove:i}){const[s,r]=P.useState(!1),[a,l]=P.useState(!1),{deleteStoreAttendant:c}=iA(),h={className:"h-[22px] w-[22px] has-[>svg]:px-0",variant:"ghost"},f=n.online?"bg-green-500":"bg-gray-500",p=n.online?"text-green-500":"text-gray-500",v=async()=>{try{await navigator.clipboard.writeText(n.token),r(!0),jt.success("Token copiado"),setTimeout(()=>r(!1),2e3)}catch(E){console.log(E),jt.error("Erro ao copiar token")}},w=async()=>{try{l(!0),await c(t,e,n.token),jt.success("Atendente removido"),i()}catch(E){console.log(E),jt.error("Erro ao remover atendente")}finally{l(!1)}};return b.jsx(xl,{className:"py-2 w-full",children:b.jsx(El,{className:"px-3",children:b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-[8px] h-[8px] rounded-full ${f}`}),b.jsxs("div",{children:[b.jsx("p",{children:n.name}),b.jsx("p",{className:`text-sm ${p}`})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2 bg-neutral-100 dark:bg-neutral-800 px-2 rounded-md",children:[n.token,b.jsx(mt,{...h,onClick:v,children:s?b.jsx(MU,{size:14}):b.jsx(lN,{size:14})})]}),b.jsxs(gG,{children:[b.jsx(s0e,{asChild:!0,children:b.jsx(mt,{className:"h-[22px] w-[22px] has-[>svg]:px-0 text-red-500",variant:"ghost",children:b.jsx(zC,{size:10})})}),b.jsxs(yG,{children:[b.jsxs(vG,{children:[b.jsx(bG,{children:"Remover atendente?"}),b.jsx(wG,{children:"Isso vai excluir permanentemente esse atendente."})]}),b.jsxs(_G,{children:[b.jsx(xG,{children:"Cancelar"}),b.jsx(o0e,{onClick:w,disabled:a,children:a?"Removendo...":"Remover"})]})]})]})]})]})})})}const Tu=Object.create(null);Tu.open="0";Tu.close="1";Tu.ping="2";Tu.pong="3";Tu.message="4";Tu.upgrade="5";Tu.noop="6";const _T=Object.create(null);Object.keys(Tu).forEach(n=>{_T[Tu[n]]=n});const oI={type:"error",data:"parser error"},EG=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",AG=typeof ArrayBuffer=="function",TG=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,yO=({type:n,data:e},t,i)=>EG&&e instanceof Blob?t?i(e):U5(e,i):AG&&(e instanceof ArrayBuffer||TG(e))?t?i(e):U5(new Blob([e]),i):i(Tu[n]+(e||"")),U5=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function H5(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let EM;function h0e(n,e){if(EG&&n.data instanceof Blob)return n.data.arrayBuffer().then(H5).then(e);if(AG&&(n.data instanceof ArrayBuffer||TG(n.data)))return e(H5(n.data));yO(n,!1,t=>{EM||(EM=new TextEncoder),e(EM.encode(t))})}const $5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Bb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<$5.length;n++)Bb[$5.charCodeAt(n)]=n;const d0e=n=>{let e=n.length*.75,t=n.length,i,s=0,r,a,l,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const h=new ArrayBuffer(e),f=new Uint8Array(h);for(i=0;i<t;i+=4)r=Bb[n.charCodeAt(i)],a=Bb[n.charCodeAt(i+1)],l=Bb[n.charCodeAt(i+2)],c=Bb[n.charCodeAt(i+3)],f[s++]=r<<2|a>>4,f[s++]=(a&15)<<4|l>>2,f[s++]=(l&3)<<6|c&63;return h},f0e=typeof ArrayBuffer=="function",vO=(n,e)=>{if(typeof n!="string")return{type:"message",data:SG(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:m0e(n.substring(1),e)}:_T[t]?n.length>1?{type:_T[t],data:n.substring(1)}:{type:_T[t]}:oI},m0e=(n,e)=>{if(f0e){const t=d0e(n);return SG(t,e)}else return{base64:!0,data:n}},SG=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},CG="",p0e=(n,e)=>{const t=n.length,i=new Array(t);let s=0;n.forEach((r,a)=>{yO(r,!1,l=>{i[a]=l,++s===t&&e(i.join(CG))})})},g0e=(n,e)=>{const t=n.split(CG),i=[];for(let s=0;s<t.length;s++){const r=vO(t[s],e);if(i.push(r),r.type==="error")break}return i};function y0e(){return new TransformStream({transform(n,e){h0e(n,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(t)})}})}let AM;function V1(n){return n.reduce((e,t)=>e+t.length,0)}function B1(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)t[s]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function v0e(n,e){AM||(AM=new TextDecoder);const t=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,l){for(t.push(a);;){if(i===0){if(V1(t)<1)break;const c=B1(t,1);r=(c[0]&128)===128,s=c[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(V1(t)<2)break;const c=B1(t,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),i=3}else if(i===2){if(V1(t)<8)break;const c=B1(t,8),h=new DataView(c.buffer,c.byteOffset,c.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(oI);break}s=f*Math.pow(2,32)+h.getUint32(4),i=3}else{if(V1(t)<s)break;const c=B1(t,s);l.enqueue(vO(r?c:AM.decode(c),e)),i=0}if(s===0||s>n){l.enqueue(oI);break}}}})}const RG=4;function Cs(n){if(n)return _0e(n)}function _0e(n){for(var e in Cs.prototype)n[e]=Cs.prototype[e];return n}Cs.prototype.on=Cs.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Cs.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Cs.prototype.off=Cs.prototype.removeListener=Cs.prototype.removeAllListeners=Cs.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,s=0;s<t.length;s++)if(i=t[s],i===e||i.fn===e){t.splice(s,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Cs.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,s=t.length;i<s;++i)t[i].apply(this,e)}return this};Cs.prototype.emitReserved=Cs.prototype.emit;Cs.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Cs.prototype.hasListeners=function(n){return!!this.listeners(n).length};const zR=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ll=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),b0e="arraybuffer";function kG(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const w0e=ll.setTimeout,x0e=ll.clearTimeout;function UR(n,e){e.useNativeTimers?(n.setTimeoutFn=w0e.bind(ll),n.clearTimeoutFn=x0e.bind(ll)):(n.setTimeoutFn=ll.setTimeout.bind(ll),n.clearTimeoutFn=ll.clearTimeout.bind(ll))}const E0e=1.33;function A0e(n){return typeof n=="string"?T0e(n):Math.ceil((n.byteLength||n.size)*E0e)}function T0e(n){let e=0,t=0;for(let i=0,s=n.length;i<s;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function MG(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function S0e(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function C0e(n){let e={},t=n.split("&");for(let i=0,s=t.length;i<s;i++){let r=t[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class R0e extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class _O extends Cs{constructor(e){super(),this.writable=!1,UR(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new R0e(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=vO(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=S0e(e);return t.length?"?"+t:""}}class k0e extends _O{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};g0e(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,p0e(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=MG()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let PG=!1;try{PG=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const M0e=PG;function P0e(){}class I0e extends k0e{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}let wv=class bT extends Cs{constructor(e,t,i){super(),this.createRequest=e,UR(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const t=kG(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=bT.requestsCount++,bT.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=P0e,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete bT.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};wv.requestsCount=0;wv.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",q5);else if(typeof addEventListener=="function"){const n="onpagehide"in ll?"pagehide":"unload";addEventListener(n,q5,!1)}}function q5(){for(let n in wv.requests)wv.requests.hasOwnProperty(n)&&wv.requests[n].abort()}const D0e=function(){const n=IG({xdomain:!1});return n&&n.responseType!==null}();class N0e extends I0e{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=D0e&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new wv(IG,this.uri(),e)}}function IG(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||M0e))return new XMLHttpRequest}catch{}if(!e)try{return new ll[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const DG=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class L0e extends _O{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=DG?{}:kG(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;yO(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}s&&zR(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=MG()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const TM=ll.WebSocket||ll.MozWebSocket;class O0e extends L0e{createSocket(e,t,i){return DG?new TM(e,t,i):t?new TM(e,t):new TM(e)}doWrite(e,t){this.ws.send(t)}}class j0e extends _O{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=v0e(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),s=y0e();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{i.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],s=t===e.length-1;this._writer.write(i).then(()=>{s&&zR(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const F0e={websocket:O0e,webtransport:j0e,polling:N0e},V0e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,B0e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lI(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let s=V0e.exec(n||""),r={},a=14;for(;a--;)r[B0e[a]]=s[a]||"";return t!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=z0e(r,r.path),r.queryKey=U0e(r,r.query),r}function z0e(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function U0e(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(t[s]=r)}),t}const cI=typeof addEventListener=="function"&&typeof removeEventListener=="function",wT=[];cI&&addEventListener("offline",()=>{wT.forEach(n=>n())},!1);class rm extends Cs{constructor(e,t){if(super(),this.binaryType=b0e,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const i=lI(e);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=lI(t.host).host);UR(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=C0e(this.opts.query)),cI&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wT.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=RG,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&rm.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",rm.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(t+=A0e(s)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,zR(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,i){return this._sendPacket("message",e,t,i),this}send(e,t,i){return this._sendPacket("message",e,t,i),this}_sendPacket(e,t,i,s){if(typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:t,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(rm.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cI&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=wT.indexOf(this._offlineEventListener);i!==-1&&wT.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}rm.protocol=RG;class H0e extends rm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;rm.priorWebsocketSuccess=!1;const s=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",p=>{if(!i)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;rm.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=t.name,this.emitReserved("upgradeError",v)}}))};function r(){i||(i=!0,f(),t.close(),t=null)}const a=p=>{const v=new Error("probe error: "+p);v.transport=t.name,r(),this.emitReserved("upgradeError",v)};function l(){a("transport closed")}function c(){a("socket closed")}function h(p){t&&p.name!==t.name&&r()}const f=()=>{t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",l),this.off("close",c),this.off("upgrading",h)};t.once("open",s),t.once("error",a),t.once("close",l),this.once("close",c),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}let $0e=class extends H0e{constructor(e,t={}){const i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>F0e[s]).filter(s=>!!s)),super(e,i)}};function q0e(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=lI(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(t&&t.port===i.port?"":":"+i.port),i}const G0e=typeof ArrayBuffer=="function",W0e=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,NG=Object.prototype.toString,K0e=typeof Blob=="function"||typeof Blob<"u"&&NG.call(Blob)==="[object BlobConstructor]",Y0e=typeof File=="function"||typeof File<"u"&&NG.call(File)==="[object FileConstructor]";function bO(n){return G0e&&(n instanceof ArrayBuffer||W0e(n))||K0e&&n instanceof Blob||Y0e&&n instanceof File}function xT(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(xT(n[t]))return!0;return!1}if(bO(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return xT(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&xT(n[t]))return!0;return!1}function Z0e(n){const e=[],t=n.data,i=n;return i.data=uI(t,e),i.attachments=e.length,{packet:i,buffers:e}}function uI(n,e){if(!n)return n;if(bO(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=uI(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=uI(n[i],e));return t}return n}function X0e(n,e){return n.data=hI(n.data,e),delete n.attachments,n}function hI(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=hI(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=hI(n[t],e));return n}const Q0e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],J0e=5;var Pn;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(Pn||(Pn={}));class ebe{constructor(e){this.replacer=e}encode(e){return(e.type===Pn.EVENT||e.type===Pn.ACK)&&xT(e)?this.encodeAsBinary({type:e.type===Pn.EVENT?Pn.BINARY_EVENT:Pn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===Pn.BINARY_EVENT||e.type===Pn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Z0e(e),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function G5(n){return Object.prototype.toString.call(n)==="[object Object]"}class wO extends Cs{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===Pn.BINARY_EVENT;i||t.type===Pn.BINARY_ACK?(t.type=i?Pn.EVENT:Pn.ACK,this.reconstructor=new tbe(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(bO(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(Pn[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Pn.BINARY_EVENT||i.type===Pn.BINARY_ACK){const r=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(r,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(t+1)==="/"){const r=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(r,t)}else i.nsp="/";const s=e.charAt(t+1);if(s!==""&&Number(s)==s){const r=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(wO.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Pn.CONNECT:return G5(t);case Pn.DISCONNECT:return t===void 0;case Pn.CONNECT_ERROR:return typeof t=="string"||G5(t);case Pn.EVENT:case Pn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Q0e.indexOf(t[0])===-1);case Pn.ACK:case Pn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class tbe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=X0e(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nbe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:wO,Encoder:ebe,get PacketType(){return Pn},protocol:J0e},Symbol.toStringTag,{value:"Module"}));function Zl(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const ibe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class LG extends Cs{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Zl(e,"open",this.onopen.bind(this)),Zl(e,"packet",this.onpacket.bind(this)),Zl(e,"error",this.onerror.bind(this)),Zl(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,s,r;if(ibe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:Pn.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const f=this.ids++,p=t.pop();this._registerAckCallback(f,p),a.id=f}const l=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=t;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);t.call(this,new Error("operation has timed out"))},s),a=(...l)=>{this.io.clearTimeoutFn(r),t.apply(this,l)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((i,s)=>{const r=(a,l)=>a?s(a):i(l);r.withError=!0,t.push(r),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pn.EVENT:case Pn.BINARY_EVENT:this.onevent(e);break;case Pn.ACK:case Pn.BINARY_ACK:this.onack(e);break;case Pn.DISCONNECT:this.ondisconnect();break;case Pn.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:Pn.ACK,id:e,data:s}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function w0(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}w0.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=(Math.floor(e*10)&1)==0?n-t:n+t}return Math.min(n,this.max)|0};w0.prototype.reset=function(){this.attempts=0};w0.prototype.setMin=function(n){this.ms=n};w0.prototype.setMax=function(n){this.max=n};w0.prototype.setJitter=function(n){this.jitter=n};class dI extends Cs{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,UR(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new w0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||nbe;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $0e(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Zl(t,"open",function(){i.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},a=Zl(t,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),t.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Zl(e,"ping",this.onping.bind(this)),Zl(e,"data",this.ondata.bind(this)),Zl(e,"error",this.onerror.bind(this)),Zl(e,"close",this.onclose.bind(this)),Zl(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){zR(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new LG(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ab={};function gw(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=q0e(n,e.path||"/socket.io"),i=t.source,s=t.id,r=t.path,a=Ab[s]&&r in Ab[s].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return l?c=new dI(i,e):(Ab[s]||(Ab[s]=new dI(i,e)),c=Ab[s]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(gw,{Manager:dI,Socket:LG,io:gw,connect:gw});var sbe=Object.defineProperty,YS=Object.getOwnPropertySymbols,OG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,W5=(n,e,t)=>e in n?sbe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fI=(n,e)=>{for(var t in e||(e={}))OG.call(e,t)&&W5(n,t,e[t]);if(YS)for(var t of YS(e))jG.call(e,t)&&W5(n,t,e[t]);return n},mI=(n,e)=>{var t={};for(var i in n)OG.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&YS)for(var i of YS(n))e.indexOf(i)<0&&jG.call(n,i)&&(t[i]=n[i]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Bg;(n=>{const e=class Tn{constructor(c,h,f,p){if(this.version=c,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],c<Tn.MIN_VERSION||c>Tn.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let v=[];for(let E=0;E<this.size;E++)v.push(!1);for(let E=0;E<this.size;E++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const w=this.addEccAndInterleave(f);if(this.drawCodewords(w),p==-1){let E=1e9;for(let S=0;S<8;S++){this.applyMask(S),this.drawFormatBits(S);const C=this.getPenaltyScore();C<E&&(p=S,E=C),this.applyMask(S)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(c,h){const f=n.QrSegment.makeSegments(c);return Tn.encodeSegments(f,h)}static encodeBinary(c,h){const f=n.QrSegment.makeBytes(c);return Tn.encodeSegments([f],h)}static encodeSegments(c,h,f=1,p=40,v=-1,w=!0){if(!(Tn.MIN_VERSION<=f&&f<=p&&p<=Tn.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let E,S;for(E=f;;E++){const I=Tn.getNumDataCodewords(E,h)*8,z=a.getTotalBits(c,E);if(z<=I){S=z;break}if(E>=p)throw new RangeError("Data too long")}for(const I of[Tn.Ecc.MEDIUM,Tn.Ecc.QUARTILE,Tn.Ecc.HIGH])w&&S<=Tn.getNumDataCodewords(E,I)*8&&(h=I);let C=[];for(const I of c){t(I.mode.modeBits,4,C),t(I.numChars,I.mode.numCharCountBits(E),C);for(const z of I.getData())C.push(z)}s(C.length==S);const k=Tn.getNumDataCodewords(E,h)*8;s(C.length<=k),t(0,Math.min(4,k-C.length),C),t(0,(8-C.length%8)%8,C),s(C.length%8==0);for(let I=236;C.length<k;I^=253)t(I,8,C);let N=[];for(;N.length*8<C.length;)N.push(0);return C.forEach((I,z)=>N[z>>>3]|=I<<7-(z&7)),new Tn(E,h,N,v)}getModule(c,h){return 0<=c&&c<this.size&&0<=h&&h<this.size&&this.modules[h][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),h=c.length;for(let f=0;f<h;f++)for(let p=0;p<h;p++)f==0&&p==0||f==0&&p==h-1||f==h-1&&p==0||this.drawAlignmentPattern(c[f],c[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const h=this.errorCorrectionLevel.formatBits<<3|c;let f=h;for(let v=0;v<10;v++)f=f<<1^(f>>>9)*1335;const p=(h<<10|f)^21522;s(p>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,i(p,v));this.setFunctionModule(8,7,i(p,6)),this.setFunctionModule(8,8,i(p,7)),this.setFunctionModule(7,8,i(p,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,i(p,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,i(p,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,i(p,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const h=this.version<<12|c;s(h>>>18==0);for(let f=0;f<18;f++){const p=i(h,f),v=this.size-11+f%3,w=Math.floor(f/3);this.setFunctionModule(v,w,p),this.setFunctionModule(w,v,p)}}drawFinderPattern(c,h){for(let f=-4;f<=4;f++)for(let p=-4;p<=4;p++){const v=Math.max(Math.abs(p),Math.abs(f)),w=c+p,E=h+f;0<=w&&w<this.size&&0<=E&&E<this.size&&this.setFunctionModule(w,E,v!=2&&v!=4)}}drawAlignmentPattern(c,h){for(let f=-2;f<=2;f++)for(let p=-2;p<=2;p++)this.setFunctionModule(c+p,h+f,Math.max(Math.abs(p),Math.abs(f))!=1)}setFunctionModule(c,h,f){this.modules[h][c]=f,this.isFunction[h][c]=!0}addEccAndInterleave(c){const h=this.version,f=this.errorCorrectionLevel;if(c.length!=Tn.getNumDataCodewords(h,f))throw new RangeError("Invalid argument");const p=Tn.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][h],v=Tn.ECC_CODEWORDS_PER_BLOCK[f.ordinal][h],w=Math.floor(Tn.getNumRawDataModules(h)/8),E=p-w%p,S=Math.floor(w/p);let C=[];const k=Tn.reedSolomonComputeDivisor(v);for(let I=0,z=0;I<p;I++){let V=c.slice(z,z+S-v+(I<E?0:1));z+=V.length;const H=Tn.reedSolomonComputeRemainder(V,k);I<E&&V.push(0),C.push(V.concat(H))}let N=[];for(let I=0;I<C[0].length;I++)C.forEach((z,V)=>{(I!=S-v||V>=E)&&N.push(z[I])});return s(N.length==w),N}drawCodewords(c){if(c.length!=Math.floor(Tn.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let p=0;p<this.size;p++)for(let v=0;v<2;v++){const w=f-v,S=(f+1&2)==0?this.size-1-p:p;!this.isFunction[S][w]&&h<c.length*8&&(this.modules[S][w]=i(c[h>>>3],7-(h&7)),h++)}}s(h==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let f=0;f<this.size;f++){let p;switch(c){case 0:p=(f+h)%2==0;break;case 1:p=h%2==0;break;case 2:p=f%3==0;break;case 3:p=(f+h)%3==0;break;case 4:p=(Math.floor(f/3)+Math.floor(h/2))%2==0;break;case 5:p=f*h%2+f*h%3==0;break;case 6:p=(f*h%2+f*h%3)%2==0;break;case 7:p=((f+h)%2+f*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][f]&&p&&(this.modules[h][f]=!this.modules[h][f])}}getPenaltyScore(){let c=0;for(let v=0;v<this.size;v++){let w=!1,E=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[v][C]==w?(E++,E==5?c+=Tn.PENALTY_N1:E>5&&c++):(this.finderPenaltyAddHistory(E,S),w||(c+=this.finderPenaltyCountPatterns(S)*Tn.PENALTY_N3),w=this.modules[v][C],E=1);c+=this.finderPenaltyTerminateAndCount(w,E,S)*Tn.PENALTY_N3}for(let v=0;v<this.size;v++){let w=!1,E=0,S=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][v]==w?(E++,E==5?c+=Tn.PENALTY_N1:E>5&&c++):(this.finderPenaltyAddHistory(E,S),w||(c+=this.finderPenaltyCountPatterns(S)*Tn.PENALTY_N3),w=this.modules[C][v],E=1);c+=this.finderPenaltyTerminateAndCount(w,E,S)*Tn.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let w=0;w<this.size-1;w++){const E=this.modules[v][w];E==this.modules[v][w+1]&&E==this.modules[v+1][w]&&E==this.modules[v+1][w+1]&&(c+=Tn.PENALTY_N2)}let h=0;for(const v of this.modules)h=v.reduce((w,E)=>w+(E?1:0),h);const f=this.size*this.size,p=Math.ceil(Math.abs(h*20-f*10)/f)-1;return s(0<=p&&p<=9),c+=p*Tn.PENALTY_N4,s(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let p=this.size-7;f.length<c;p-=h)f.splice(1,0,p);return f}}static getNumRawDataModules(c){if(c<Tn.MIN_VERSION||c>Tn.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;h-=(25*f-10)*f-55,c>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(c,h){return Math.floor(Tn.getNumRawDataModules(c)/8)-Tn.ECC_CODEWORDS_PER_BLOCK[h.ordinal][c]*Tn.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let h=[];for(let p=0;p<c-1;p++)h.push(0);h.push(1);let f=1;for(let p=0;p<c;p++){for(let v=0;v<h.length;v++)h[v]=Tn.reedSolomonMultiply(h[v],f),v+1<h.length&&(h[v]^=h[v+1]);f=Tn.reedSolomonMultiply(f,2)}return h}static reedSolomonComputeRemainder(c,h){let f=h.map(p=>0);for(const p of c){const v=p^f.shift();f.push(0),h.forEach((w,E)=>f[E]^=Tn.reedSolomonMultiply(w,v))}return f}static reedSolomonMultiply(c,h){if(c>>>8||h>>>8)throw new RangeError("Byte out of range");let f=0;for(let p=7;p>=0;p--)f=f<<1^(f>>>7)*285,f^=(h>>>p&1)*c;return s(f>>>8==0),f}finderPenaltyCountPatterns(c){const h=c[1];s(h<=this.size*3);const f=h>0&&c[2]==h&&c[3]==h*3&&c[4]==h&&c[5]==h;return(f&&c[0]>=h*4&&c[6]>=h?1:0)+(f&&c[6]>=h*4&&c[0]>=h?1:0)}finderPenaltyTerminateAndCount(c,h,f){return c&&(this.finderPenaltyAddHistory(h,f),h=0),h+=this.size,this.finderPenaltyAddHistory(h,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,h){h[0]==0&&(c+=this.size),h.pop(),h.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(l,c,h){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)h.push(l>>>f&1)}function i(l,c){return(l>>>c&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const r=class Gi{constructor(c,h,f){if(this.mode=c,this.numChars=h,this.bitData=f,h<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let h=[];for(const f of c)t(f,8,h);return new Gi(Gi.Mode.BYTE,c.length,h)}static makeNumeric(c){if(!Gi.isNumeric(c))throw new RangeError("String contains non-numeric characters");let h=[];for(let f=0;f<c.length;){const p=Math.min(c.length-f,3);t(parseInt(c.substring(f,f+p),10),p*3+1,h),f+=p}return new Gi(Gi.Mode.NUMERIC,c.length,h)}static makeAlphanumeric(c){if(!Gi.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],f;for(f=0;f+2<=c.length;f+=2){let p=Gi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;p+=Gi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),t(p,11,h)}return f<c.length&&t(Gi.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,h),new Gi(Gi.Mode.ALPHANUMERIC,c.length,h)}static makeSegments(c){return c==""?[]:Gi.isNumeric(c)?[Gi.makeNumeric(c)]:Gi.isAlphanumeric(c)?[Gi.makeAlphanumeric(c)]:[Gi.makeBytes(Gi.toUtf8ByteArray(c))]}static makeEci(c){let h=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)t(c,8,h);else if(c<16384)t(2,2,h),t(c,14,h);else if(c<1e6)t(6,3,h),t(c,21,h);else throw new RangeError("ECI assignment value out of range");return new Gi(Gi.Mode.ECI,0,h)}static isNumeric(c){return Gi.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Gi.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,h){let f=0;for(const p of c){const v=p.mode.numCharCountBits(h);if(p.numChars>=1<<v)return 1/0;f+=4+v+p.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let h=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?h.push(c.charCodeAt(f)):(h.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return h}};r.NUMERIC_REGEX=/^[0-9]*$/,r.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,r.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=r;n.QrSegment=r})(Bg||(Bg={}));(n=>{(e=>{const t=class{constructor(s,r){this.ordinal=s,this.formatBits=r}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Bg||(Bg={}));(n=>{(e=>{const t=class{constructor(s,r){this.modeBits=s,this.numBitsCharCount=r}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Bg||(Bg={}));var iv=Bg;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rbe={L:iv.QrCode.Ecc.LOW,M:iv.QrCode.Ecc.MEDIUM,Q:iv.QrCode.Ecc.QUARTILE,H:iv.QrCode.Ecc.HIGH},FG=128,VG="L",BG="#FFFFFF",zG="#000000",UG=!1,HG=1,abe=4,obe=0,lbe=.1;function $G(n,e=0){const t=[];return n.forEach(function(i,s){let r=null;i.forEach(function(a,l){if(!a&&r!==null){t.push(`M${r+e} ${s+e}h${l-r}v1H${r+e}z`),r=null;return}if(l===i.length-1){if(!a)return;r===null?t.push(`M${l+e},${s+e} h1v1H${l+e}z`):t.push(`M${r+e},${s+e} h${l+1-r}v1H${r+e}z`);return}a&&r===null&&(r=l)})}),t.join("")}function qG(n,e){return n.slice().map((t,i)=>i<e.y||i>=e.y+e.h?t:t.map((s,r)=>r<e.x||r>=e.x+e.w?s:!1))}function cbe(n,e,t,i){if(i==null)return null;const s=n.length+t*2,r=Math.floor(e*lbe),a=s/e,l=(i.width||r)*a,c=(i.height||r)*a,h=i.x==null?n.length/2-l/2:i.x*a,f=i.y==null?n.length/2-c/2:i.y*a,p=i.opacity==null?1:i.opacity;let v=null;if(i.excavate){let E=Math.floor(h),S=Math.floor(f),C=Math.ceil(l+h-E),k=Math.ceil(c+f-S);v={x:E,y:S,w:C,h:k}}const w=i.crossOrigin;return{x:h,y:f,h:c,w:l,excavation:v,opacity:p,crossOrigin:w}}function ube(n,e){return e!=null?Math.max(Math.floor(e),0):n?abe:obe}function GG({value:n,level:e,minVersion:t,includeMargin:i,marginSize:s,imageSettings:r,size:a,boostLevel:l}){let c=xe.useMemo(()=>{const E=(Array.isArray(n)?n:[n]).reduce((S,C)=>(S.push(...iv.QrSegment.makeSegments(C)),S),[]);return iv.QrCode.encodeSegments(E,rbe[e],t,void 0,void 0,l)},[n,e,t,l]);const{cells:h,margin:f,numCells:p,calculatedImageSettings:v}=xe.useMemo(()=>{let w=c.getModules();const E=ube(i,s),S=w.length+E*2,C=cbe(w,a,E,r);return{cells:w,margin:E,numCells:S,calculatedImageSettings:C}},[c,a,r,i,s]);return{qrcode:c,margin:f,cells:h,numCells:p,calculatedImageSettings:v}}var hbe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),dbe=xe.forwardRef(function(e,t){const i=e,{value:s,size:r=FG,level:a=VG,bgColor:l=BG,fgColor:c=zG,includeMargin:h=UG,minVersion:f=HG,boostLevel:p,marginSize:v,imageSettings:w}=i,S=mI(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=S,k=mI(S,["style"]),N=w==null?void 0:w.src,I=xe.useRef(null),z=xe.useRef(null),V=xe.useCallback(_e=>{I.current=_e,typeof t=="function"?t(_e):t&&(t.current=_e)},[t]),[H,B]=xe.useState(!1),{margin:j,cells:q,numCells:Y,calculatedImageSettings:Z}=GG({value:s,level:a,minVersion:f,boostLevel:p,includeMargin:h,marginSize:v,imageSettings:w,size:r});xe.useEffect(()=>{if(I.current!=null){const _e=I.current,Le=_e.getContext("2d");if(!Le)return;let ee=q;const se=z.current,ie=Z!=null&&se!==null&&se.complete&&se.naturalHeight!==0&&se.naturalWidth!==0;ie&&Z.excavation!=null&&(ee=qG(q,Z.excavation));const Te=window.devicePixelRatio||1;_e.height=_e.width=r*Te;const J=r/Y*Te;Le.scale(J,J),Le.fillStyle=l,Le.fillRect(0,0,Y,Y),Le.fillStyle=c,hbe?Le.fill(new Path2D($G(ee,j))):q.forEach(function(ce,ge){ce.forEach(function(ue,De){ue&&Le.fillRect(De+j,ge+j,1,1)})}),Z&&(Le.globalAlpha=Z.opacity),ie&&Le.drawImage(se,Z.x+j,Z.y+j,Z.w,Z.h)}}),xe.useEffect(()=>{B(!1)},[N]);const ne=fI({height:r,width:r},C);let Q=null;return N!=null&&(Q=xe.createElement("img",{src:N,key:N,style:{display:"none"},onLoad:()=>{B(!0)},ref:z,crossOrigin:Z==null?void 0:Z.crossOrigin})),xe.createElement(xe.Fragment,null,xe.createElement("canvas",fI({style:ne,height:r,width:r,ref:V,role:"img"},k)),Q)});dbe.displayName="QRCodeCanvas";var WG=xe.forwardRef(function(e,t){const i=e,{value:s,size:r=FG,level:a=VG,bgColor:l=BG,fgColor:c=zG,includeMargin:h=UG,minVersion:f=HG,boostLevel:p,title:v,marginSize:w,imageSettings:E}=i,S=mI(i,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:k,numCells:N,calculatedImageSettings:I}=GG({value:s,level:a,minVersion:f,boostLevel:p,includeMargin:h,marginSize:w,imageSettings:E,size:r});let z=k,V=null;E!=null&&I!=null&&(I.excavation!=null&&(z=qG(k,I.excavation)),V=xe.createElement("image",{href:E.src,height:I.h,width:I.w,x:I.x+C,y:I.y+C,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const H=$G(z,C);return xe.createElement("svg",fI({height:r,width:r,viewBox:`0 0 ${N} ${N}`,ref:t,role:"img"},S),!!v&&xe.createElement("title",null,v),xe.createElement("path",{fill:l,d:`M0,0 h${N}v${N}H0z`,shapeRendering:"crispEdges"}),xe.createElement("path",{fill:c,d:H,shapeRendering:"crispEdges"}),V)});WG.displayName="QRCodeSVG";function fbe({token:n}){return b.jsx("div",{className:"min-w-[150px] w-full max-w-[150px]",children:n?b.jsx(WG,{value:n,size:150}):b.jsx(mt,{className:"w-[150px] h-[150px] rounded-2xl flex items-center justify-center",children:b.jsx(VU,{color:"white"})})})}function mbe({storeId:n,connectionUrl:e}){const[t,i]=P.useState(!1),[s,r]=P.useState(!1),[a,l]=P.useState(!1),[c,h]=P.useState(""),{user:f}=P.useContext(Jg),{setStores:p}=P.useContext(sA),v=sO,w={path:`/${e}/socket.io`,transports:["websocket","polling"]},E=gw(v,w);return P.useEffect(()=>{t&&f&&(r(!0),console.log("Tentando gerar o QR code"),E.emit("connect-store",{storeId:n,idToken:f.token}),E.on("qr",S=>{const C=S.qr;C&&typeof C=="string"&&(h(C),l(!0),r(!1))}),E.on("store-status",S=>{S.status==="connected"&&(jt.success("Loja conectada com sucesso"),p(k=>{const N=k.map(I=>I.id===n?{...I,hasCreds:!0}:I);return console.log(N),N}))}))},[n,t]),b.jsx(b.Fragment,{children:a&&!s?b.jsxs(b.Fragment,{children:[b.jsx(pbe,{}),b.jsx(xl,{className:"bg-white w-full",children:b.jsx(El,{children:b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(fbe,{token:c})})})})]}):b.jsx(gbe,{setTryConnect:i,loading:s})})}function pbe(){return b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-[18px]",children:"Etapas para acessar:"}),b.jsxs("ol",{className:"ps-5 list-decimal",children:[b.jsx("li",{children:"Abra o WhatsApp no seu celular"}),b.jsxs("li",{children:["Toque em Mais opções"," ",b.jsx("span",{className:"inline-flex",children:b.jsx(cN,{size:14})})," ","no Android ou em Configurações"," ",b.jsx("span",{className:"inline-flex",children:b.jsx(gte,{size:14})})," ","no IPhone"]}),b.jsx("li",{children:"Toque em dispositivos conectados e, em seguida, em conectar dispositivo"}),b.jsx("li",{children:"Escanei o QR code abaixo para confirmar"})]})]})}function gbe({setTryConnect:n,loading:e}){return b.jsxs(b.Fragment,{children:[b.jsx("p",{className:"text-[16px]",children:"Para conectar a loja ao número de WhatsApp é necessário escanear o QRCode"}),b.jsx(xl,{className:"bg-white w-full",children:b.jsx(El,{children:b.jsx("div",{className:"flex items-center justify-center",children:b.jsx("div",{className:"w-[150px] h-[150px] bg-gray-900 rounded-xl flex items-center justify-center",children:b.jsxs(Gg,{children:[b.jsx(Wg,{asChild:!0,children:b.jsx(mt,{onClick:()=>n(!0),variant:"ghost",className:"text-white",disabled:e,children:e?b.jsx(Dr,{className:"animate-spin"}):b.jsx(VU,{})})}),b.jsxs(Kg,{children:[e?"Gerando":"Gerar"," o QRCode"]})]})})})})})]})}function ybe({open:n,setOpen:e,storeId:t}){const[i,s]=P.useState(!1),{deleteStore:r}=iA(),{user:a}=P.useContext(Jg),{fetchStores:l}=P.useContext(sA),c=async()=>{try{if(s(!0),!a||!a.token)throw"Você não está autenticado";await r(a.token,t)}catch(h){console.log(h),jt.error(h||"Erro")}finally{e(!1),s(!1),l(a)}};return b.jsx(gG,{open:n,onOpenChange:e,children:b.jsxs(yG,{children:[b.jsxs(vG,{children:[b.jsx(bG,{children:"Tem certeza que deseja excluir a loja?"}),b.jsx(wG,{children:"Essa ação é irreversível. Isso irá deletar permanentemente a loja da e excluir as credenciais de conexão ao WhatsApp."})]}),b.jsxs(_G,{children:[b.jsx(xG,{disabled:i,children:"Cancelar"}),b.jsxs(mt,{className:"bg-red-500 text-white hover:bg-red-600",onClick:c,disabled:i,children:[i&&b.jsx(Dr,{className:"animate-spin"}),"Excluir"]})]})]})})}function vbe({store:n}){return console.log(n),b.jsxs(Gg,{children:[b.jsx(Wg,{children:b.jsxs(mt,{variant:"outline",disabled:!0,children:[b.jsx(t0,{})," Sincronizar contatos"]})}),b.jsx(Kg,{children:"Em breve"})]})}function _be({store:n,index:e}){const[t,i]=P.useState(!1),s=n.attendants&&n.attendants.length>0,r=n.hasCreds?"text-green-500":"text-red-500",a=n.hasCreds?"Conectado":"Desconectado";return b.jsxs(b.Fragment,{children:[b.jsx(xl,{className:"shadow-none p-0",children:b.jsx(El,{children:b.jsxs(sq,{value:`item-${e}`,children:[b.jsx(rq,{className:"items-center hover:no-underline",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2 bg-gradient-to-br from-green-400 to-emerald-500 rounded-md shadow-lg w-fit",children:b.jsx(hN,{size:20,className:"text-white"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg",children:n.surname}),b.jsxs("p",{className:`text-sm ${r}`,children:["• ",a]})]})]})}),b.jsx(yge,{children:b.jsxs("div",{className:"flex flex-col items-start gap-3",children:[n.hasCreds?b.jsx(c0e,{store:n}):b.jsx(mbe,{storeId:n.id,connectionUrl:n.connectionUrl}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(vbe,{store:n.id}),b.jsxs(mt,{className:"text-red-400",variant:"outline",onClick:()=>i(!0),disabled:s,children:[b.jsx(zC,{})," Excluir loja"]})]})]})})]})})}),b.jsx(ybe,{open:t,setOpen:i,storeId:n.id})]})}function bbe(){const[n,e]=P.useState(!1),{user:t}=P.useContext(Jg),{stores:i,loading:s,fetchStores:r}=P.useContext(sA);return P.useEffect(()=>{t&&t.token&&!n&&r(t)},[t,n]),s?b.jsx(Yye,{message:"Carregando as lojas"}):b.jsxs(b.Fragment,{children:[b.jsx(Zye,{title:"Gerenciar lojas e conexões"}),b.jsx("div",{className:"mb-4"}),b.jsxs(mt,{onClick:()=>e(!0),children:[b.jsx(J_,{})," Adicionar loja"]}),b.jsx(O_e,{open:n,setOpen:e}),b.jsx("div",{className:"mb-4"}),i!=null&&i.length?b.jsx(iq,{className:"flex flex-col gap-3",type:"multiple",children:i.map((a,l)=>b.jsx(_be,{store:a,index:l},l))}):b.jsx("div",{className:"flex flex-col items-center w-full mt-16",children:b.jsx("h1",{className:"text-xl",children:"Nenhum loja cadastrada"})})]})}function wbe({children:n}){return b.jsx(mH,{children:b.jsx($pe,{children:b.jsx(Kye,{children:n})})})}var xbe=(n,e,t,i,s,r,a,l)=>{let c=document.documentElement,h=["light","dark"];function f(w){(Array.isArray(n)?n:[n]).forEach(E=>{let S=E==="class",C=S&&r?s.map(k=>r[k]||k):s;S?(c.classList.remove(...C),c.classList.add(r&&r[w]?r[w]:w)):c.setAttribute(E,w)}),p(w)}function p(w){l&&h.includes(w)&&(c.style.colorScheme=w)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)f(i);else try{let w=localStorage.getItem(e)||t,E=a&&w==="system"?v():w;f(E)}catch{}},Ebe=P.createContext(void 0),Abe={setTheme:n=>{},themes:[]},Tbe=()=>{var n;return(n=P.useContext(Ebe))!=null?n:Abe};P.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:i,enableColorScheme:s,defaultTheme:r,value:a,themes:l,nonce:c,scriptProps:h})=>{let f=JSON.stringify([t,e,r,n,l,a,i,s]).slice(1,-1);return P.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${xbe.toString()})(${f})`}})});const KG=({...n})=>{const{theme:e="system"}=Tbe();return b.jsx(l_e,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function Sbe(){return b.jsx("div",{className:"bg-background text-foreground",children:b.jsxs(wbe,{children:[b.jsx(jC,{}),b.jsx(KG,{})]})})}function Cbe(){return b.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-5",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("img",{src:eA,alt:"Logo",width:50}),b.jsx("p",{className:"text-2xl font-bold",children:"VAZAP"})]}),b.jsx(xl,{className:"w-full max-w-md",children:b.jsx(El,{children:b.jsx(jC,{})})})]})}const ZS=P.forwardRef(({className:n,...e},t)=>{const[i,s]=P.useState(!1),r=e.value===""||e.value===void 0||e.disabled;return b.jsxs("div",{className:"relative",children:[b.jsx(xu,{type:i?"text":"password",className:tt("hide-password-toggle pr-10",n),ref:t,...e}),b.jsxs(mt,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(a=>!a),disabled:r,children:[i&&!r?b.jsx(Tte,{className:"h-4 w-4","aria-hidden":"true"}):b.jsx(Ete,{className:"h-4 w-4","aria-hidden":"true"}),b.jsx("span",{className:"sr-only",children:i?"Hide password":"Show password"})]}),b.jsx("style",{children:`
					.hide-password-toggle::-ms-reveal,
					.hide-password-toggle::-ms-clear {
						visibility: hidden;
						pointer-events: none;
						display: none;
					}
				`})]})});ZS.displayName="InputPassword";const YG=()=>({login:({email:t,password:i})=>new Promise((s,r)=>{fhe(q_,t,i).then(a=>s(a.user)).catch(a=>{r(a.code)})}),signin:({name:t,email:i,password:s})=>new Promise((r,a)=>{dhe(q_,i,s).then(async l=>{const c=l.user;await phe(c,{displayName:t}),await Gn.post(`${ou}/users`,{uid:c.uid,name:t,email:i}),r({...c,displayName:t})}).catch(l=>{a(l.code)})})}),Rbe=b0({email:rc().email("E-mail inválido"),password:rc().min(6,"A senha deve conter pelo menos 6 caracteres")});function kbe(){const[n,e]=P.useState(!1),t=y0({resolver:_0(Rbe),defaultValues:{email:"",password:""}}),i=qg(),{login:s}=YG(),r=async({email:a,password:l})=>{try{e(!0),await s({email:a,password:l})&&(jt.success("Usuário conectado com sucesso"),i("/admin"))}catch(c){console.log(c),jt.error("Erro no login")}finally{e(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("h1",{className:"text-xl font-bold",children:"Bem vindo de volta"}),b.jsx("p",{children:"Entre com seu email e senha"})]}),b.jsx(v0,{...t,children:b.jsxs("form",{className:"space-y-4",onSubmit:t.handleSubmit(r),children:[b.jsx(ec,{control:t.control,name:"email",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"E-mail:"}),b.jsx(ic,{children:b.jsx(xu,{...a,type:"email"})}),b.jsx(sc,{})]})}),b.jsx(ec,{control:t.control,name:"password",render:({field:a})=>b.jsxs(tc,{children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(nc,{htmlFor:"password",children:"Senha:"}),b.jsx("a",{href:"#",className:"ml-auto text-sm underline-offset-4 hover:underline",children:"Esqueceu a senha?"})]}),b.jsx(ic,{children:b.jsx(ZS,{...a})}),b.jsx(sc,{})]})}),b.jsxs(mt,{type:"submit",className:"w-full",disabled:n,children:[n&&b.jsx(Dr,{className:"animate-spin"}),"Entrar"]}),b.jsxs("div",{className:"text-center text-sm",children:["Não tem uma conta?"," ",b.jsx(Zf,{to:"signin",className:"underline underline-offset-4",children:"Crie uma"})]})]})})]})}const K5="A senha deve conter pelo menos 6 caracteres",Mbe=b0({name:rc().min(3,"O nome deve conter pelo menos 3 letras"),email:rc().email("E-mail inválido"),password:rc().min(6,K5),confirmPassword:rc().min(6,K5)});function Pbe(){const[n,e]=P.useState(!1),t=qg(),i=y0({resolver:_0(Mbe),defaultValues:{name:"",email:"",password:"",confirmPassword:""}}),{signin:s}=YG(),r=async({name:a,email:l,password:c,confirmPassword:h})=>{try{if(e(!0),h!==c){jt.error("As senhas não conferem");return}await s({name:a,email:l,password:c})&&(jt.success("Conta criada com sucesso"),t("/admin"))}catch(f){console.log(f),jt.error("Erro criando conta")}finally{e(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"text-center mb-4",children:[b.jsx("h1",{className:"text-xl font-bold",children:"Bem vindo"}),b.jsx("p",{children:"Crie sua conta com e-mail e senha"})]}),b.jsx(v0,{...i,children:b.jsxs("form",{className:"space-y-4",onSubmit:i.handleSubmit(r),children:[b.jsx(ec,{control:i.control,name:"name",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Nome:"}),b.jsx(ic,{children:b.jsx(xu,{...a})}),b.jsx(sc,{})]})}),b.jsx(ec,{control:i.control,name:"email",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"E-mail:"}),b.jsx(ic,{children:b.jsx(xu,{...a})}),b.jsx(sc,{})]})}),b.jsx(ec,{control:i.control,name:"password",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Senha:"}),b.jsx(ic,{children:b.jsx(ZS,{...a})}),b.jsx(Ave,{className:"text-xs",children:"A senha precisa ter mais de 6 caracteres e conter ao menos 1 letra, 1 número e 1 caractere especial"}),b.jsx(sc,{})]})}),b.jsx(ec,{control:i.control,name:"confirmPassword",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Confirme a Senha:"}),b.jsx(ic,{children:b.jsx(ZS,{...a})}),b.jsx(sc,{})]})}),b.jsxs(mt,{type:"submit",className:"w-full",disabled:n,children:[n&&b.jsx(Dr,{className:"animate-spin"}),"Criar conta"]}),b.jsxs("div",{className:"text-center text-sm",children:["Já tem uma conta?"," ",b.jsx(Zf,{to:"/auth",className:"underline underline-offset-4",children:"Login"})]})]})})]})}const Y5=n=>{let e;const t=new Set,i=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const v=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(w=>w(e,v))}},s=()=>e,l={setState:i,getState:s,getInitialState:()=>c,subscribe:h=>(t.add(h),()=>t.delete(h))},c=e=n(i,s,l);return l},Ibe=n=>n?Y5(n):Y5,Dbe=n=>n;function Nbe(n,e=Dbe){const t=xe.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return xe.useDebugValue(t),t}const Z5=n=>{const e=Ibe(n),t=i=>Nbe(e,i);return Object.assign(t,e),t},xO=n=>n?Z5(n):Z5,Qr=xO((n,e)=>({chats:{},currentChat:null,setChat:(t,i)=>(n(s=>({chats:{...s.chats,[t]:{...s.chats[t],...i,id:t}}})),e().chats[t]),setManyChats:t=>n(i=>{const s=i.chats,r=Object.keys(t);let a=!1;for(const l of r){const c=s[l],h=t[l];if(!c||JSON.stringify(c)!==JSON.stringify(h)){a=!0;break}}return a?{chats:{...s,...t}}:i}),getChat:t=>e().chats[t],removeChat:t=>n(i=>{const s={...i.chats};return delete s[t],{chats:s}}),setCurrentChat:t=>n(i=>{const s={...i.chats};return i.currentChat&&(s[i.currentChat]={...s[i.currentChat],current:!1}),t&&(s[t]={...s[t],current:!0}),{currentChat:t,chats:s}})}));var Lbe=/\D/g,Obe=function(e){return e.replace(Lbe,"")},X5=function(e){return Obe(e).replace(/(\d{1,2})/,"($1").replace(/(\(\d{2})(\d{1,4})/,"$1) $2").replace(/( \d{4})(\d{1,4})/,"$1-$2").replace(/( \d{1})(\d{3})(?:-)(\d{1})(\d{4})/,"$1 $2$3-$4")};const Mu=()=>{const{setConnectionStatus:n,onNewMsg:e}=P.useContext(Di),{setChat:t}=Qr.getState(),i=({status:E})=>n(E),s=({jid:E,name:S,photo:C,isGroup:k})=>t(E,{name:S,photo:C,isGroup:k}),r=E=>{E.off("disconnect"),E.off("reconnect_failed"),E.off("new-message"),E.off("attendant-status"),E.off("connection-info"),E.off("update-chat-info"),E.off("error")};return{addListeners:({socket:E})=>{r(E),E.on("new-message",async({message:S})=>await e({message:S})),E.on("attendant-status",i),E.on("update-chat-info",s),E.on("error",S=>jt.error(S.message))},getFallbackName:E=>{const S={personal:"@s.whatsapp.net",group:"@g.us",broadcast:"@broadcast",status:"status@broadcast",service:"0@s.whatsapp.net"};return!E||typeof E!="string"?"Desconhecido":E.endsWith(S.personal)?X5(E.split(S.personal)[0].slice(2)):E.endsWith(S.group)?`Grupo ${E.split(S.group)[0]}`:E.endsWith(S.broadcast)?`Transmissão ${E.split(S.broadcast)[0]}`:E.endsWith(S.status)?`Status ${X5(E.split(S.status)[0].slice(2))}`:E.endsWith(S.service)?"Serviço do WhatsApp":"Desconhecido"},formatTime:E=>{const S=new Date(E*1e3),C=new Date,k=S.getDate()===C.getDate()&&S.getMonth()===C.getMonth()&&S.getFullYear()===C.getFullYear(),N=new Date;N.setDate(C.getDate()-1);const I=S.getDate()===N.getDate()&&S.getMonth()===N.getMonth()&&S.getFullYear()===N.getFullYear(),z=["domingo","segunda","terça","quarta","quinta","sexta","sábado"],V=new Date(C);V.setDate(C.getDate()-(C.getDay()+6)%7),V.setHours(0,0,0,0);const H=new Date(V);H.setDate(H.getDate()+6),H.setHours(23,59,59,999);const B=S>=V&&S<=H;return k?S.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):I?"ontem":B?z[S.getDay()]:S.toLocaleDateString("pt-BR")},loadChats:async({connection:E,socket:S})=>{console.log("Função chamada");const{attendant:C,store:k}=E,N=`users/${C.user}/stores/${k.id}/sync`,I=pM(fw(_a,N),yM(100),gM("lastMessage.messageTimestamp","desc"));qP(I,z=>{z.empty||z.docChanges().forEach(V=>{const H=V.doc,B=H.id,j=H.data();console.log(j);const q=t(B,{...j,id:B}),Y=q.photo||q.name;S&&!Y&&S.emit("get-chat-info",{jid:B})})})},fetchMessages:async({page:E,connection:S,chatId:C,lastDoc:k})=>{const{attendant:N,store:I}=S,z=`users/${N.user}/stores/${I.id}/sync/${C}/proto`;let V;if(E===1)V=pM(fw(_a,z),gM("messageTimestamp","desc"),yM(20));else if(k)V=pM(fw(_a,z),gM("messageTimestamp","desc"),Lpe(k),yM(20));else return[];const H=await Bpe(V);return H.empty?null:(console.log(H.docs.map(B=>({messageTimestamp:B.data().messageTimestamp}))),H.docs)},markAsAttending:async({chatId:E,attendant:S,isAttending:C})=>{const k=lc(_a,`users/${S.user}/stores/${S.store}/sync/${E}`);C?await vp(k,{attendingBy:{name:S.name,token:S.token}}):await vp(k,{attendingBy:null})},updateLastView:async({chatId:E,attendant:S,socket:C})=>{console.log("Atualizando ultima visualização");const k=lc(_a,`users/${S.user}/stores/${S.store}/sync/${E}`);await vp(k,{lastView:Date.now(),unreadMessages:0})},markAsUnread:async({chatId:E,attendant:S})=>{const C=lc(_a,`users/${S.user}/stores/${S.store}/sync/${E}`);await vp(C,{lastView:Date.now(),unreadMessages:!0})}}},HR=xO((n,e)=>({labels:{},setLabels:t=>n({labels:t}),setLabel:(t,i)=>{n(s=>({labels:{...s.labels,[t]:{...s.labels[t],...i,id:t}}}))},getLabel:t=>e().labels[t],removeLabel:t=>{n(i=>{const s={...i.labels};return delete s[t],{labels:s}})}})),fl=xO(n=>({messages:[],loadingMessages:!0,setMessages:e=>n({messages:e}),addMessage:(e,t)=>n(i=>t?{messages:[e,...i.messages]}:{messages:[...i.messages,e]}),updateMessage:e=>n(t=>({messages:t.messages.map(i=>i.id===e.id?{...i,...e}:i)})),removeMessage:e=>n(t=>({messages:t.messages.filter(i=>i.id!==e)})),clearMessages:()=>n({messages:[]}),setLoadingMessages:e=>n({loadingMessages:e})})),Di=P.createContext({});function Q5({children:n}){const[e,t]=P.useState("disconnected"),[i,s]=P.useState({}),[r,a]=P.useState(null),{setLabels:l}=HR.getState(),[c,h]=P.useState([]),f=P.useRef(null),p=P.useRef(null),v=P.useRef(null),w=Qr(N=>N.currentChat),E=fl(N=>N.addMessage),{loadChats:S,updateLastView:C}=Mu(),k=async({message:N})=>{if(console.log("Nova mensagem",N.key.remoteJid,v.current),N.key.remoteJid===v.current){const I={id:N.key.id,data:()=>N};E(I,!0),p.current&&await C({chatId:N.key.remoteJid,attendant:p.current,socket:f.current})}};return P.useEffect(()=>{if(e==="disconnected"&&(f.current=null),e!=="connected"||!f.current)return;const{attendant:N,store:I}=i;S({connection:i,socket:f.current});const z=`users/${N.user}/stores/${I.id}`,V=`${z}/quick-messages`,H=qP(fw(_a,V),j=>{if(j.empty)return;const q=j.docs.map(Y=>Y.data());h(q)}),B=qP(lc(_a,z),j=>{if(!j.exists())return;const q=j.data();q.labels&&l(q.labels)});return()=>{H(),B()}},[i,e]),P.useEffect(()=>{i.attendant&&(p.current=i.attendant)},[i]),P.useEffect(()=>{v.current=w},[w]),b.jsx(Di.Provider,{value:{connectionStatus:e,setConnectionStatus:t,connection:i,setConnection:s,socketRef:f,onNewMsg:k,replyMessage:r,setReplyMessage:a,quickMessages:c},children:n})}const jbe=!0,ZG=()=>{const{addListeners:n}=Mu(),{setConnectionStatus:e,setConnection:t}=P.useContext(Di),i=async h=>(await Gn.get(`${ou}/connection`,{params:{token:h}})).data.attendant,s=async(h,f)=>(await Gn.post(`${ou}/store/${f}/start`,{token:h})).data.status,r=async(h,f)=>(await Gn.get(`${ou}/store/${f}/status`,{params:{token:h}})).data.status,a=async(h,f)=>{const p=jt("");jt.loading("Conectando serviço",{id:p});let v=0,w=!1;for(;;)try{if(v>120)return jt.error("Não foi possível estabelecer conexão com os servidores",{id:p}),!1;if(v>60?jt.loading("Está demorando mais que o esperado",{id:p}):v>30?jt.loading("Ainda conectando, aguarde",{id:p}):v>1&&!w&&jt.loading("Inicializando servidores, isso pode levar alguns segundos",{id:p}),!w){const E=await r(h,f.id);E==="RUNNING"?w=!0:E==="TERMINATED"&&jbe&&s(h,f.id)}if(w)try{const E=`https://stores.vazap.com.br/${f.connectionUrl}/health`;return console.log("Verificando se tá vivo:",E),await Gn.get(E),jt.dismiss(p),!0}catch{console.log("Aguardando")}await new Promise(E=>setTimeout(E,1e3))}catch(E){console.log(E)}finally{v+=1}};return{connect:async h=>{console.log("Inicializando conexão"),e("loading");const f=await i(h),{attendant:p,store:v}=f,w=v.connectionUrl;if(await hhe(q_,p.authToken),localStorage.setItem("attendant-token",h),t(f),!w)throw"Não foi possível localizar servidor";if(!await a(h,v))throw"Os servidores demoraram muito para responder, aguarde alguns minutos e tente novamente";const S=sO,C={path:`/${w}/socket.io`,transports:["websocket","polling"]},k=gw(S,C);return k.on("connect",()=>{n({socket:k}),k.emit("connect-attendant",{token:h})}),k},disconnect:h=>{h&&h.disconnect(),JH(q_),jt.dismiss()}}};var SM={exports:{}},CM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5;function Fbe(){if(J5)return CM;J5=1;var n=DC();function e(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,s=n.useEffect,r=n.useLayoutEffect,a=n.useDebugValue;function l(p,v){var w=v(),E=i({inst:{value:w,getSnapshot:v}}),S=E[0].inst,C=E[1];return r(function(){S.value=w,S.getSnapshot=v,c(S)&&C({inst:S})},[p,w,v]),s(function(){return c(S)&&C({inst:S}),p(function(){c(S)&&C({inst:S})})},[p]),a(w),w}function c(p){var v=p.getSnapshot;p=p.value;try{var w=v();return!t(p,w)}catch{return!0}}function h(p,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:l;return CM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,CM}var ez;function Vbe(){return ez||(ez=1,SM.exports=Fbe()),SM.exports}var Bbe=Vbe();function zbe(){return Bbe.useSyncExternalStore(Ube,()=>!0,()=>!1)}function Ube(){return()=>{}}var EO="Avatar",[Hbe,Tke]=bl(EO),[$be,XG]=Hbe(EO),QG=P.forwardRef((n,e)=>{const{__scopeAvatar:t,...i}=n,[s,r]=P.useState("idle");return b.jsx($be,{scope:t,imageLoadingStatus:s,onImageLoadingStatusChange:r,children:b.jsx(Kn.span,{...i,ref:e})})});QG.displayName=EO;var JG="AvatarImage",eW=P.forwardRef((n,e)=>{const{__scopeAvatar:t,src:i,onLoadingStatusChange:s=()=>{},...r}=n,a=XG(JG,t),l=qbe(i,r),c=vl(h=>{s(h),a.onImageLoadingStatusChange(h)});return yl(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?b.jsx(Kn.img,{...r,ref:e,src:i}):null});eW.displayName=JG;var tW="AvatarFallback",nW=P.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:i,...s}=n,r=XG(tW,t),[a,l]=P.useState(i===void 0);return P.useEffect(()=>{if(i!==void 0){const c=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(c)}},[i]),a&&r.imageLoadingStatus!=="loaded"?b.jsx(Kn.span,{...s,ref:e}):null});nW.displayName=tW;function tz(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qbe(n,{referrerPolicy:e,crossOrigin:t}){const i=zbe(),s=P.useRef(null),r=i?(s.current||(s.current=new window.Image),s.current):null,[a,l]=P.useState(()=>tz(r,n));return yl(()=>{l(tz(r,n))},[r,n]),yl(()=>{const c=p=>()=>{l(p)};if(!r)return;const h=c("loaded"),f=c("error");return r.addEventListener("load",h),r.addEventListener("error",f),e&&(r.referrerPolicy=e),typeof t=="string"&&(r.crossOrigin=t),()=>{r.removeEventListener("load",h),r.removeEventListener("error",f)}},[r,t,e]),a}var Gbe=QG,Wbe=eW,Kbe=nW;function $R({className:n,...e}){return b.jsx(Gbe,{"data-slot":"avatar",className:tt("relative flex size-8 shrink-0 overflow-hidden rounded-full",n),...e})}function qR({className:n,...e}){return b.jsx(Wbe,{"data-slot":"avatar-image",className:tt("aspect-square size-full",n),...e})}function GR({className:n,...e}){return b.jsx(Kbe,{"data-slot":"avatar-fallback",className:tt("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}function $w({trigger:n,title:e}){return b.jsxs(Gg,{children:[b.jsx(Wg,{asChild:!0,children:n}),b.jsx(Kg,{children:e})]})}function x0(){const{connection:n}=P.useContext(Di),{updateMessage:e}=fl.getState();return{retryDownload:async(r,a,l)=>{const c=await r.emitWithAck("retry-download",{jid:a.key.remoteJid,id:a.key.id,type:l}),h={id:a.key.id,data:()=>({...a,message:{...a.message,[`${l}Message`]:{...a.message[`${l}Message`],downloadUrl:c}}})};return e(h),h},downloadZipMedia:async(r,a)=>{const l=a.reduce((c,h)=>`${c}&id=${h}`,"");window.open(`${ou}/download/${r}?${l}&token=${n.attendant.token}`)},downloadMedia:async(r,a)=>{const c=await(await fetch(r)).blob(),h=URL.createObjectURL(c),f=document.createElement("a");f.href=h,f.download=a||"documento",document.body.appendChild(f),f.click(),f.remove(),URL.revokeObjectURL(h)}}}function nz(n){const e=Math.floor(n/60).toString().padStart(2,"0"),t=Math.floor(n%60).toString().padStart(2,"0");return`${e}:${t}`}function Ybe({message:n}){var z;const{retryDownload:e}=x0(),{socketRef:t}=P.useContext(Di),{message:i}=n,[s,r]=P.useState(!1),[a,l]=P.useState(!1),[c,h]=P.useState(0),f=P.useRef(null),p=P.useRef(null),{waveform:v,downloadUrl:w,seconds:E}=i.audioMessage,S=Array.from(new Array(64),()=>2),C=Cwe(v)||S;async function k(){try{if(r(!0),!t.current)return;await e(t.current,n,"audio")}catch(V){jt.error("Não foi possível baixar o áudio"),console.error("Erro ao baixar áudio:",V)}finally{r(!1)}}function N(){f.current&&(a?f.current.pause():f.current.play())}function I(V){if(!f.current||!p.current)return;const H=p.current.getBoundingClientRect(),j=(V.clientX-H.left)/H.width;f.current.currentTime=j*f.current.duration}return P.useEffect(()=>{if(!f.current)return;const V=f.current,H=()=>{const Y=V.currentTime,Z=V.duration;h(Y/Z*100)},B=()=>{l(!1),h(0)},j=()=>l(!0),q=()=>l(!1);return V.addEventListener("timeupdate",H),V.addEventListener("ended",B),V.addEventListener("play",j),V.addEventListener("pause",q),()=>{V.removeEventListener("timeupdate",H),V.removeEventListener("ended",B),V.removeEventListener("play",j),V.removeEventListener("pause",q)}},[]),b.jsxs("div",{className:"flex items-center gap-2 py-1 px-2 w-full relative",children:[w?b.jsx(mt,{size:"icon",variant:"ghost",className:"p-1 h-auto w-auto",onClick:N,type:"button",children:a?b.jsx(ane,{}):b.jsx(jU,{})}):b.jsx(mt,{size:"icon",variant:"ghost",className:"p-1 h-auto w-auto",onClick:k,type:"button",children:s?b.jsx(Dr,{className:"animate-spin"}):b.jsx(Aw,{})}),b.jsxs("div",{ref:p,className:"relative flex items-center gap-[1px] h-[32px] flex-1 cursor-pointer group",onClick:I,children:[C.map((V,H)=>{const B=V/255,j=Math.floor(60*B),q=j>2?j:2,Y=H/C.length*100<c;return b.jsx("div",{className:`w-[2px] rounded-sm ${Y?"bg-green-500":"bg-foreground/40 group-hover:bg-foreground/60"}`,style:{height:`${q}px`}},H)}),b.jsx("div",{className:"w-[8px] h-[8px] bg-green-600 rounded-full absolute left-0",style:{left:`${c}%`}})]}),b.jsxs("div",{className:"absolute bottom-[-1.2rem] left-0 text-[10px] text-muted-foreground",children:[nz(((z=f.current)==null?void 0:z.currentTime)||0)," /"," ",nz(E)]}),b.jsx("audio",{ref:f,src:w,preload:"metadata"})]})}function Zbe({message:n}){const{message:e}=n;if(!e.contactMessage)return;const{displayName:t}=e.contactMessage;return b.jsxs("div",{className:"px-2 py-1 bg-background/70 dark:bg-zinc-900/30 rounded-md flex gap-2 min-w-3xs items-center",children:[b.jsx(e0,{}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs",children:"Contato"}),t]})]})}function Xbe(){return b.jsxs("p",{className:"italic text-muted-foreground flex items-center gap-2",children:[b.jsx(Xee,{size:16})," Mensagem apagada"]})}function Qbe({message:n}){const{retryDownload:e,downloadMedia:t}=x0(),{message:i}=n,{socketRef:s}=P.useContext(Di),[r,a]=P.useState(!1);if(!i.documentMessage)return null;const{fileName:l,downloadUrl:c,caption:h,mimetype:f,fileLength:p,pageCount:v}=i.documentMessage;async function w(){var E;if(!s.current){jt.error("Socket não conectado.");return}a(!0);try{if(!c){((E=(await e(s.current,n,"document")).data().message.documentMessage)==null?void 0:E.downloadUrl)||""||(jt.error("Não foi possível obter URL de download."),a(!1));return}t(c,l)}catch(S){console.error("Erro ao baixar documento:",S),jt.error("Falha ao baixar documento.")}finally{a(!1)}}return b.jsxs("div",{children:[b.jsxs("div",{className:"flex gap-4 items-center p-2 bg-background/70 dark:bg-zinc-900/30 rounded-md mb-1",children:[b.jsx(uN,{size:20,className:"text-blue-500"}),b.jsxs("div",{className:"flex flex-col flex-1",children:[b.jsxs("p",{className:"text-sm",children:[l," ",v&&b.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",v," páginas)"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[f," • ",lW(p)]})]}),b.jsx(mt,{size:"icon",variant:"outline",onClick:w,disabled:r,type:"button",children:r?b.jsx(Dr,{className:"animate-spin"}):b.jsx(Aw,{size:16,className:tt(c&&"text-emerald-600 dark:text-emerald-500")})})]}),h&&b.jsx("p",{className:"text-sm break-words",children:lA(h)})]})}function Jbe({message:n}){const{message:e}=n;if(!e.extendedTextMessage)return;const{title:t,description:i,text:s,jpegThumbnail:r}=e.extendedTextMessage,a=`url(data:image/jpeg;base64,${r})`;return b.jsxs("div",{children:[t&&i&&b.jsxs("div",{className:"bg-gray-500/10 p-2 rounded-md flex relative gap-2",children:[r&&b.jsx("div",{children:b.jsx("div",{style:{backgroundImage:a},className:"bg-center bg-cover rounded-md h-full min-w-[110px] min-h-[80px]"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-bold line-clamp-2",children:t}),b.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:i})]})]}),b.jsx("p",{className:"mt-1 break-words",children:lA(s)})]})}function ewe({message:n}){const{message:e}=n;if(!e.imageMessage)return null;const{caption:t,downloadUrl:i}=e.imageMessage;return b.jsxs("div",{className:"relative w-fit max-w-[240px]",children:[b.jsx(twe,{message:n,downloadUrl:i}),t&&b.jsx("p",{className:"mt-2 text-sm break-words",children:lA(t)})]})}function twe({message:n}){const{retryDownload:e,downloadMedia:t}=x0(),{socketRef:i}=P.useContext(Di),[s,r]=P.useState(!1),a=fl(w=>w.updateMessage),{message:l}=n;if(!l.imageMessage)return null;const{jpegThumbnail:c,mimetype:h,downloadUrl:f}=l.imageMessage,p=`data:image/${h};base64,${c}`;async function v(){try{if(r(!0),!i.current)return;f?a({id:n.key.id,data:()=>({...n,message:{...n.message,imageMessage:{...n.message.imageMessage,downloadUrl:f}}})}):await e(i.current,n,"image")}catch(w){jt.error("Não foi possível baixar imagem"),console.error("Erro ao baixar imagem:",w)}finally{r(!1)}}return b.jsx("div",{className:"relative",children:f?b.jsxs(b.Fragment,{children:[b.jsx("img",{src:f,alt:"Preview da imagem",className:"max-w-[240px] max-h-[300px] rounded-md bg-black"}),b.jsx(mt,{size:"icon",className:"absolute right-1 top-1 size-6 bg-muted hover:bg-muted/50 text-foreground",type:"button",onClick:()=>t(f,`wa_image_${Date.now()}.${Rwe(h)}`),children:b.jsx(Aw,{className:"size-3",strokeWidth:3})})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{style:{backgroundImage:`url(${p})`},className:"w-[240px] h-[300px] max-w-[240px] max-h-[300px] bg-center bg-cover rounded-md"}),b.jsx("div",{className:"w-[240px] h-[300px] max-w-[240px] max-h-[300px] rounded-md bg-transparent backdrop-blur-sm absolute top-0 left-0 flex items-center justify-center",children:b.jsx(mt,{size:"icon",className:"bg-muted hover:bg-muted/70 rounded-full text-foreground",onClick:v,type:"button",children:s?b.jsx(Dr,{className:"animate-spin"}):b.jsx(Aw,{size:16,className:tt(f&&"text-emerald-600 dark:text-emerald-500")})})})]})})}var zb={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var nwe=zb.exports,iz;function iwe(){return iz||(iz=1,function(n,e){(function(t,i){i(e)})(nwe,function(t){var i="1.9.4";function s(d){var g,A,M,F;for(A=1,M=arguments.length;A<M;A++){F=arguments[A];for(g in F)d[g]=F[g]}return d}var r=Object.create||function(){function d(){}return function(g){return d.prototype=g,new d}}();function a(d,g){var A=Array.prototype.slice;if(d.bind)return d.bind.apply(d,A.call(arguments,1));var M=A.call(arguments,2);return function(){return d.apply(g,M.length?M.concat(A.call(arguments)):arguments)}}var l=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function h(d,g,A){var M,F,K,re;return re=function(){M=!1,F&&(K.apply(A,F),F=!1)},K=function(){M?F=arguments:(d.apply(A,arguments),setTimeout(re,g),M=!0)},K}function f(d,g,A){var M=g[1],F=g[0],K=M-F;return d===M&&A?d:((d-F)%K+K)%K+F}function p(){return!1}function v(d,g){if(g===!1)return d;var A=Math.pow(10,g===void 0?6:g);return Math.round(d*A)/A}function w(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function E(d){return w(d).split(/\s+/)}function S(d,g){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?r(d.options):{});for(var A in g)d.options[A]=g[A];return d.options}function C(d,g,A){var M=[];for(var F in d)M.push(encodeURIComponent(A?F.toUpperCase():F)+"="+encodeURIComponent(d[F]));return(!g||g.indexOf("?")===-1?"?":"&")+M.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function N(d,g){return d.replace(k,function(A,M){var F=g[M];if(F===void 0)throw new Error("No value provided for variable "+A);return typeof F=="function"&&(F=F(g)),F})}var I=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function z(d,g){for(var A=0;A<d.length;A++)if(d[A]===g)return A;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function H(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var B=0;function j(d){var g=+new Date,A=Math.max(0,16-(g-B));return B=g+A,window.setTimeout(d,A)}var q=window.requestAnimationFrame||H("RequestAnimationFrame")||j,Y=window.cancelAnimationFrame||H("CancelAnimationFrame")||H("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function Z(d,g,A){if(A&&q===j)d.call(g);else return q.call(window,a(d,g))}function ne(d){d&&Y.call(window,d)}var Q={__proto__:null,extend:s,create:r,bind:a,get lastId(){return l},stamp:c,throttle:h,wrapNum:f,falseFn:p,formatNum:v,trim:w,splitWords:E,setOptions:S,getParamString:C,template:N,isArray:I,indexOf:z,emptyImageUrl:V,requestFn:q,cancelFn:Y,requestAnimFrame:Z,cancelAnimFrame:ne};function _e(){}_e.extend=function(d){var g=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=g.__super__=this.prototype,M=r(A);M.constructor=g,g.prototype=M;for(var F in this)Object.prototype.hasOwnProperty.call(this,F)&&F!=="prototype"&&F!=="__super__"&&(g[F]=this[F]);return d.statics&&s(g,d.statics),d.includes&&(Le(d.includes),s.apply(null,[M].concat(d.includes))),s(M,d),delete M.statics,delete M.includes,M.options&&(M.options=A.options?r(A.options):{},s(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var K=0,re=M._initHooks.length;K<re;K++)M._initHooks[K].call(this)}},g},_e.include=function(d){var g=this.prototype.options;return s(this.prototype,d),d.options&&(this.prototype.options=g,this.mergeOptions(d.options)),this},_e.mergeOptions=function(d){return s(this.prototype.options,d),this},_e.addInitHook=function(d){var g=Array.prototype.slice.call(arguments,1),A=typeof d=="function"?d:function(){this[d].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function Le(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=I(d)?d:[d];for(var g=0;g<d.length;g++)d[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(d,g,A){if(typeof d=="object")for(var M in d)this._on(M,d[M],g);else{d=E(d);for(var F=0,K=d.length;F<K;F++)this._on(d[F],g,A)}return this},off:function(d,g,A){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var M in d)this._off(M,d[M],g);else{d=E(d);for(var F=arguments.length===1,K=0,re=d.length;K<re;K++)F?this._off(d[K]):this._off(d[K],g,A)}return this},_on:function(d,g,A,M){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(d,g,A)===!1){A===this&&(A=void 0);var F={fn:g,ctx:A};M&&(F.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(F)}},_off:function(d,g,A){var M,F,K;if(this._events&&(M=this._events[d],!!M)){if(arguments.length===1){if(this._firingCount)for(F=0,K=M.length;F<K;F++)M[F].fn=p;delete this._events[d];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var re=this._listens(d,g,A);if(re!==!1){var ve=M[re];this._firingCount&&(ve.fn=p,this._events[d]=M=M.slice()),M.splice(re,1)}}},fire:function(d,g,A){if(!this.listens(d,A))return this;var M=s({},g,{type:d,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var F=this._events[d];if(F){this._firingCount=this._firingCount+1||1;for(var K=0,re=F.length;K<re;K++){var ve=F[K],ke=ve.fn;ve.once&&this.off(d,ke,ve.ctx),ke.call(ve.ctx||this,M)}this._firingCount--}}return A&&this._propagateEvent(M),this},listens:function(d,g,A,M){typeof d!="string"&&console.warn('"string" type argument expected');var F=g;typeof g!="function"&&(M=!!g,F=void 0,A=void 0);var K=this._events&&this._events[d];if(K&&K.length&&this._listens(d,F,A)!==!1)return!0;if(M){for(var re in this._eventParents)if(this._eventParents[re].listens(d,g,A,M))return!0}return!1},_listens:function(d,g,A){if(!this._events)return!1;var M=this._events[d]||[];if(!g)return!!M.length;A===this&&(A=void 0);for(var F=0,K=M.length;F<K;F++)if(M[F].fn===g&&M[F].ctx===A)return F;return!1},once:function(d,g,A){if(typeof d=="object")for(var M in d)this._on(M,d[M],g,!0);else{d=E(d);for(var F=0,K=d.length;F<K;F++)this._on(d[F],g,A,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var g in this._eventParents)this._eventParents[g].fire(d.type,s({layer:d.target,propagatedFrom:d.target},d),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var se=_e.extend(ee);function ie(d,g,A){this.x=A?Math.round(d):d,this.y=A?Math.round(g):g}var Te=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};ie.prototype={clone:function(){return new ie(this.x,this.y)},add:function(d){return this.clone()._add(J(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(J(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ie(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ie(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(d){d=J(d);var g=d.x-this.x,A=d.y-this.y;return Math.sqrt(g*g+A*A)},equals:function(d){return d=J(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=J(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function J(d,g,A){return d instanceof ie?d:I(d)?new ie(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new ie(d.x,d.y):new ie(d,g,A)}function ce(d,g){if(d)for(var A=g?[d,g]:d,M=0,F=A.length;M<F;M++)this.extend(A[M])}ce.prototype={extend:function(d){var g,A;if(!d)return this;if(d instanceof ie||typeof d[0]=="number"||"x"in d)g=A=J(d);else if(d=ge(d),g=d.min,A=d.max,!g||!A)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=A.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(d){return J((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return J(this.min.x,this.max.y)},getTopRight:function(){return J(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var g,A;return typeof d[0]=="number"||d instanceof ie?d=J(d):d=ge(d),d instanceof ce?(g=d.min,A=d.max):g=A=d,g.x>=this.min.x&&A.x<=this.max.x&&g.y>=this.min.y&&A.y<=this.max.y},intersects:function(d){d=ge(d);var g=this.min,A=this.max,M=d.min,F=d.max,K=F.x>=g.x&&M.x<=A.x,re=F.y>=g.y&&M.y<=A.y;return K&&re},overlaps:function(d){d=ge(d);var g=this.min,A=this.max,M=d.min,F=d.max,K=F.x>g.x&&M.x<A.x,re=F.y>g.y&&M.y<A.y;return K&&re},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var g=this.min,A=this.max,M=Math.abs(g.x-A.x)*d,F=Math.abs(g.y-A.y)*d;return ge(J(g.x-M,g.y-F),J(A.x+M,A.y+F))},equals:function(d){return d?(d=ge(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ge(d,g){return!d||d instanceof ce?d:new ce(d,g)}function ue(d,g){if(d)for(var A=g?[d,g]:d,M=0,F=A.length;M<F;M++)this.extend(A[M])}ue.prototype={extend:function(d){var g=this._southWest,A=this._northEast,M,F;if(d instanceof $e)M=d,F=d;else if(d instanceof ue){if(M=d._southWest,F=d._northEast,!M||!F)return this}else return d?this.extend(Pe(d)||De(d)):this;return!g&&!A?(this._southWest=new $e(M.lat,M.lng),this._northEast=new $e(F.lat,F.lng)):(g.lat=Math.min(M.lat,g.lat),g.lng=Math.min(M.lng,g.lng),A.lat=Math.max(F.lat,A.lat),A.lng=Math.max(F.lng,A.lng)),this},pad:function(d){var g=this._southWest,A=this._northEast,M=Math.abs(g.lat-A.lat)*d,F=Math.abs(g.lng-A.lng)*d;return new ue(new $e(g.lat-M,g.lng-F),new $e(A.lat+M,A.lng+F))},getCenter:function(){return new $e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $e(this.getNorth(),this.getWest())},getSouthEast:function(){return new $e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof $e||"lat"in d?d=Pe(d):d=De(d);var g=this._southWest,A=this._northEast,M,F;return d instanceof ue?(M=d.getSouthWest(),F=d.getNorthEast()):M=F=d,M.lat>=g.lat&&F.lat<=A.lat&&M.lng>=g.lng&&F.lng<=A.lng},intersects:function(d){d=De(d);var g=this._southWest,A=this._northEast,M=d.getSouthWest(),F=d.getNorthEast(),K=F.lat>=g.lat&&M.lat<=A.lat,re=F.lng>=g.lng&&M.lng<=A.lng;return K&&re},overlaps:function(d){d=De(d);var g=this._southWest,A=this._northEast,M=d.getSouthWest(),F=d.getNorthEast(),K=F.lat>g.lat&&M.lat<A.lat,re=F.lng>g.lng&&M.lng<A.lng;return K&&re},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,g){return d?(d=De(d),this._southWest.equals(d.getSouthWest(),g)&&this._northEast.equals(d.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function De(d,g){return d instanceof ue?d:new ue(d,g)}function $e(d,g,A){if(isNaN(d)||isNaN(g))throw new Error("Invalid LatLng object: ("+d+", "+g+")");this.lat=+d,this.lng=+g,A!==void 0&&(this.alt=+A)}$e.prototype={equals:function(d,g){if(!d)return!1;d=Pe(d);var A=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return A<=(g===void 0?1e-9:g)},toString:function(d){return"LatLng("+v(this.lat,d)+", "+v(this.lng,d)+")"},distanceTo:function(d){return je.distance(this,Pe(d))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(d){var g=180*d/40075017,A=g/Math.cos(Math.PI/180*this.lat);return De([this.lat-g,this.lng-A],[this.lat+g,this.lng+A])},clone:function(){return new $e(this.lat,this.lng,this.alt)}};function Pe(d,g,A){return d instanceof $e?d:I(d)&&typeof d[0]!="object"?d.length===3?new $e(d[0],d[1],d[2]):d.length===2?new $e(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new $e(d.lat,"lng"in d?d.lng:d.lon,d.alt):g===void 0?null:new $e(d,g,A)}var We={latLngToPoint:function(d,g){var A=this.projection.project(d),M=this.scale(g);return this.transformation._transform(A,M)},pointToLatLng:function(d,g){var A=this.scale(g),M=this.transformation.untransform(d,A);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var g=this.projection.bounds,A=this.scale(d),M=this.transformation.transform(g.min,A),F=this.transformation.transform(g.max,A);return new ce(M,F)},infinite:!1,wrapLatLng:function(d){var g=this.wrapLng?f(d.lng,this.wrapLng,!0):d.lng,A=this.wrapLat?f(d.lat,this.wrapLat,!0):d.lat,M=d.alt;return new $e(A,g,M)},wrapLatLngBounds:function(d){var g=d.getCenter(),A=this.wrapLatLng(g),M=g.lat-A.lat,F=g.lng-A.lng;if(M===0&&F===0)return d;var K=d.getSouthWest(),re=d.getNorthEast(),ve=new $e(K.lat-M,K.lng-F),ke=new $e(re.lat-M,re.lng-F);return new ue(ve,ke)}},je=s({},We,{wrapLng:[-180,180],R:6371e3,distance:function(d,g){var A=Math.PI/180,M=d.lat*A,F=g.lat*A,K=Math.sin((g.lat-d.lat)*A/2),re=Math.sin((g.lng-d.lng)*A/2),ve=K*K+Math.cos(M)*Math.cos(F)*re*re,ke=2*Math.atan2(Math.sqrt(ve),Math.sqrt(1-ve));return this.R*ke}}),nt=6378137,et={R:nt,MAX_LATITUDE:85.0511287798,project:function(d){var g=Math.PI/180,A=this.MAX_LATITUDE,M=Math.max(Math.min(A,d.lat),-A),F=Math.sin(M*g);return new ie(this.R*d.lng*g,this.R*Math.log((1+F)/(1-F))/2)},unproject:function(d){var g=180/Math.PI;return new $e((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*g,d.x*g/this.R)},bounds:function(){var d=nt*Math.PI;return new ce([-d,-d],[d,d])}()};function Ct(d,g,A,M){if(I(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=g,this._c=A,this._d=M}Ct.prototype={transform:function(d,g){return this._transform(d.clone(),g)},_transform:function(d,g){return g=g||1,d.x=g*(this._a*d.x+this._b),d.y=g*(this._c*d.y+this._d),d},untransform:function(d,g){return g=g||1,new ie((d.x/g-this._b)/this._a,(d.y/g-this._d)/this._c)}};function Dt(d,g,A,M){return new Ct(d,g,A,M)}var cn=s({},je,{code:"EPSG:3857",projection:et,transformation:function(){var d=.5/(Math.PI*et.R);return Dt(d,.5,-d,.5)}()}),On=s({},cn,{code:"EPSG:900913"});function Zi(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function Xi(d,g){var A="",M,F,K,re,ve,ke;for(M=0,K=d.length;M<K;M++){for(ve=d[M],F=0,re=ve.length;F<re;F++)ke=ve[F],A+=(F?"L":"M")+ke.x+" "+ke.y;A+=g?Ne.svg?"z":"x":""}return A||"M0 0"}var jn=document.documentElement.style,Qi="ActiveXObject"in window,Tt=Qi&&!document.addEventListener,oe="msLaunchUri"in navigator&&!("documentMode"in document),be=ht("webkit"),Ce=ht("android"),Ke=ht("android 2")||ht("android 3"),fe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ae=Ce&&ht("Google")&&fe<537&&!("AudioNode"in window),Oe=!!window.opera,Xe=!oe&&ht("chrome"),Rt=ht("gecko")&&!be&&!Oe&&!Qi,sn=!Xe&&ht("safari"),Ji=ht("phantom"),mi="OTransition"in jn,es=navigator.platform.indexOf("Win")===0,ks=Qi&&"transition"in jn,ms="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ke,ts="MozPerspective"in jn,lr=!window.L_DISABLE_3D&&(ks||ms||ts)&&!mi&&!Ji,Ui=typeof orientation<"u"||ht("mobile"),cr=Ui&&be,ps=Ui&&ms,jo=!window.PointerEvent&&window.MSPointerEvent,ur=!!(window.PointerEvent||jo),hr="ontouchstart"in window||!!window.TouchEvent,qa=!window.L_NO_TOUCH&&(hr||ur),kt=Ui&&Oe,Yn=Ui&&Rt,ti=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ti=function(){var d=!1;try{var g=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return d}(),le=function(){return!!document.createElement("canvas").getContext}(),de=!!(document.createElementNS&&Zi("svg").createSVGRect),me=!!de&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ve=!de&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var g=d.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),qe=navigator.platform.indexOf("Mac")===0,Je=navigator.platform.indexOf("Linux")===0;function ht(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ne={ie:Qi,ielt9:Tt,edge:oe,webkit:be,android:Ce,android23:Ke,androidStock:Ae,opera:Oe,chrome:Xe,gecko:Rt,safari:sn,phantom:Ji,opera12:mi,win:es,ie3d:ks,webkit3d:ms,gecko3d:ts,any3d:lr,mobile:Ui,mobileWebkit:cr,mobileWebkit3d:ps,msPointer:jo,pointer:ur,touch:qa,touchNative:hr,mobileOpera:kt,mobileGecko:Yn,retina:ti,passiveEvents:Ti,canvas:le,svg:de,vml:Ve,inlineSvg:me,mac:qe,linux:Je},ft=Ne.msPointer?"MSPointerDown":"pointerdown",Et=Ne.msPointer?"MSPointerMove":"pointermove",Nt=Ne.msPointer?"MSPointerUp":"pointerup",pt=Ne.msPointer?"MSPointerCancel":"pointercancel",Lt={touchstart:ft,touchmove:Et,touchend:Nt,touchcancel:pt},un={touchstart:na,touchmove:ta,touchend:ta,touchcancel:ta},wn={},Mn=!1;function xn(d,g,A){return g==="touchstart"&&Ms(),un[g]?(A=un[g].bind(this,A),d.addEventListener(Lt[g],A,!1),A):(console.warn("wrong event specified:",g),p)}function hn(d,g,A){if(!Lt[g]){console.warn("wrong event specified:",g);return}d.removeEventListener(Lt[g],A,!1)}function Aa(d){wn[d.pointerId]=d}function ns(d){wn[d.pointerId]&&(wn[d.pointerId]=d)}function $s(d){delete wn[d.pointerId]}function Ms(){Mn||(document.addEventListener(ft,Aa,!0),document.addEventListener(Et,ns,!0),document.addEventListener(Nt,$s,!0),document.addEventListener(pt,$s,!0),Mn=!0)}function ta(d,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var A in wn)g.touches.push(wn[A]);g.changedTouches=[g],d(g)}}function na(d,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&ai(g),ta(d,g)}function bc(d){var g={},A,M;for(M in d)A=d[M],g[M]=A&&A.bind?A.bind(d):A;return d=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var qs=200;function dr(d,g){d.addEventListener("dblclick",g);var A=0,M;function F(K){if(K.detail!==1){M=K.detail;return}if(!(K.pointerType==="mouse"||K.sourceCapabilities&&!K.sourceCapabilities.firesTouchEvents)){var re=ld(K);if(!(re.some(function(ke){return ke instanceof HTMLLabelElement&&ke.attributes.for})&&!re.some(function(ke){return ke instanceof HTMLInputElement||ke instanceof HTMLSelectElement}))){var ve=Date.now();ve-A<=qs?(M++,M===2&&g(bc(K))):M=1,A=ve}}}return d.addEventListener("click",F),{dblclick:g,simDblclick:F}}function qt(d,g){d.removeEventListener("dblclick",g.dblclick),d.removeEventListener("click",g.simDblclick)}var Si=Wa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ps=Wa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),fr=Ps==="webkitTransition"||Ps==="OTransition"?Ps+"End":"transitionend";function Ga(d){return typeof d=="string"?document.getElementById(d):d}function Fn(d,g){var A=d.style[g]||d.currentStyle&&d.currentStyle[g];if((!A||A==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);A=M?M[g]:null}return A==="auto"?null:A}function Zt(d,g,A){var M=document.createElement(d);return M.className=g||"",A&&A.appendChild(M),M}function Vn(d){var g=d.parentNode;g&&g.removeChild(d)}function Hi(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Fo(d){var g=d.parentNode;g&&g.lastChild!==d&&g.appendChild(d)}function wc(d){var g=d.parentNode;g&&g.firstChild!==d&&g.insertBefore(d,g.firstChild)}function xc(d,g){if(d.classList!==void 0)return d.classList.contains(g);var A=Ai(d);return A.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(A)}function Yt(d,g){if(d.classList!==void 0)for(var A=E(g),M=0,F=A.length;M<F;M++)d.classList.add(A[M]);else if(!xc(d,g)){var K=Ai(d);Dm(d,(K?K+" ":"")+g)}}function ni(d,g){d.classList!==void 0?d.classList.remove(g):Dm(d,w((" "+Ai(d)+" ").replace(" "+g+" "," ")))}function Dm(d,g){d.className.baseVal===void 0?d.className=g:d.className.baseVal=g}function Ai(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function yi(d,g){"opacity"in d.style?d.style.opacity=g:"filter"in d.style&&Pu(d,g)}function Pu(d,g){var A=!1,M="DXImageTransform.Microsoft.Alpha";try{A=d.filters.item(M)}catch{if(g===1)return}g=Math.round(g*100),A?(A.Enabled=g!==100,A.Opacity=g):d.style.filter+=" progid:"+M+"(opacity="+g+")"}function Wa(d){for(var g=document.documentElement.style,A=0;A<d.length;A++)if(d[A]in g)return d[A];return!1}function mr(d,g,A){var M=g||new ie(0,0);d.style[Si]=(Ne.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(A?" scale("+A+")":"")}function Ut(d,g){d._leaflet_pos=g,Ne.any3d?mr(d,g):(d.style.left=g.x+"px",d.style.top=g.y+"px")}function ia(d){return d._leaflet_pos||new ie(0,0)}var Gs,Ka,ad;if("onselectstart"in document)Gs=function(){Ot(window,"selectstart",ai)},Ka=function(){Dn(window,"selectstart",ai)};else{var Al=Wa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gs=function(){if(Al){var d=document.documentElement.style;ad=d[Al],d[Al]="none"}},Ka=function(){Al&&(document.documentElement.style[Al]=ad,ad=void 0)}}function Iu(){Ot(window,"dragstart",ai)}function Nm(){Dn(window,"dragstart",ai)}var od,Ec;function Ya(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(pr(),od=d,Ec=d.style.outlineStyle,d.style.outlineStyle="none",Ot(window,"keydown",pr))}function pr(){od&&(od.style.outlineStyle=Ec,od=void 0,Ec=void 0,Dn(window,"keydown",pr))}function Vo(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Za(d){var g=d.getBoundingClientRect();return{x:g.width/d.offsetWidth||1,y:g.height/d.offsetHeight||1,boundingClientRect:g}}var Lm={__proto__:null,TRANSFORM:Si,TRANSITION:Ps,TRANSITION_END:fr,get:Ga,getStyle:Fn,create:Zt,remove:Vn,empty:Hi,toFront:Fo,toBack:wc,hasClass:xc,addClass:Yt,removeClass:ni,setClass:Dm,getClass:Ai,setOpacity:yi,testProp:Wa,setTransform:mr,setPosition:Ut,getPosition:ia,get disableTextSelection(){return Gs},get enableTextSelection(){return Ka},disableImageDrag:Iu,enableImageDrag:Nm,preventOutline:Ya,restoreOutline:pr,getSizedParentNode:Vo,getScale:Za};function Ot(d,g,A,M){if(g&&typeof g=="object")for(var F in g)Tl(d,F,g[F],A);else{g=E(g);for(var K=0,re=g.length;K<re;K++)Tl(d,g[K],A,M)}return this}var sa="_leaflet_events";function Dn(d,g,A,M){if(arguments.length===1)Ta(d),delete d[sa];else if(g&&typeof g=="object")for(var F in g)Sa(d,F,g[F],A);else if(g=E(g),arguments.length===2)Ta(d,function(ve){return z(g,ve)!==-1});else for(var K=0,re=g.length;K<re;K++)Sa(d,g[K],A,M);return this}function Ta(d,g){for(var A in d[sa]){var M=A.split(/\d/)[0];(!g||g(M))&&Sa(d,M,null,null,A)}}var Lr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tl(d,g,A,M){var F=g+c(A)+(M?"_"+c(M):"");if(d[sa]&&d[sa][F])return this;var K=function(ve){return A.call(M||d,ve||window.event)},re=K;!Ne.touchNative&&Ne.pointer&&g.indexOf("touch")===0?K=xn(d,g,K):Ne.touch&&g==="dblclick"?K=dr(d,K):"addEventListener"in d?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?d.addEventListener(Lr[g]||g,K,Ne.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(K=function(ve){ve=ve||window.event,Cl(d,ve)&&re(ve)},d.addEventListener(Lr[g],K,!1)):d.addEventListener(g,re,!1):d.attachEvent("on"+g,K),d[sa]=d[sa]||{},d[sa][F]=K}function Sa(d,g,A,M,F){F=F||g+c(A)+(M?"_"+c(M):"");var K=d[sa]&&d[sa][F];if(!K)return this;!Ne.touchNative&&Ne.pointer&&g.indexOf("touch")===0?hn(d,g,K):Ne.touch&&g==="dblclick"?qt(d,K):"removeEventListener"in d?d.removeEventListener(Lr[g]||g,K,!1):d.detachEvent("on"+g,K),d[sa][F]=null}function Or(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Xa(d){return Tl(d,"wheel",Or),this}function Sl(d){return Ot(d,"mousedown touchstart dblclick contextmenu",Or),d._leaflet_disable_click=!0,this}function ai(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ws(d){return ai(d),Or(d),this}function ld(d){if(d.composedPath)return d.composedPath();for(var g=[],A=d.target;A;)g.push(A),A=A.parentNode;return g}function is(d,g){if(!g)return new ie(d.clientX,d.clientY);var A=Za(g),M=A.boundingClientRect;return new ie((d.clientX-M.left)/A.x-g.clientLeft,(d.clientY-M.top)/A.y-g.clientTop)}var Hn=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Du(d){return Ne.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Hn:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Cl(d,g){var A=g.relatedTarget;if(!A)return!0;try{for(;A&&A!==d;)A=A.parentNode}catch{return!1}return A!==d}var ny={__proto__:null,on:Ot,off:Dn,stopPropagation:Or,disableScrollPropagation:Xa,disableClickPropagation:Sl,preventDefault:ai,stop:Ws,getPropagationPath:ld,getMousePosition:is,getWheelDelta:Du,isExternalTarget:Cl,addListener:Ot,removeListener:Dn},Nu=se.extend({run:function(d,g,A,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=ia(d),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(d){var g=+new Date-this._startTime,A=this._duration*1e3;g<A?this._runFrame(this._easeOut(g/A),d):(this._runFrame(1),this._complete())},_runFrame:function(d,g){var A=this._startPos.add(this._offset.multiplyBy(d));g&&A._round(),Ut(this._el,A),this.fire("step")},_complete:function(){ne(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),on=se.extend({options:{crs:cn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,g){g=S(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(Pe(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ps&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ot(this._proxy,fr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,g,A){if(g=g===void 0?this._zoom:this._limitZoom(g),d=this._limitCenter(Pe(d),g,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=s({animate:A.animate},A.zoom),A.pan=s({animate:A.animate,duration:A.duration},A.pan));var M=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,g,A.zoom):this._tryAnimatedPan(d,A.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(d,g,A.pan&&A.pan.noMoveStart),this},setZoom:function(d,g){return this._loaded?this.setView(this.getCenter(),d,{zoom:g}):(this._zoom=d,this)},zoomIn:function(d,g){return d=d||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,g)},zoomOut:function(d,g){return d=d||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,g)},setZoomAround:function(d,g,A){var M=this.getZoomScale(g),F=this.getSize().divideBy(2),K=d instanceof ie?d:this.latLngToContainerPoint(d),re=K.subtract(F).multiplyBy(1-1/M),ve=this.containerPointToLatLng(F.add(re));return this.setView(ve,g,{zoom:A})},_getBoundsCenterZoom:function(d,g){g=g||{},d=d.getBounds?d.getBounds():De(d);var A=J(g.paddingTopLeft||g.padding||[0,0]),M=J(g.paddingBottomRight||g.padding||[0,0]),F=this.getBoundsZoom(d,!1,A.add(M));if(F=typeof g.maxZoom=="number"?Math.min(g.maxZoom,F):F,F===1/0)return{center:d.getCenter(),zoom:F};var K=M.subtract(A).divideBy(2),re=this.project(d.getSouthWest(),F),ve=this.project(d.getNorthEast(),F),ke=this.unproject(re.add(ve).divideBy(2).add(K),F);return{center:ke,zoom:F}},fitBounds:function(d,g){if(d=De(d),!d.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(d,g);return this.setView(A.center,A.zoom,g)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,g){return this.setView(d,this._zoom,{pan:g})},panBy:function(d,g){if(d=J(d).round(),g=g||{},!d.x&&!d.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Nu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Yt(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,A,g.duration||.25,g.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,g,A){if(A=A||{},A.animate===!1||!Ne.any3d)return this.setView(d,g,A);this._stop();var M=this.project(this.getCenter()),F=this.project(d),K=this.getSize(),re=this._zoom;d=Pe(d),g=g===void 0?re:g;var ve=Math.max(K.x,K.y),ke=ve*this.getZoomScale(re,g),Ge=F.distanceTo(M)||1,at=1.42,gt=at*at;function xt(Ci){var Go=Ci?-1:1,Dl=Ci?ke:ve,kc=ke*ke-ve*ve+Go*gt*gt*Ge*Ge,Nl=2*Dl*gt*Ge,Zm=kc/Nl,py=Math.sqrt(Zm*Zm+1)-Zm,Xm=py<1e-9?-18:Math.log(py);return Xm}function Kt(Ci){return(Math.exp(Ci)-Math.exp(-Ci))/2}function _i(Ci){return(Math.exp(Ci)+Math.exp(-Ci))/2}function Ni(Ci){return Kt(Ci)/_i(Ci)}var Ys=xt(0);function Ca(Ci){return ve*(_i(Ys)/_i(Ys+at*Ci))}function TA(Ci){return ve*(_i(Ys)*Ni(Ys+at*Ci)-Kt(Ys))/gt}function SA(Ci){return 1-Math.pow(1-Ci,1.5)}var Ym=Date.now(),Td=(xt(1)-Ys)/at,CA=A.duration?1e3*A.duration:1e3*Td*.8;function Sd(){var Ci=(Date.now()-Ym)/CA,Go=SA(Ci)*Td;Ci<=1?(this._flyToFrame=Z(Sd,this),this._move(this.unproject(M.add(F.subtract(M).multiplyBy(TA(Go)/Ge)),re),this.getScaleZoom(ve/Ca(Go),re),{flyTo:!0})):this._move(d,g)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),Sd.call(this),this},flyToBounds:function(d,g){var A=this._getBoundsCenterZoom(d,g);return this.flyTo(A.center,A.zoom,g)},setMaxBounds:function(d){return d=De(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var g=this.options.minZoom;return this.options.minZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var g=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,g){this._enforcingBounds=!0;var A=this.getCenter(),M=this._limitCenter(A,this._zoom,De(d));return A.equals(M)||this.panTo(M,g),this._enforcingBounds=!1,this},panInside:function(d,g){g=g||{};var A=J(g.paddingTopLeft||g.padding||[0,0]),M=J(g.paddingBottomRight||g.padding||[0,0]),F=this.project(this.getCenter()),K=this.project(d),re=this.getPixelBounds(),ve=ge([re.min.add(A),re.max.subtract(M)]),ke=ve.getSize();if(!ve.contains(K)){this._enforcingBounds=!0;var Ge=K.subtract(ve.getCenter()),at=ve.extend(K).getSize().subtract(ke);F.x+=Ge.x<0?-at.x:at.x,F.y+=Ge.y<0?-at.y:at.y,this.panTo(this.unproject(F),g),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=s({animate:!1,pan:!0},d===!0?{animate:!0}:d);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),M=g.divideBy(2).round(),F=A.divideBy(2).round(),K=M.subtract(F);return!K.x&&!K.y?this:(d.animate&&d.pan?this.panBy(K):(d.pan&&this._rawPanBy(K),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=s({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=a(this._handleGeolocationResponse,this),A=a(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,A,d):navigator.geolocation.getCurrentPosition(g,A,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var g=d.code,A=d.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var g=d.coords.latitude,A=d.coords.longitude,M=new $e(g,A),F=M.toBounds(d.coords.accuracy*2),K=this._locateOptions;if(K.setView){var re=this.getBoundsZoom(F);this.setView(M,K.maxZoom?Math.min(re,K.maxZoom):re)}var ve={latlng:M,bounds:F,timestamp:d.timestamp};for(var ke in d.coords)typeof d.coords[ke]=="number"&&(ve[ke]=d.coords[ke]);this.fire("locationfound",ve)}},addHandler:function(d,g){if(!g)return this;var A=this[d]=new g(this);return this._handlers.push(A),this.options[d]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ne(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)Vn(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,g){var A="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),M=Zt("div",A,g||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),g=this.unproject(d.getBottomLeft()),A=this.unproject(d.getTopRight());return new ue(g,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,g,A){d=De(d),A=J(A||[0,0]);var M=this.getZoom()||0,F=this.getMinZoom(),K=this.getMaxZoom(),re=d.getNorthWest(),ve=d.getSouthEast(),ke=this.getSize().subtract(A),Ge=ge(this.project(ve,M),this.project(re,M)).getSize(),at=Ne.any3d?this.options.zoomSnap:1,gt=ke.x/Ge.x,xt=ke.y/Ge.y,Kt=g?Math.max(gt,xt):Math.min(gt,xt);return M=this.getScaleZoom(Kt,M),at&&(M=Math.round(M/(at/100))*(at/100),M=g?Math.ceil(M/at)*at:Math.floor(M/at)*at),Math.max(F,Math.min(K,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ie(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,g){var A=this._getTopLeftPoint(d,g);return new ce(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,g){var A=this.options.crs;return g=g===void 0?this._zoom:g,A.scale(d)/A.scale(g)},getScaleZoom:function(d,g){var A=this.options.crs;g=g===void 0?this._zoom:g;var M=A.zoom(d*A.scale(g));return isNaN(M)?1/0:M},project:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(Pe(d),g)},unproject:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(J(d),g)},layerPointToLatLng:function(d){var g=J(d).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(d){var g=this.project(Pe(d))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Pe(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(De(d))},distance:function(d,g){return this.options.crs.distance(Pe(d),Pe(g))},containerPointToLayerPoint:function(d){return J(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return J(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var g=this.containerPointToLayerPoint(J(d));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Pe(d)))},mouseEventToContainerPoint:function(d){return is(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var g=this._container=Ga(d);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ot(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Yt(d,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=Fn(d,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ut(this._mapPane,new ie(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Yt(d.markerPane,"leaflet-zoom-hide"),Yt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,g,A){Ut(this._mapPane,new ie(0,0));var M=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var F=this._zoom!==g;this._moveStart(F,A)._move(d,g)._moveEnd(F),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,g){return d&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(d,g,A,M){g===void 0&&(g=this._zoom);var F=this._zoom!==g;return this._zoom=g,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?A&&A.pinch&&this.fire("zoom",A):((F||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ne(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){Ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var g=d?Dn:Ot;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ne(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,g){for(var A=[],M,F=g==="mouseout"||g==="mouseover",K=d.target||d.srcElement,re=!1;K;){if(M=this._targets[c(K)],M&&(g==="click"||g==="preclick")&&this._draggableMoved(M)){re=!0;break}if(M&&M.listens(g,!0)&&(F&&!Cl(K,d)||(A.push(M),F))||K===this._container)break;K=K.parentNode}return!A.length&&!re&&!F&&this.listens(g,!0)&&(A=[this]),A},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var g=d.target||d.srcElement;if(!(!this._loaded||g._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(g))){var A=d.type;A==="mousedown"&&Ya(g),this._fireDOMEvent(d,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,g,A){if(d.type==="click"){var M=s({},d);M.type="preclick",this._fireDOMEvent(M,M.type,A)}var F=this._findEventTargets(d,g);if(A){for(var K=[],re=0;re<A.length;re++)A[re].listens(g,!0)&&K.push(A[re]);F=K.concat(F)}if(F.length){g==="contextmenu"&&ai(d);var ve=F[0],ke={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var Ge=ve.getLatLng&&(!ve._radius||ve._radius<=10);ke.containerPoint=Ge?this.latLngToContainerPoint(ve.getLatLng()):this.mouseEventToContainerPoint(d),ke.layerPoint=this.containerPointToLayerPoint(ke.containerPoint),ke.latlng=Ge?ve.getLatLng():this.layerPointToLatLng(ke.layerPoint)}for(re=0;re<F.length;re++)if(F[re].fire(g,ke,!0),ke.originalEvent._stopped||F[re].options.bubblingMouseEvents===!1&&z(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,g=this._handlers.length;d<g;d++)this._handlers[d].disable()},whenReady:function(d,g){return this._loaded?d.call(g||this,{target:this}):this.on("load",d,g),this},_getMapPanePos:function(){return ia(this._mapPane)||new ie(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,g){var A=d&&g!==void 0?this._getNewPixelOrigin(d,g):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,g){var A=this.getSize()._divideBy(2);return this.project(d,g)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,g,A){var M=this._getNewPixelOrigin(A,g);return this.project(d,g)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,g,A){var M=this._getNewPixelOrigin(A,g);return ge([this.project(d.getSouthWest(),g)._subtract(M),this.project(d.getNorthWest(),g)._subtract(M),this.project(d.getSouthEast(),g)._subtract(M),this.project(d.getNorthEast(),g)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,g,A){if(!A)return d;var M=this.project(d,g),F=this.getSize().divideBy(2),K=new ce(M.subtract(F),M.add(F)),re=this._getBoundsOffset(K,A,g);return Math.abs(re.x)<=1&&Math.abs(re.y)<=1?d:this.unproject(M.add(re),g)},_limitOffset:function(d,g){if(!g)return d;var A=this.getPixelBounds(),M=new ce(A.min.add(d),A.max.add(d));return d.add(this._getBoundsOffset(M,g))},_getBoundsOffset:function(d,g,A){var M=ge(this.project(g.getNorthEast(),A),this.project(g.getSouthWest(),A)),F=M.min.subtract(d.min),K=M.max.subtract(d.max),re=this._rebound(F.x,-K.x),ve=this._rebound(F.y,-K.y);return new ie(re,ve)},_rebound:function(d,g){return d+g>0?Math.round(d-g)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(g))},_limitZoom:function(d){var g=this.getMinZoom(),A=this.getMaxZoom(),M=Ne.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(g,Math.min(A,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ni(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,g){var A=this._getCenterOffset(d)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,g),!0)},_createAnimProxy:function(){var d=this._proxy=Zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(g){var A=Si,M=this._proxy.style[A];mr(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),M===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),g=this.getZoom();mr(this._proxy,this.project(d,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,g,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(g),F=this._getCenterOffset(d)._divideBy(1-1/M);return A.animate!==!0&&!this.getSize().contains(F)?!1:(Z(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(d,g,!0)},this),!0)},_animateZoom:function(d,g,A,M){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=g,Yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:g,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ni(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bo(d,g){return new on(d,g)}var Is=_e.extend({options:{position:"topright"},initialize:function(d){S(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var g=this._map;return g&&g.removeControl(this),this.options.position=d,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var g=this._container=this.onAdd(d),A=this.getPosition(),M=d._controlCorners[A];return Yt(g,"leaflet-control"),A.indexOf("bottom")!==-1?M.insertBefore(g,M.firstChild):M.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Ks=function(d){return new Is(d)};on.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},g="leaflet-",A=this._controlContainer=Zt("div",g+"control-container",this._container);function M(F,K){var re=g+F+" "+g+K;d[F+K]=Zt("div",re,A)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Vn(this._controlCorners[d]);Vn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Om=Is.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,g,A,M){return A<M?-1:M<A?1:0}},initialize:function(d,g,A){S(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in d)this._addLayer(d[M],M);for(M in g)this._addLayer(g[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return Is.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,g){return this._addLayer(d,g),this._map?this._update():this},addOverlay:function(d,g){return this._addLayer(d,g,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(d));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(Yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):ni(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ni(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",g=this._container=Zt("div",d),A=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Sl(g),Xa(g);var M=this._section=Zt("section",d+"-list");A&&(this._map.on("click",this.collapse,this),Ot(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var F=this._layersLink=Zt("a",d+"-toggle",g);F.href="#",F.title="Layers",F.setAttribute("role","button"),Ot(F,{keydown:function(K){K.keyCode===13&&this._expandSafely()},click:function(K){ai(K),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Zt("div",d+"-base",M),this._separator=Zt("div",d+"-separator",M),this._overlaysList=Zt("div",d+"-overlays",M),g.appendChild(M)},_getLayer:function(d){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===d)return this._layers[g]},_addLayer:function(d,g,A){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:g,overlay:A}),this.options.sortLayers&&this._layers.sort(a(function(M,F){return this.options.sortFunction(M.layer,F.layer,M.name,F.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Hi(this._baseLayersList),Hi(this._overlaysList),this._layerControlInputs=[];var d,g,A,M,F=0;for(A=0;A<this._layers.length;A++)M=this._layers[A],this._addItem(M),g=g||M.overlay,d=d||!M.overlay,F+=M.overlay?0:1;return this.options.hideSingleBase&&(d=d&&F>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=g&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var g=this._getLayer(c(d.target)),A=g.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;A&&this._map.fire(A,g)},_createRadioElement:function(d,g){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(g?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=A,M.firstChild},_addItem:function(d){var g=document.createElement("label"),A=this._map.hasLayer(d.layer),M;d.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=A):M=this._createRadioElement("leaflet-base-layers_"+c(this),A),this._layerControlInputs.push(M),M.layerId=c(d.layer),Ot(M,"click",this._onInputClick,this);var F=document.createElement("span");F.innerHTML=" "+d.name;var K=document.createElement("span");g.appendChild(K),K.appendChild(M),K.appendChild(F);var re=d.overlay?this._overlaysList:this._baseLayersList;return re.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,g,A,M=[],F=[];this._handlingClick=!0;for(var K=d.length-1;K>=0;K--)g=d[K],A=this._getLayer(g.layerId).layer,g.checked?M.push(A):g.checked||F.push(A);for(K=0;K<F.length;K++)this._map.hasLayer(F[K])&&this._map.removeLayer(F[K]);for(K=0;K<M.length;K++)this._map.hasLayer(M[K])||this._map.addLayer(M[K]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,g,A,M=this._map.getZoom(),F=d.length-1;F>=0;F--)g=d[F],A=this._getLayer(g.layerId).layer,g.disabled=A.options.minZoom!==void 0&&M<A.options.minZoom||A.options.maxZoom!==void 0&&M>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Ot(d,"click",ai),this.expand();var g=this;setTimeout(function(){Dn(d,"click",ai),g._preventClick=!1})}}),S0=function(d,g,A){return new Om(d,g,A)},Rl=Is.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var g="leaflet-control-zoom",A=Zt("div",g+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,g+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,g+"-out",A,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,g,A,M,F){var K=Zt("a",A,M);return K.innerHTML=d,K.href="#",K.title=g,K.setAttribute("role","button"),K.setAttribute("aria-label",g),Sl(K),Ot(K,"click",Ws),Ot(K,"click",F,this),Ot(K,"click",this._refocusOnMap,this),K},_updateDisabled:function(){var d=this._map,g="leaflet-disabled";ni(this._zoomInButton,g),ni(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(Yt(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(Yt(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});on.mergeOptions({zoomControl:!0}),on.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rl,this.addControl(this.zoomControl))});var cd=function(d){return new Rl(d)},ud=Is.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var g="leaflet-control-scale",A=Zt("div",g),M=this.options;return this._addScales(M,g+"-line",A),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),A},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,g,A){d.metric&&(this._mScale=Zt("div",g,A)),d.imperial&&(this._iScale=Zt("div",g,A))},_update:function(){var d=this._map,g=d.getSize().y/2,A=d.distance(d.containerPointToLatLng([0,g]),d.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(A)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var g=this._getRoundNum(d),A=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,A,g/d)},_updateImperial:function(d){var g=d*3.2808399,A,M,F;g>5280?(A=g/5280,M=this._getRoundNum(A),this._updateScale(this._iScale,M+" mi",M/A)):(F=this._getRoundNum(g),this._updateScale(this._iScale,F+" ft",F/g))},_updateScale:function(d,g,A){d.style.width=Math.round(this.options.maxWidth*A)+"px",d.innerHTML=g},_getRoundNum:function(d){var g=Math.pow(10,(Math.floor(d)+"").length-1),A=d/g;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,g*A}}),hd=function(d){return new ud(d)},iy='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ac=Is.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?iy+" ":"")+"Leaflet</a>"},initialize:function(d){S(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Zt("div","leaflet-control-attribution"),Sl(this._container);for(var g in d._layers)d._layers[g].getAttribution&&this.addAttribution(d._layers[g].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var g in this._attributions)this._attributions[g]&&d.push(g);var A=[];this.options.prefix&&A.push(this.options.prefix),d.length&&A.push(d.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});on.mergeOptions({attributionControl:!0}),on.addInitHook(function(){this.options.attributionControl&&new Ac().addTo(this)});var C0=function(d){return new Ac(d)};Is.Layers=Om,Is.Zoom=Rl,Is.Scale=ud,Is.Attribution=Ac,Ks.layers=S0,Ks.zoom=cd,Ks.scale=hd,Ks.attribution=C0;var jr=_e.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});jr.addTo=function(d,g){return d.addHandler(g,this),this};var Lu={Events:ee},jm=Ne.touch?"touchstart mousedown":"mousedown",Qa=se.extend({options:{clickTolerance:3},initialize:function(d,g,A,M){S(this,M),this._element=d,this._dragStartTarget=g||d,this._preventOutline=A},enable:function(){this._enabled||(Ot(this._dragStartTarget,jm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qa._dragging===this&&this.finishDrag(!0),Dn(this._dragStartTarget,jm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!xc(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Qa._dragging===this&&this.finishDrag();return}if(!(Qa._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Qa._dragging=this,this._preventOutline&&Ya(this._element),Iu(),Gs(),!this._moving)){this.fire("down");var g=d.touches?d.touches[0]:d,A=Vo(this._element);this._startPoint=new ie(g.clientX,g.clientY),this._startPos=ia(this._element),this._parentScale=Za(A);var M=d.type==="mousedown";Ot(document,M?"mousemove":"touchmove",this._onMove,this),Ot(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var g=d.touches&&d.touches.length===1?d.touches[0]:d,A=new ie(g.clientX,g.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,ai(d),this._moved||(this.fire("dragstart"),this._moved=!0,Yt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),Ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){ni(document.body,"leaflet-dragging"),this._lastTarget&&(ni(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dn(document,"mousemove touchmove",this._onMove,this),Dn(document,"mouseup touchend touchcancel",this._onUp,this),Nm(),Ka();var g=this._moved&&this._moving;this._moving=!1,Qa._dragging=!1,g&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function dd(d,g,A){var M,F=[1,4,2,8],K,re,ve,ke,Ge,at,gt,xt;for(K=0,at=d.length;K<at;K++)d[K]._code=zo(d[K],g);for(ve=0;ve<4;ve++){for(gt=F[ve],M=[],K=0,at=d.length,re=at-1;K<at;re=K++)ke=d[K],Ge=d[re],ke._code&gt?Ge._code&gt||(xt=gs(Ge,ke,gt,g,A),xt._code=zo(xt,g),M.push(xt)):(Ge._code&gt&&(xt=gs(Ge,ke,gt,g,A),xt._code=zo(xt,g),M.push(xt)),M.push(ke));d=M}return d}function Tc(d,g){var A,M,F,K,re,ve,ke,Ge,at;if(!d||d.length===0)throw new Error("latlngs not passed");x(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var gt=Pe([0,0]),xt=De(d),Kt=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());Kt<1700&&(gt=fd(d));var _i=d.length,Ni=[];for(A=0;A<_i;A++){var Ys=Pe(d[A]);Ni.push(g.project(Pe([Ys.lat-gt.lat,Ys.lng-gt.lng])))}for(ve=ke=Ge=0,A=0,M=_i-1;A<_i;M=A++)F=Ni[A],K=Ni[M],re=F.y*K.x-K.y*F.x,ke+=(F.x+K.x)*re,Ge+=(F.y+K.y)*re,ve+=re*3;ve===0?at=Ni[0]:at=[ke/ve,Ge/ve];var Ca=g.unproject(J(at));return Pe([Ca.lat+gt.lat,Ca.lng+gt.lng])}function fd(d){for(var g=0,A=0,M=0,F=0;F<d.length;F++){var K=Pe(d[F]);g+=K.lat,A+=K.lng,M++}return Pe([g/M,A/M])}var md={__proto__:null,clipPolygon:dd,polygonCenter:Tc,centroid:fd};function Fm(d,g){if(!g||!d.length)return d.slice();var A=g*g;return d=ry(d,A),d=sy(d,A),d}function pd(d,g,A){return Math.sqrt(Fr(d,g,A,!0))}function kl(d,g,A){return Fr(d,g,A)}function sy(d,g){var A=d.length,M=typeof Uint8Array<"u"?Uint8Array:Array,F=new M(A);F[0]=F[A-1]=1,gd(d,F,g,0,A-1);var K,re=[];for(K=0;K<A;K++)F[K]&&re.push(d[K]);return re}function gd(d,g,A,M,F){var K=0,re,ve,ke;for(ve=M+1;ve<=F-1;ve++)ke=Fr(d[ve],d[M],d[F],!0),ke>K&&(re=ve,K=ke);K>A&&(g[re]=1,gd(d,g,A,M,re),gd(d,g,A,re,F))}function ry(d,g){for(var A=[d[0]],M=1,F=0,K=d.length;M<K;M++)ay(d[M],d[F])>g&&(A.push(d[M]),F=M);return F<K-1&&A.push(d[K-1]),A}var Vm;function Ou(d,g,A,M,F){var K=M?Vm:zo(d,A),re=zo(g,A),ve,ke,Ge;for(Vm=re;;){if(!(K|re))return[d,g];if(K&re)return!1;ve=K||re,ke=gs(d,g,ve,A,F),Ge=zo(ke,A),ve===K?(d=ke,K=Ge):(g=ke,re=Ge)}}function gs(d,g,A,M,F){var K=g.x-d.x,re=g.y-d.y,ve=M.min,ke=M.max,Ge,at;return A&8?(Ge=d.x+K*(ke.y-d.y)/re,at=ke.y):A&4?(Ge=d.x+K*(ve.y-d.y)/re,at=ve.y):A&2?(Ge=ke.x,at=d.y+re*(ke.x-d.x)/K):A&1&&(Ge=ve.x,at=d.y+re*(ve.x-d.x)/K),new ie(Ge,at,F)}function zo(d,g){var A=0;return d.x<g.min.x?A|=1:d.x>g.max.x&&(A|=2),d.y<g.min.y?A|=4:d.y>g.max.y&&(A|=8),A}function ay(d,g){var A=g.x-d.x,M=g.y-d.y;return A*A+M*M}function Fr(d,g,A,M){var F=g.x,K=g.y,re=A.x-F,ve=A.y-K,ke=re*re+ve*ve,Ge;return ke>0&&(Ge=((d.x-F)*re+(d.y-K)*ve)/ke,Ge>1?(F=A.x,K=A.y):Ge>0&&(F+=re*Ge,K+=ve*Ge)),re=d.x-F,ve=d.y-K,M?re*re+ve*ve:new ie(F,K)}function x(d){return!I(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function D(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),x(d)}function U(d,g){var A,M,F,K,re,ve,ke,Ge;if(!d||d.length===0)throw new Error("latlngs not passed");x(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var at=Pe([0,0]),gt=De(d),xt=gt.getNorthWest().distanceTo(gt.getSouthWest())*gt.getNorthEast().distanceTo(gt.getNorthWest());xt<1700&&(at=fd(d));var Kt=d.length,_i=[];for(A=0;A<Kt;A++){var Ni=Pe(d[A]);_i.push(g.project(Pe([Ni.lat-at.lat,Ni.lng-at.lng])))}for(A=0,M=0;A<Kt-1;A++)M+=_i[A].distanceTo(_i[A+1])/2;if(M===0)Ge=_i[0];else for(A=0,K=0;A<Kt-1;A++)if(re=_i[A],ve=_i[A+1],F=re.distanceTo(ve),K+=F,K>M){ke=(K-M)/F,Ge=[ve.x-ke*(ve.x-re.x),ve.y-ke*(ve.y-re.y)];break}var Ys=g.unproject(J(Ge));return Pe([Ys.lat+at.lat,Ys.lng+at.lng])}var te={__proto__:null,simplify:Fm,pointToSegmentDistance:pd,closestPointOnSegment:kl,clipSegment:Ou,_getEdgeIntersection:gs,_getBitCode:zo,_sqClosestPointOnSegment:Fr,isFlat:x,_flat:D,polylineCenter:U},ye={project:function(d){return new ie(d.lng,d.lat)},unproject:function(d){return new $e(d.y,d.x)},bounds:new ce([-180,-90],[180,90])},Me={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ce([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var g=Math.PI/180,A=this.R,M=d.lat*g,F=this.R_MINOR/A,K=Math.sqrt(1-F*F),re=K*Math.sin(M),ve=Math.tan(Math.PI/4-M/2)/Math.pow((1-re)/(1+re),K/2);return M=-A*Math.log(Math.max(ve,1e-10)),new ie(d.lng*g*A,M)},unproject:function(d){for(var g=180/Math.PI,A=this.R,M=this.R_MINOR/A,F=Math.sqrt(1-M*M),K=Math.exp(-d.y/A),re=Math.PI/2-2*Math.atan(K),ve=0,ke=.1,Ge;ve<15&&Math.abs(ke)>1e-7;ve++)Ge=F*Math.sin(re),Ge=Math.pow((1-Ge)/(1+Ge),F/2),ke=Math.PI/2-2*Math.atan(K*Ge)-re,re+=ke;return new $e(re*g,d.x*g/A)}},Qe={__proto__:null,LonLat:ye,Mercator:Me,SphericalMercator:et},Sn=s({},je,{code:"EPSG:3395",projection:Me,transformation:function(){var d=.5/(Math.PI*Me.R);return Dt(d,.5,-d,.5)}()}),$i=s({},je,{code:"EPSG:4326",projection:ye,transformation:Dt(1/180,1,-1/180,.5)}),Cn=s({},We,{projection:ye,transformation:Dt(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,g){var A=g.lng-d.lng,M=g.lat-d.lat;return Math.sqrt(A*A+M*M)},infinite:!0});We.Earth=je,We.EPSG3395=Sn,We.EPSG3857=cn,We.EPSG900913=On,We.EPSG4326=$i,We.Simple=Cn;var Xn=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var g=d.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var A=this.getEvents();g.on(A,this),this.once("remove",function(){g.off(A,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});on.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(d);return this._layers[g]?this:(this._layers[g]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var g=c(d);return this._layers[g]?(this._loaded&&d.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,g){for(var A in this._layers)d.call(g,this._layers[A]);return this},_addLayers:function(d){d=d?I(d)?d:[d]:[];for(var g=0,A=d.length;g<A;g++)this.addLayer(d[g])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var g=c(d);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,g=-1/0,A=this._getZoomSpan();for(var M in this._zoomBoundLayers){var F=this._zoomBoundLayers[M].options;d=F.minZoom===void 0?d:Math.min(d,F.minZoom),g=F.maxZoom===void 0?g:Math.max(g,F.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=d===1/0?void 0:d,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vi=Xn.extend({initialize:function(d,g){S(this,g),this._layers={};var A,M;if(d)for(A=0,M=d.length;A<M;A++)this.addLayer(d[A])},addLayer:function(d){var g=this.getLayerId(d);return this._layers[g]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var g=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(d){var g=typeof d=="number"?d:this.getLayerId(d);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var g=Array.prototype.slice.call(arguments,1),A,M;for(A in this._layers)M=this._layers[A],M[d]&&M[d].apply(M,g);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,g){for(var A in this._layers)d.call(g,this._layers[A]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),Ml=function(d,g){return new vi(d,g)},pi=vi.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),vi.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),vi.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ue;for(var g in this._layers){var A=this._layers[g];d.extend(A.getBounds?A.getBounds():A.getLatLng())}return d}}),Uo=function(d,g){return new pi(d,g)},Ho=_e.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){S(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,g){var A=this._getIconUrl(d);if(!A){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(A,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(M,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(d,g){var A=this.options,M=A[g+"Size"];typeof M=="number"&&(M=[M,M]);var F=J(M),K=J(g==="shadow"&&A.shadowAnchor||A.iconAnchor||F&&F.divideBy(2,!0));d.className="leaflet-marker-"+g+" "+(A.className||""),K&&(d.style.marginLeft=-K.x+"px",d.style.marginTop=-K.y+"px"),F&&(d.style.width=F.x+"px",d.style.height=F.y+"px")},_createImg:function(d,g){return g=g||document.createElement("img"),g.src=d,g},_getIconUrl:function(d){return Ne.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function oy(d){return new Ho(d)}var yd=Ho.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof yd.imagePath!="string"&&(yd.imagePath=this._detectIconPath()),(this.options.imagePath||yd.imagePath)+Ho.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var g=function(A,M,F){var K=M.exec(A);return K&&K[F]};return d=g(d,/^url\((['"])?(.+)\1\)$/,2),d&&g(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Zt("div","leaflet-default-icon-path",document.body),g=Fn(d,"background-image")||Fn(d,"backgroundImage");if(document.body.removeChild(d),g=this._stripUrl(g),g)return g;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),R0=jr.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Qa(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Yt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ni(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var g=this._marker,A=g._map,M=this._marker.options.autoPanSpeed,F=this._marker.options.autoPanPadding,K=ia(g._icon),re=A.getPixelBounds(),ve=A.getPixelOrigin(),ke=ge(re.min._subtract(ve).add(F),re.max._subtract(ve).subtract(F));if(!ke.contains(K)){var Ge=J((Math.max(ke.max.x,K.x)-ke.max.x)/(re.max.x-ke.max.x)-(Math.min(ke.min.x,K.x)-ke.min.x)/(re.min.x-ke.min.x),(Math.max(ke.max.y,K.y)-ke.max.y)/(re.max.y-ke.max.y)-(Math.min(ke.min.y,K.y)-ke.min.y)/(re.min.y-ke.min.y)).multiplyBy(M);A.panBy(Ge,{animate:!1}),this._draggable._newPos._add(Ge),this._draggable._startPos._add(Ge),Ut(g._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=Z(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(ne(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,d)))},_onDrag:function(d){var g=this._marker,A=g._shadow,M=ia(g._icon),F=g._map.layerPointToLatLng(M);A&&Ut(A,M),g._latlng=F,d.latlng=F,d.oldLatLng=this._oldLatLng,g.fire("move",d).fire("drag",d)},_onDragEnd:function(d){ne(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),vd=Xn.extend({options:{icon:new yd,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,g){S(this,g),this._latlng=Pe(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var g=this._latlng;return this._latlng=Pe(d),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=d.icon.createIcon(this._icon),M=!1;A!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(A.title=d.title),A.tagName==="IMG"&&(A.alt=d.alt||"")),Yt(A,g),d.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ot(A,"focus",this._panOnFocus,this);var F=d.icon.createShadow(this._shadow),K=!1;F!==this._shadow&&(this._removeShadow(),K=!0),F&&(Yt(F,g),F.alt=""),this._shadow=F,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),F&&K&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dn(this._icon,"focus",this._panOnFocus,this),Vn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vn(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&Ut(this._icon,d),this._shadow&&Ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),R0)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new R0(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&yi(this._icon,d),this._shadow&&yi(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var g=this.options.icon.options,A=g.iconSize?J(g.iconSize):J(0,0),M=g.iconAnchor?J(g.iconAnchor):J(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:A.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function k0(d,g){return new vd(d,g)}var Pl=Xn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return S(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bm=Pl.extend({options:{fill:!0,radius:10},initialize:function(d,g){S(this,g),this._latlng=Pe(d),this._radius=this.options.radius},setLatLng:function(d){var g=this._latlng;return this._latlng=Pe(d),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var g=d&&d.radius||this._radius;return Pl.prototype.setStyle.call(this,d),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,g=this._radiusY||d,A=this._clickTolerance(),M=[d+A,g+A];this._pxBounds=new ce(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _A(d,g){return new Bm(d,g)}var M0=Bm.extend({initialize:function(d,g,A){if(typeof g=="number"&&(g=s({},A,{radius:g})),S(this,g),this._latlng=Pe(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ue(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Pl.prototype.setStyle,_project:function(){var d=this._latlng.lng,g=this._latlng.lat,A=this._map,M=A.options.crs;if(M.distance===je.distance){var F=Math.PI/180,K=this._mRadius/je.R/F,re=A.project([g+K,d]),ve=A.project([g-K,d]),ke=re.add(ve).divideBy(2),Ge=A.unproject(ke).lat,at=Math.acos((Math.cos(K*F)-Math.sin(g*F)*Math.sin(Ge*F))/(Math.cos(g*F)*Math.cos(Ge*F)))/F;(isNaN(at)||at===0)&&(at=K/Math.cos(Math.PI/180*g)),this._point=ke.subtract(A.getPixelOrigin()),this._radius=isNaN(at)?0:ke.x-A.project([Ge,d-at]).x,this._radiusY=ke.y-re.y}else{var gt=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(gt).x}this._updateBounds()}});function ik(d,g,A){return new M0(d,g,A)}var Il=Pl.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,g){S(this,g),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var g=1/0,A=null,M=Fr,F,K,re=0,ve=this._parts.length;re<ve;re++)for(var ke=this._parts[re],Ge=1,at=ke.length;Ge<at;Ge++){F=ke[Ge-1],K=ke[Ge];var gt=M(d,F,K,!0);gt<g&&(g=gt,A=M(d,F,K))}return A&&(A.distance=Math.sqrt(g)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return U(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,g){return g=g||this._defaultShape(),d=Pe(d),g.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ue,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return x(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var g=[],A=x(d),M=0,F=d.length;M<F;M++)A?(g[M]=Pe(d[M]),this._bounds.extend(g[M])):g[M]=this._convertLatLngs(d[M]);return g},_project:function(){var d=new ce;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),g=new ie(d,d);this._rawPxBounds&&(this._pxBounds=new ce([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(d,g,A){var M=d[0]instanceof $e,F=d.length,K,re;if(M){for(re=[],K=0;K<F;K++)re[K]=this._map.latLngToLayerPoint(d[K]),A.extend(re[K]);g.push(re)}else for(K=0;K<F;K++)this._projectLatlngs(d[K],g,A)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,A,M,F,K,re,ve,ke;for(A=0,F=0,K=this._rings.length;A<K;A++)for(ke=this._rings[A],M=0,re=ke.length;M<re-1;M++)ve=Ou(ke[M],ke[M+1],d,M,!0),ve&&(g[F]=g[F]||[],g[F].push(ve[0]),(ve[1]!==ke[M+1]||M===re-2)&&(g[F].push(ve[1]),F++))}},_simplifyPoints:function(){for(var d=this._parts,g=this.options.smoothFactor,A=0,M=d.length;A<M;A++)d[A]=Fm(d[A],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,g){var A,M,F,K,re,ve,ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(A=0,K=this._parts.length;A<K;A++)for(ve=this._parts[A],M=0,re=ve.length,F=re-1;M<re;F=M++)if(!(!g&&M===0)&&pd(d,ve[F],ve[M])<=ke)return!0;return!1}});function sk(d,g){return new Il(d,g)}Il._flat=D;var _d=Il.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Tc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var g=Il.prototype._convertLatLngs.call(this,d),A=g.length;return A>=2&&g[0]instanceof $e&&g[0].equals(g[A-1])&&g.pop(),g},_setLatLngs:function(d){Il.prototype._setLatLngs.call(this,d),x(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return x(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,g=this.options.weight,A=new ie(g,g);if(d=new ce(d.min.subtract(A),d.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,F=this._rings.length,K;M<F;M++)K=dd(this._rings[M],d,!0),K.length&&this._parts.push(K)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var g=!1,A,M,F,K,re,ve,ke,Ge;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(K=0,ke=this._parts.length;K<ke;K++)for(A=this._parts[K],re=0,Ge=A.length,ve=Ge-1;re<Ge;ve=re++)M=A[re],F=A[ve],M.y>d.y!=F.y>d.y&&d.x<(F.x-M.x)*(d.y-M.y)/(F.y-M.y)+M.x&&(g=!g);return g||Il.prototype._containsPoint.call(this,d,!0)}});function ra(d,g){return new _d(d,g)}var aa=pi.extend({initialize:function(d,g){S(this,g),this._layers={},d&&this.addData(d)},addData:function(d){var g=I(d)?d:d.features,A,M,F;if(g){for(A=0,M=g.length;A<M;A++)F=g[A],(F.geometries||F.geometry||F.features||F.coordinates)&&this.addData(F);return this}var K=this.options;if(K.filter&&!K.filter(d))return this;var re=zm(d,K);return re?(re.feature=bd(d),re.defaultOptions=re.options,this.resetStyle(re),K.onEachFeature&&K.onEachFeature(d,re),this.addLayer(re)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=s({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(g){this._setLayerStyle(g,d)},this)},_setLayerStyle:function(d,g){d.setStyle&&(typeof g=="function"&&(g=g(d.feature)),d.setStyle(g))}});function zm(d,g){var A=d.type==="Feature"?d.geometry:d,M=A?A.coordinates:null,F=[],K=g&&g.pointToLayer,re=g&&g.coordsToLatLng||ly,ve,ke,Ge,at;if(!M&&!A)return null;switch(A.type){case"Point":return ve=re(M),P0(K,d,ve,g);case"MultiPoint":for(Ge=0,at=M.length;Ge<at;Ge++)ve=re(M[Ge]),F.push(P0(K,d,ve,g));return new pi(F);case"LineString":case"MultiLineString":return ke=Um(M,A.type==="LineString"?0:1,re),new Il(ke,g);case"Polygon":case"MultiPolygon":return ke=Um(M,A.type==="Polygon"?1:2,re),new _d(ke,g);case"GeometryCollection":for(Ge=0,at=A.geometries.length;Ge<at;Ge++){var gt=zm({geometry:A.geometries[Ge],type:"Feature",properties:d.properties},g);gt&&F.push(gt)}return new pi(F);case"FeatureCollection":for(Ge=0,at=A.features.length;Ge<at;Ge++){var xt=zm(A.features[Ge],g);xt&&F.push(xt)}return new pi(F);default:throw new Error("Invalid GeoJSON object.")}}function P0(d,g,A,M){return d?d(g,A):new vd(A,M&&M.markersInheritOptions&&M)}function ly(d){return new $e(d[1],d[0],d[2])}function Um(d,g,A){for(var M=[],F=0,K=d.length,re;F<K;F++)re=g?Um(d[F],g-1,A):(A||ly)(d[F]),M.push(re);return M}function Hm(d,g){return d=Pe(d),d.alt!==void 0?[v(d.lng,g),v(d.lat,g),v(d.alt,g)]:[v(d.lng,g),v(d.lat,g)]}function cy(d,g,A,M){for(var F=[],K=0,re=d.length;K<re;K++)F.push(g?cy(d[K],x(d[K])?0:g-1,A,M):Hm(d[K],M));return!g&&A&&F.length>0&&F.push(F[0].slice()),F}function Ja(d,g){return d.feature?s({},d.feature,{geometry:g}):bd(g)}function bd(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var ju={toGeoJSON:function(d){return Ja(this,{type:"Point",coordinates:Hm(this.getLatLng(),d)})}};vd.include(ju),M0.include(ju),Bm.include(ju),Il.include({toGeoJSON:function(d){var g=!x(this._latlngs),A=cy(this._latlngs,g?1:0,!1,d);return Ja(this,{type:(g?"Multi":"")+"LineString",coordinates:A})}}),_d.include({toGeoJSON:function(d){var g=!x(this._latlngs),A=g&&!x(this._latlngs[0]),M=cy(this._latlngs,A?2:g?1:0,!0,d);return g||(M=[M]),Ja(this,{type:(A?"Multi":"")+"Polygon",coordinates:M})}}),vi.include({toMultiPoint:function(d){var g=[];return this.eachLayer(function(A){g.push(A.toGeoJSON(d).geometry.coordinates)}),Ja(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(d){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(d);var A=g==="GeometryCollection",M=[];return this.eachLayer(function(F){if(F.toGeoJSON){var K=F.toGeoJSON(d);if(A)M.push(K.geometry);else{var re=bd(K);re.type==="FeatureCollection"?M.push.apply(M,re.features):M.push(re)}}}),A?Ja(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function uy(d,g){return new aa(d,g)}var bA=uy,$o=Xn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,g,A){this._url=d,this._bounds=De(g),S(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Fo(this._image),this},bringToBack:function(){return this._map&&wc(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=De(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",g=this._image=d?this._url:Zt("img");if(Yt(g,"leaflet-image-layer"),this._zoomAnimated&&Yt(g,"leaflet-zoom-animated"),this.options.className&&Yt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=a(this.fire,this,"load"),g.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(d){var g=this._map.getZoomScale(d.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;mr(this._image,A,g)},_reset:function(){var d=this._image,g=new ce(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=g.getSize();Ut(d,g.min),d.style.width=A.x+"px",d.style.height=A.y+"px"},_updateOpacity:function(){yi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),wd=function(d,g,A){return new $o(d,g,A)},hy=$o.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",g=this._image=d?this._url:Zt("video");if(Yt(g,"leaflet-image-layer"),this._zoomAnimated&&Yt(g,"leaflet-zoom-animated"),this.options.className&&Yt(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=a(this.fire,this,"load"),d){for(var A=g.getElementsByTagName("source"),M=[],F=0;F<A.length;F++)M.push(A[F].src);this._url=A.length>0?M:[g.src];return}I(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var K=0;K<this._url.length;K++){var re=Zt("source");re.src=this._url[K],g.appendChild(re)}}});function wA(d,g,A){return new hy(d,g,A)}var Sc=$o.extend({_initImage:function(){var d=this._image=this._url;Yt(d,"leaflet-image-layer"),this._zoomAnimated&&Yt(d,"leaflet-zoom-animated"),this.options.className&&Yt(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function xA(d,g,A){return new Sc(d,g,A)}var eo=Xn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,g){d&&(d instanceof $e||I(d))?(this._latlng=Pe(d),S(this,g)):(S(this,d),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&yi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&yi(this._container,1),this.bringToFront(),this.options.interactive&&(Yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(yi(this._container,0),this._removeTimeout=setTimeout(a(Vn,void 0,this._container),200)):Vn(this._container),this.options.interactive&&(ni(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Pe(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fo(this._container),this},bringToBack:function(){return this._map&&wc(this._container),this},_prepareOpen:function(d){var g=this._source;if(!g._map)return!1;if(g instanceof pi){g=null;var A=this._source._layers;for(var M in A)if(A[M]._map){g=A[M];break}if(!g)return!1;this._source=g}if(!d)if(g.getCenter)d=g.getCenter();else if(g.getLatLng)d=g.getLatLng();else if(g.getBounds)d=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")d.innerHTML=g;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),g=J(this.options.offset),A=this._getAnchor();this._zoomAnimated?Ut(this._container,d.add(A)):g=g.add(d).add(A);var M=this._containerBottom=-g.y,F=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=M+"px",this._container.style.left=F+"px"}},_getAnchor:function(){return[0,0]}});on.include({_initOverlay:function(d,g,A,M){var F=g;return F instanceof d||(F=new d(M).setContent(g)),A&&F.setLatLng(A),F}}),Xn.include({_initOverlay:function(d,g,A,M){var F=A;return F instanceof d?(S(F,M),F._source=this):(F=g&&!M?g:new d(M,this),F.setContent(A)),F}});var $m=eo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,eo.prototype.openOn.call(this,d)},onAdd:function(d){eo.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pl||this._source.on("preclick",Or))},onRemove:function(d){eo.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pl||this._source.off("preclick",Or))},getEvents:function(){var d=eo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",g=this._container=Zt("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Zt("div",d+"-content-wrapper",g);if(this._contentNode=Zt("div",d+"-content",A),Sl(g),Xa(this._contentNode),Ot(g,"contextmenu",Or),this._tipContainer=Zt("div",d+"-tip-container",g),this._tip=Zt("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Zt("a",d+"-close-button",g);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Ot(M,"click",function(F){ai(F),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,g=d.style;g.width="",g.whiteSpace="nowrap";var A=d.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),g.width=A+1+"px",g.whiteSpace="",g.height="";var M=d.offsetHeight,F=this.options.maxHeight,K="leaflet-popup-scrolled";F&&M>F?(g.height=F+"px",Yt(d,K)):ni(d,K),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),A=this._getAnchor();Ut(this._container,g.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,g=parseInt(Fn(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+g,M=this._containerWidth,F=new ie(this._containerLeft,-A-this._containerBottom);F._add(ia(this._container));var K=d.layerPointToContainerPoint(F),re=J(this.options.autoPanPadding),ve=J(this.options.autoPanPaddingTopLeft||re),ke=J(this.options.autoPanPaddingBottomRight||re),Ge=d.getSize(),at=0,gt=0;K.x+M+ke.x>Ge.x&&(at=K.x+M-Ge.x+ke.x),K.x-at-ve.x<0&&(at=K.x-ve.x),K.y+A+ke.y>Ge.y&&(gt=K.y+A-Ge.y+ke.y),K.y-gt-ve.y<0&&(gt=K.y-ve.y),(at||gt)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([at,gt]))}},_getAnchor:function(){return J(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rk=function(d,g){return new $m(d,g)};on.mergeOptions({closePopupOnClick:!0}),on.include({openPopup:function(d,g,A){return this._initOverlay($m,d,g,A).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Xn.include({bindPopup:function(d,g){return this._popup=this._initOverlay($m,this._popup,d,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof pi||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ws(d);var g=d.layer||d.target;if(this._popup._source===g&&!(g instanceof Pl)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=g,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var dy=eo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){eo.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){eo.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=eo.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",g=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Zt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var g,A,M=this._map,F=this._container,K=M.latLngToContainerPoint(M.getCenter()),re=M.layerPointToContainerPoint(d),ve=this.options.direction,ke=F.offsetWidth,Ge=F.offsetHeight,at=J(this.options.offset),gt=this._getAnchor();ve==="top"?(g=ke/2,A=Ge):ve==="bottom"?(g=ke/2,A=0):ve==="center"?(g=ke/2,A=Ge/2):ve==="right"?(g=0,A=Ge/2):ve==="left"?(g=ke,A=Ge/2):re.x<K.x?(ve="right",g=0,A=Ge/2):(ve="left",g=ke+(at.x+gt.x)*2,A=Ge/2),d=d.subtract(J(g,A,!0)).add(at).add(gt),ni(F,"leaflet-tooltip-right"),ni(F,"leaflet-tooltip-left"),ni(F,"leaflet-tooltip-top"),ni(F,"leaflet-tooltip-bottom"),Yt(F,"leaflet-tooltip-"+ve),Ut(F,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&yi(this._container,d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(g)},_getAnchor:function(){return J(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ak=function(d,g){return new dy(d,g)};on.include({openTooltip:function(d,g,A){return this._initOverlay(dy,d,g,A).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Xn.include({bindTooltip:function(d,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dy,this._tooltip,d,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var g=d?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[g](A),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof pi||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&(Ot(g,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Ot(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var g=d.latlng,A,M;this._tooltip.options.sticky&&d.originalEvent&&(A=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(A),g=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(g)}});var I0=Ho.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var g=d&&d.tagName==="DIV"?d:document.createElement("div"),A=this.options;if(A.html instanceof Element?(Hi(g),g.appendChild(A.html)):g.innerHTML=A.html!==!1?A.html:"",A.bgPos){var M=J(A.bgPos);g.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function EA(d){return new I0(d)}Ho.Default=yd;var Fu=Xn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){S(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Vn(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(wc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ie?d:new ie(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var g=this.getPane().children,A=-d(-1/0,1/0),M=0,F=g.length,K;M<F;M++)K=g[M].style.zIndex,g[M]!==this._container&&K&&(A=d(A,+K));isFinite(A)&&(this.options.zIndex=A+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){yi(this._container,this.options.opacity);var d=+new Date,g=!1,A=!1;for(var M in this._tiles){var F=this._tiles[M];if(!(!F.current||!F.loaded)){var K=Math.min(1,(d-F.loaded)/200);yi(F.el,K),K<1?g=!0:(F.active?A=!0:this._onOpaqueTile(F),F.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),g&&(ne(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,g=this.options.maxZoom;if(d!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===d?(this._levels[A].el.style.zIndex=g-Math.abs(d-A),this._onUpdateLevel(A)):(Vn(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var M=this._levels[d],F=this._map;return M||(M=this._levels[d]={},M.el=Zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=g,M.origin=F.project(F.unproject(F.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,F.getCenter(),F.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,g,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)g=this._tiles[d],g.retain=g.current;for(d in this._tiles)if(g=this._tiles[d],g.current&&!g.active){var M=g.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var g in this._tiles)this._tiles[g].coords.z===d&&this._removeTile(g)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Vn(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,g,A,M){var F=Math.floor(d/2),K=Math.floor(g/2),re=A-1,ve=new ie(+F,+K);ve.z=+re;var ke=this._tileCoordsToKey(ve),Ge=this._tiles[ke];return Ge&&Ge.active?(Ge.retain=!0,!0):(Ge&&Ge.loaded&&(Ge.retain=!0),re>M?this._retainParent(F,K,re,M):!1)},_retainChildren:function(d,g,A,M){for(var F=2*d;F<2*d+2;F++)for(var K=2*g;K<2*g+2;K++){var re=new ie(F,K);re.z=A+1;var ve=this._tileCoordsToKey(re),ke=this._tiles[ve];if(ke&&ke.active){ke.retain=!0;continue}else ke&&ke.loaded&&(ke.retain=!0);A+1<M&&this._retainChildren(F,K,A+1,M)}},_resetView:function(d){var g=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var g=this.options;return g.minNativeZoom!==void 0&&d<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<d?g.maxNativeZoom:d},_setView:function(d,g,A,M){var F=Math.round(g);this.options.maxZoom!==void 0&&F>this.options.maxZoom||this.options.minZoom!==void 0&&F<this.options.minZoom?F=void 0:F=this._clampZoom(F);var K=this.options.updateWhenZooming&&F!==this._tileZoom;(!M||K)&&(this._tileZoom=F,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),F!==void 0&&this._update(d),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(d,g)},_setZoomTransforms:function(d,g){for(var A in this._levels)this._setZoomTransform(this._levels[A],d,g)},_setZoomTransform:function(d,g,A){var M=this._map.getZoomScale(A,d.zoom),F=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(g,A)).round();Ne.any3d?mr(d.el,F,M):Ut(d.el,F)},_resetGrid:function(){var d=this._map,g=d.options.crs,A=this._tileSize=this.getTileSize(),M=this._tileZoom,F=this._map.getPixelWorldBounds(this._tileZoom);F&&(this._globalTileRange=this._pxBoundsToTileRange(F)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,g.wrapLng[0]],M).x/A.x),Math.ceil(d.project([0,g.wrapLng[1]],M).x/A.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([g.wrapLat[0],0],M).y/A.x),Math.ceil(d.project([g.wrapLat[1],0],M).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var g=this._map,A=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),M=g.getZoomScale(A,this._tileZoom),F=g.project(d,this._tileZoom).floor(),K=g.getSize().divideBy(M*2);return new ce(F.subtract(K),F.add(K))},_update:function(d){var g=this._map;if(g){var A=this._clampZoom(g.getZoom());if(d===void 0&&(d=g.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(d),F=this._pxBoundsToTileRange(M),K=F.getCenter(),re=[],ve=this.options.keepBuffer,ke=new ce(F.getBottomLeft().subtract([ve,-ve]),F.getTopRight().add([ve,-ve]));if(!(isFinite(F.min.x)&&isFinite(F.min.y)&&isFinite(F.max.x)&&isFinite(F.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ge in this._tiles){var at=this._tiles[Ge].coords;(at.z!==this._tileZoom||!ke.contains(new ie(at.x,at.y)))&&(this._tiles[Ge].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(d,A);return}for(var gt=F.min.y;gt<=F.max.y;gt++)for(var xt=F.min.x;xt<=F.max.x;xt++){var Kt=new ie(xt,gt);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var _i=this._tiles[this._tileCoordsToKey(Kt)];_i?_i.current=!0:re.push(Kt)}}if(re.sort(function(Ys,Ca){return Ys.distanceTo(K)-Ca.distanceTo(K)}),re.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ni=document.createDocumentFragment();for(xt=0;xt<re.length;xt++)this._addTile(re[xt],Ni);this._level.el.appendChild(Ni)}}}},_isValidTile:function(d){var g=this._map.options.crs;if(!g.infinite){var A=this._globalTileRange;if(!g.wrapLng&&(d.x<A.min.x||d.x>A.max.x)||!g.wrapLat&&(d.y<A.min.y||d.y>A.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return De(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var g=this._map,A=this.getTileSize(),M=d.scaleBy(A),F=M.add(A),K=g.unproject(M,d.z),re=g.unproject(F,d.z);return[K,re]},_tileCoordsToBounds:function(d){var g=this._tileCoordsToNwSe(d),A=new ue(g[0],g[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var g=d.split(":"),A=new ie(+g[0],+g[1]);return A.z=+g[2],A},_removeTile:function(d){var g=this._tiles[d];g&&(Vn(g.el),delete this._tiles[d],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){Yt(d,"leaflet-tile");var g=this.getTileSize();d.style.width=g.x+"px",d.style.height=g.y+"px",d.onselectstart=p,d.onmousemove=p,Ne.ielt9&&this.options.opacity<1&&yi(d,this.options.opacity)},_addTile:function(d,g){var A=this._getTilePos(d),M=this._tileCoordsToKey(d),F=this.createTile(this._wrapCoords(d),a(this._tileReady,this,d));this._initTile(F),this.createTile.length<2&&Z(a(this._tileReady,this,d,null,F)),Ut(F,A),this._tiles[M]={el:F,coords:d,current:!0},g.appendChild(F),this.fire("tileloadstart",{tile:F,coords:d})},_tileReady:function(d,g,A){g&&this.fire("tileerror",{error:g,tile:A,coords:d});var M=this._tileCoordsToKey(d);A=this._tiles[M],A&&(A.loaded=+new Date,this._map._fadeAnimated?(yi(A.el,0),ne(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),g||(Yt(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var g=new ie(this._wrapX?f(d.x,this._wrapX):d.x,this._wrapY?f(d.y,this._wrapY):d.y);return g.z=d.z,g},_pxBoundsToTileRange:function(d){var g=this.getTileSize();return new ce(d.min.unscaleBy(g).floor(),d.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function to(d){return new Fu(d)}var Vu=Fu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,g){this._url=d,g=S(this,g),g.detectRetina&&Ne.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,g){return this._url===d&&g===void 0&&(g=!0),this._url=d,g||this.redraw(),this},createTile:function(d,g){var A=document.createElement("img");return Ot(A,"load",a(this._tileOnLoad,this,g,A)),Ot(A,"error",a(this._tileOnError,this,g,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(d),A},getTileUrl:function(d){var g={r:Ne.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-d.y;this.options.tms&&(g.y=A),g["-y"]=A}return N(this._url,s(g,this.options))},_tileOnLoad:function(d,g){Ne.ielt9?setTimeout(a(d,this,null,g),0):d(null,g)},_tileOnError:function(d,g,A){var M=this.options.errorTileUrl;M&&g.getAttribute("src")!==M&&(g.src=M),d(A,g)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,g=this.options.maxZoom,A=this.options.zoomReverse,M=this.options.zoomOffset;return A&&(d=g-d),d+M},_getSubdomain:function(d){var g=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var d,g;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(g=this._tiles[d].el,g.onload=p,g.onerror=p,!g.complete)){g.src=V;var A=this._tiles[d].coords;Vn(g),delete this._tiles[d],this.fire("tileabort",{tile:g,coords:A})}},_removeTile:function(d){var g=this._tiles[d];if(g)return g.el.setAttribute("src",V),Fu.prototype._removeTile.call(this,d)},_tileReady:function(d,g,A){if(!(!this._map||A&&A.getAttribute("src")===V))return Fu.prototype._tileReady.call(this,d,g,A)}});function oa(d,g){return new Vu(d,g)}var la=Vu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,g){this._url=d;var A=s({},this.defaultWmsParams);for(var M in g)M in this.options||(A[M]=g[M]);g=S(this,g);var F=g.detectRetina&&Ne.retina?2:1,K=this.getTileSize();A.width=K.x*F,A.height=K.y*F,this.wmsParams=A},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,Vu.prototype.onAdd.call(this,d)},getTileUrl:function(d){var g=this._tileCoordsToNwSe(d),A=this._crs,M=ge(A.project(g[0]),A.project(g[1])),F=M.min,K=M.max,re=(this._wmsVersion>=1.3&&this._crs===$i?[F.y,F.x,K.y,K.x]:[F.x,F.y,K.x,K.y]).join(","),ve=Vu.prototype.getTileUrl.call(this,d);return ve+C(this.wmsParams,ve,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+re},setParams:function(d,g){return s(this.wmsParams,d),g||this.redraw(),this}});function xd(d,g){return new la(d,g)}Vu.WMS=la,oa.wms=xd;var no=Xn.extend({options:{padding:.1},initialize:function(d){S(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,g){var A=this._map.getZoomScale(g,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),F=this._map.project(this._center,g),K=M.multiplyBy(-A).add(F).subtract(this._map._getNewPixelOrigin(d,g));Ne.any3d?mr(this._container,K,A):Ut(this._container,K)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,g=this._map.getSize(),A=this._map.containerPointToLayerPoint(g.multiplyBy(-d)).round();this._bounds=new ce(A,A.add(g.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qm=no.extend({options:{tolerance:0},getEvents:function(){var d=no.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){no.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Ot(d,"mousemove",this._onMouseMove,this),Ot(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ot(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){ne(this._redrawRequest),delete this._ctx,Vn(this._container),Dn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var g in this._layers)d=this._layers[g],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){no.prototype._update.call(this);var d=this._bounds,g=this._container,A=d.getSize(),M=Ne.retina?2:1;Ut(g,d.min),g.width=M*A.x,g.height=M*A.y,g.style.width=A.x+"px",g.style.height=A.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){no.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var g=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var g=d._order,A=g.next,M=g.prev;A?A.prev=M:this._drawLast=M,M?M.next=A:this._drawFirst=A,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var g=d.options.dashArray.split(/[, ]+/),A=[],M,F;for(F=0;F<g.length;F++){if(M=Number(g[F]),isNaN(M))return;A.push(M)}d.options._dashArray=A}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var g=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ce,this._redrawBounds.extend(d._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(d._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var g=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,g=this._redrawBounds;if(this._ctx.save(),g){var A=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!g||d._pxBounds&&d._pxBounds.intersects(g))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,g){if(this._drawing){var A,M,F,K,re=d._parts,ve=re.length,ke=this._ctx;if(ve){for(ke.beginPath(),A=0;A<ve;A++){for(M=0,F=re[A].length;M<F;M++)K=re[A][M],ke[M?"lineTo":"moveTo"](K.x,K.y);g&&ke.closePath()}this._fillStroke(ke,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var g=d._point,A=this._ctx,M=Math.max(Math.round(d._radius),1),F=(Math.max(Math.round(d._radiusY),1)||M)/M;F!==1&&(A.save(),A.scale(1,F)),A.beginPath(),A.arc(g.x,g.y/F,M,0,Math.PI*2,!1),F!==1&&A.restore(),this._fillStroke(A,d)}},_fillStroke:function(d,g){var A=g.options;A.fill&&(d.globalAlpha=A.fillOpacity,d.fillStyle=A.fillColor||A.color,d.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(d.setLineDash&&d.setLineDash(g.options&&g.options._dashArray||[]),d.globalAlpha=A.opacity,d.lineWidth=A.weight,d.strokeStyle=A.color,d.lineCap=A.lineCap,d.lineJoin=A.lineJoin,d.stroke())},_onClick:function(d){for(var g=this._map.mouseEventToLayerPoint(d),A,M,F=this._drawFirst;F;F=F.next)A=F.layer,A.options.interactive&&A._containsPoint(g)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(A))&&(M=A);this._fireEvent(M?[M]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,g)}},_handleMouseOut:function(d){var g=this._hoveredLayer;g&&(ni(this._container,"leaflet-interactive"),this._fireEvent([g],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,g){if(!this._mouseHoverThrottled){for(var A,M,F=this._drawFirst;F;F=F.next)A=F.layer,A.options.interactive&&A._containsPoint(g)&&(M=A);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(Yt(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,g,A){this._map._fireDOMEvent(g,A||g.type,d)},_bringToFront:function(d){var g=d._order;if(g){var A=g.next,M=g.prev;if(A)A.prev=M;else return;M?M.next=A:A&&(this._drawFirst=A),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(d)}},_bringToBack:function(d){var g=d._order;if(g){var A=g.next,M=g.prev;if(M)M.next=A;else return;A?A.prev=M:M&&(this._drawLast=M),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(d)}}});function Gm(d){return Ne.canvas?new qm(d):null}var Bu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ed={_initContainer:function(){this._container=Zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(no.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var g=d._container=Bu("shape");Yt(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",d._path=Bu("path"),g.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var g=d._container;this._container.appendChild(g),d.options.interactive&&d.addInteractiveTarget(g)},_removePath:function(d){var g=d._container;Vn(g),d.removeInteractiveTarget(g),delete this._layers[c(d)]},_updateStyle:function(d){var g=d._stroke,A=d._fill,M=d.options,F=d._container;F.stroked=!!M.stroke,F.filled=!!M.fill,M.stroke?(g||(g=d._stroke=Bu("stroke")),F.appendChild(g),g.weight=M.weight+"px",g.color=M.color,g.opacity=M.opacity,M.dashArray?g.dashStyle=I(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=M.lineCap.replace("butt","flat"),g.joinstyle=M.lineJoin):g&&(F.removeChild(g),d._stroke=null),M.fill?(A||(A=d._fill=Bu("fill")),F.appendChild(A),A.color=M.fillColor||M.color,A.opacity=M.fillOpacity):A&&(F.removeChild(A),d._fill=null)},_updateCircle:function(d){var g=d._point.round(),A=Math.round(d._radius),M=Math.round(d._radiusY||A);this._setPath(d,d._empty()?"M0 0":"AL "+g.x+","+g.y+" "+A+","+M+" 0,"+65535*360)},_setPath:function(d,g){d._path.v=g},_bringToFront:function(d){Fo(d._container)},_bringToBack:function(d){wc(d._container)}},Wm=Ne.vml?Bu:Zi,Cc=no.extend({_initContainer:function(){this._container=Wm("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wm("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vn(this._container),Dn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){no.prototype._update.call(this);var d=this._bounds,g=d.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,A.setAttribute("width",g.x),A.setAttribute("height",g.y)),Ut(A,d.min),A.setAttribute("viewBox",[d.min.x,d.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(d){var g=d._path=Wm("path");d.options.className&&Yt(g,d.options.className),d.options.interactive&&Yt(g,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Vn(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var g=d._path,A=d.options;g&&(A.stroke?(g.setAttribute("stroke",A.color),g.setAttribute("stroke-opacity",A.opacity),g.setAttribute("stroke-width",A.weight),g.setAttribute("stroke-linecap",A.lineCap),g.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?g.setAttribute("stroke-dasharray",A.dashArray):g.removeAttribute("stroke-dasharray"),A.dashOffset?g.setAttribute("stroke-dashoffset",A.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),A.fill?(g.setAttribute("fill",A.fillColor||A.color),g.setAttribute("fill-opacity",A.fillOpacity),g.setAttribute("fill-rule",A.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(d,g){this._setPath(d,Xi(d._parts,g))},_updateCircle:function(d){var g=d._point,A=Math.max(Math.round(d._radius),1),M=Math.max(Math.round(d._radiusY),1)||A,F="a"+A+","+M+" 0 1,0 ",K=d._empty()?"M0 0":"M"+(g.x-A)+","+g.y+F+A*2+",0 "+F+-A*2+",0 ";this._setPath(d,K)},_setPath:function(d,g){d._path.setAttribute("d",g)},_bringToFront:function(d){Fo(d._path)},_bringToBack:function(d){wc(d._path)}});Ne.vml&&Cc.include(Ed);function zu(d){return Ne.svg||Ne.vml?new Cc(d):null}on.include({getRenderer:function(d){var g=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var g=this._paneRenderers[d];return g===void 0&&(g=this._createRenderer({pane:d}),this._paneRenderers[d]=g),g},_createRenderer:function(d){return this.options.preferCanvas&&Gm(d)||zu(d)}});var AA=_d.extend({initialize:function(d,g){_d.prototype.initialize.call(this,this._boundsToLatLngs(d),g)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=De(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function ca(d,g){return new AA(d,g)}Cc.create=Wm,Cc.pointsToPath=Xi,aa.geometryToLayer=zm,aa.coordsToLatLng=ly,aa.coordsToLatLngs=Um,aa.latLngToCoords=Hm,aa.latLngsToCoords=cy,aa.getFeature=Ja,aa.asFeature=bd,on.mergeOptions({boxZoom:!0});var fy=jr.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gs(),Iu(),this._startPoint=this._map.mouseEventToContainerPoint(d),Ot(document,{contextmenu:Ws,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Zt("div","leaflet-zoom-box",this._container),Yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var g=new ce(this._point,this._startPoint),A=g.getSize();Ut(this._box,g.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&(Vn(this._box),ni(this._container,"leaflet-crosshair")),Ka(),Nm(),Dn(document,{contextmenu:Ws,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var g=new ue(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});on.addInitHook("addHandler","boxZoom",fy),on.mergeOptions({doubleClickZoom:!0});var qo=jr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var g=this._map,A=g.getZoom(),M=g.options.zoomDelta,F=d.originalEvent.shiftKey?A-M:A+M;g.options.doubleClickZoom==="center"?g.setZoom(F):g.setZoomAround(d.containerPoint,F)}});on.addInitHook("addHandler","doubleClickZoom",qo),on.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var D0=jr.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Qa(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}Yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ni(this._map._container,"leaflet-grab"),ni(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=De(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var g=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(g),this._prunePositions(g)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,g){return d-(d-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;d.x<g.min.x&&(d.x=this._viscousLimit(d.x,g.min.x)),d.y<g.min.y&&(d.y=this._viscousLimit(d.y,g.min.y)),d.x>g.max.x&&(d.x=this._viscousLimit(d.x,g.max.x)),d.y>g.max.y&&(d.y=this._viscousLimit(d.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,g=Math.round(d/2),A=this._initialWorldOffset,M=this._draggable._newPos.x,F=(M-g+A)%d+g-A,K=(M+g+A)%d-g-A,re=Math.abs(F+A)<Math.abs(K+A)?F:K;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=re},_onDragEnd:function(d){var g=this._map,A=g.options,M=!A.inertia||d.noInertia||this._times.length<2;if(g.fire("dragend",d),M)g.fire("moveend");else{this._prunePositions(+new Date);var F=this._lastPos.subtract(this._positions[0]),K=(this._lastTime-this._times[0])/1e3,re=A.easeLinearity,ve=F.multiplyBy(re/K),ke=ve.distanceTo([0,0]),Ge=Math.min(A.inertiaMaxSpeed,ke),at=ve.multiplyBy(Ge/ke),gt=Ge/(A.inertiaDeceleration*re),xt=at.multiplyBy(-gt/2).round();!xt.x&&!xt.y?g.fire("moveend"):(xt=g._limitOffset(xt,g.options.maxBounds),Z(function(){g.panBy(xt,{duration:gt,easeLinearity:re,noMoveStart:!0,animate:!0})}))}}});on.addInitHook("addHandler","dragging",D0),on.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Km=jr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Ot(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,g=document.documentElement,A=d.scrollTop||g.scrollTop,M=d.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(M,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var g=this._panKeys={},A=this.keyCodes,M,F;for(M=0,F=A.left.length;M<F;M++)g[A.left[M]]=[-1*d,0];for(M=0,F=A.right.length;M<F;M++)g[A.right[M]]=[d,0];for(M=0,F=A.down.length;M<F;M++)g[A.down[M]]=[0,d];for(M=0,F=A.up.length;M<F;M++)g[A.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var g=this._zoomKeys={},A=this.keyCodes,M,F;for(M=0,F=A.zoomIn.length;M<F;M++)g[A.zoomIn[M]]=d;for(M=0,F=A.zoomOut.length;M<F;M++)g[A.zoomOut[M]]=-d},_addHooks:function(){Ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var g=d.keyCode,A=this._map,M;if(g in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(M=this._panKeys[g],d.shiftKey&&(M=J(M).multiplyBy(3)),A.options.maxBounds&&(M=A._limitOffset(J(M),A.options.maxBounds)),A.options.worldCopyJump){var F=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(M)));A.panTo(F)}else A.panBy(M)}else if(g in this._zoomKeys)A.setZoom(A.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;Ws(d)}}});on.addInitHook("addHandler","keyboard",Km),on.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rc=jr.extend({addHooks:function(){Ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var g=Du(d),A=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),M),Ws(d)},_performZoom:function(){var d=this._map,g=d.getZoom(),A=this._map.options.zoomSnap||0;d._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),F=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,K=A?Math.ceil(F/A)*A:F,re=d._limitZoom(g+(this._delta>0?K:-K))-g;this._delta=0,this._startTime=null,re&&(d.options.scrollWheelZoom==="center"?d.setZoom(g+re):d.setZoomAround(this._lastMousePos,g+re))}});on.addInitHook("addHandler","scrollWheelZoom",Rc);var N0=600;on.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var my=jr.extend({addHooks:function(){Ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var g=d.touches[0];this._startPos=this._newPos=new ie(g.clientX,g.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Ot(document,"touchend",ai),Ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),N0),Ot(document,"touchend touchcancel contextmenu",this._cancel,this),Ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Dn(document,"touchend",ai),Dn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Dn(document,"touchend touchcancel contextmenu",this._cancel,this),Dn(document,"touchmove",this._onMove,this)},_onMove:function(d){var g=d.touches[0];this._newPos=new ie(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,g){var A=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});A._simulated=!0,g.target.dispatchEvent(A)}});on.addInitHook("addHandler","tapHold",my),on.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var Uu=jr.extend({addHooks:function(){Yt(this._map._container,"leaflet-touch-zoom"),Ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ni(this._map._container,"leaflet-touch-zoom"),Dn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var g=this._map;if(!(!d.touches||d.touches.length!==2||g._animatingZoom||this._zooming)){var A=g.mouseEventToContainerPoint(d.touches[0]),M=g.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(A.add(M)._divideBy(2))),this._startDist=A.distanceTo(M),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),Ot(document,"touchmove",this._onTouchMove,this),Ot(document,"touchend touchcancel",this._onTouchEnd,this),ai(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var g=this._map,A=g.mouseEventToContainerPoint(d.touches[0]),M=g.mouseEventToContainerPoint(d.touches[1]),F=A.distanceTo(M)/this._startDist;if(this._zoom=g.getScaleZoom(F,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&F<1||this._zoom>g.getMaxZoom()&&F>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,F===1)return}else{var K=A._add(M)._divideBy(2)._subtract(this._centerPoint);if(F===1&&K.x===0&&K.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(K),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),ne(this._animRequest);var re=a(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(re,this,!0),ai(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ne(this._animRequest),Dn(document,"touchmove",this._onTouchMove,this),Dn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});on.addInitHook("addHandler","touchZoom",Uu),on.BoxZoom=fy,on.DoubleClickZoom=qo,on.Drag=D0,on.Keyboard=Km,on.ScrollWheelZoom=Rc,on.TapHold=my,on.TouchZoom=Uu,t.Bounds=ce,t.Browser=Ne,t.CRS=We,t.Canvas=qm,t.Circle=M0,t.CircleMarker=Bm,t.Class=_e,t.Control=Is,t.DivIcon=I0,t.DivOverlay=eo,t.DomEvent=ny,t.DomUtil=Lm,t.Draggable=Qa,t.Evented=se,t.FeatureGroup=pi,t.GeoJSON=aa,t.GridLayer=Fu,t.Handler=jr,t.Icon=Ho,t.ImageOverlay=$o,t.LatLng=$e,t.LatLngBounds=ue,t.Layer=Xn,t.LayerGroup=vi,t.LineUtil=te,t.Map=on,t.Marker=vd,t.Mixin=Lu,t.Path=Pl,t.Point=ie,t.PolyUtil=md,t.Polygon=_d,t.Polyline=Il,t.Popup=$m,t.PosAnimation=Nu,t.Projection=Qe,t.Rectangle=AA,t.Renderer=no,t.SVG=Cc,t.SVGOverlay=Sc,t.TileLayer=Vu,t.Tooltip=dy,t.Transformation=Ct,t.Util=Q,t.VideoOverlay=hy,t.bind=a,t.bounds=ge,t.canvas=Gm,t.circle=ik,t.circleMarker=_A,t.control=Ks,t.divIcon=EA,t.extend=s,t.featureGroup=Uo,t.geoJSON=uy,t.geoJson=bA,t.gridLayer=to,t.icon=oy,t.imageOverlay=wd,t.latLng=Pe,t.latLngBounds=De,t.layerGroup=Ml,t.map=Bo,t.marker=k0,t.point=J,t.polygon=ra,t.polyline=sk,t.popup=rk,t.rectangle=ca,t.setOptions=S,t.stamp=c,t.svg=zu,t.svgOverlay=xA,t.tileLayer=oa,t.tooltip=ak,t.transformation=Dt,t.version=i,t.videoOverlay=wA;var Ad=window.L;t.noConflict=function(){return window.L=Ad,this},window.L=t})}(zb,zb.exports)),zb.exports}var aA=iwe();const iW=IC(aA);function sW(n,e){const t=P.useRef(e);P.useEffect(function(){e!==t.current&&n.attributionControl!=null&&(t.current!=null&&n.attributionControl.removeAttribution(t.current),e!=null&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}const swe=1;function rwe(n){return Object.freeze({__version:swe,map:n})}function awe(n,e){return Object.freeze({...n,...e})}const AO=P.createContext(null);function rW(){const n=P.use(AO);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function owe(n){function e(t,i){const{instance:s,context:r}=n(t).current;P.useImperativeHandle(i,()=>s);const{children:a}=t;return a==null?null:xe.createElement(AO,{value:r},a)}return P.forwardRef(e)}function lwe(n){function e(t,i){const[s,r]=P.useState(!1),{instance:a}=n(t,r).current;P.useImperativeHandle(i,()=>a),P.useEffect(function(){s&&a.update()},[a,s,t.children]);const l=a._contentNode;return l?DE.createPortal(t.children,l):null}return P.forwardRef(e)}function cwe(n){function e(t,i){const{instance:s}=n(t).current;return P.useImperativeHandle(i,()=>s),null}return P.forwardRef(e)}function aW(n,e){const t=P.useRef(void 0);P.useEffect(function(){return e!=null&&n.instance.on(e),t.current=e,function(){t.current!=null&&n.instance.off(t.current),t.current=null}},[n,e])}function TO(n,e){const t=n.pane??e.pane;return t?{...n,pane:t}:n}function uwe(n,e){return function(i,s){const r=rW(),a=n(TO(i,r),r);return sW(r.map,i.attribution),aW(a.current,i.eventHandlers),e(a.current,r,i,s),a}}function SO(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function CO(n,e){return e==null?function(i,s){const r=P.useRef(void 0);return r.current||(r.current=n(i,s)),r}:function(i,s){const r=P.useRef(void 0);r.current||(r.current=n(i,s));const a=P.useRef(i),{instance:l}=r.current;return P.useEffect(function(){a.current!==i&&(e(l,i,a.current),a.current=i)},[l,i,e]),r}}function hwe(n,e){P.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){var r;(r=e.layerContainer)==null||r.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function oW(n){return function(t){const i=rW(),s=n(TO(t,i),i);return sW(i.map,t.attribution),aW(s.current,t.eventHandlers),hwe(s.current,i),s}}function dwe(n,e){const t=CO(n,e),i=oW(t);return owe(i)}function fwe(n,e){const t=CO(n),i=uwe(t,e);return lwe(i)}function mwe(n,e){const t=CO(n,e),i=oW(t);return cwe(i)}function pwe(n,e,t){const{opacity:i,zIndex:s}=e;i!=null&&i!==t.opacity&&n.setOpacity(i),s!=null&&s!==t.zIndex&&n.setZIndex(s)}function gwe({bounds:n,boundsOptions:e,center:t,children:i,className:s,id:r,placeholder:a,style:l,whenReady:c,zoom:h,...f},p){const[v]=P.useState({className:s,id:r,style:l}),[w,E]=P.useState(null),S=P.useRef(void 0);P.useImperativeHandle(p,()=>(w==null?void 0:w.map)??null,[w]);const C=P.useCallback(N=>{if(N!==null&&!S.current){const I=new aA.Map(N,f);S.current=I,t!=null&&h!=null?I.setView(t,h):n!=null&&I.fitBounds(n,e),c!=null&&I.whenReady(c),E(rwe(I))}},[]);P.useEffect(()=>()=>{w==null||w.map.remove()},[w]);const k=w?xe.createElement(AO,{value:w},i):a??null;return xe.createElement("div",{...v,ref:C},k)}const ywe=P.forwardRef(gwe),vwe=dwe(function({position:e,...t},i){const s=new aA.Marker(e,t);return SO(s,awe(i,{overlayContainer:s}))},function(e,t,i){t.position!==i.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==i.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==i.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==i.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),_we=fwe(function(e,t){const i=new aA.Popup(e,t.overlayContainer);return SO(i,t)},function(e,t,{position:i},s){P.useEffect(function(){const{instance:a}=e;function l(h){h.popup===a&&(a.update(),s(!0))}function c(h){h.popup===a&&s(!1)}return t.map.on({popupopen:l,popupclose:c}),t.overlayContainer==null?(i!=null&&a.setLatLng(i),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){var f;t.map.off({popupopen:l,popupclose:c}),(f=t.overlayContainer)==null||f.unbindPopup(),t.map.removeLayer(a)}},[e,t,s,i])}),bwe=mwe(function({url:e,...t},i){const s=new aA.TileLayer(e,TO(t,i));return SO(s,i)},function(e,t,i){pwe(e,t,i);const{url:s}=t;s!=null&&s!==i.url&&e.setUrl(s)});delete iW.Icon.Default.prototype._getIconUrl;iW.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function wwe({message:n}){const{message:e}=n;if(!e.locationMessage)return null;const{degreesLatitude:t,degreesLongitude:i}=e.locationMessage;return b.jsxs("div",{className:"px-2 py-2 bg-background/70 dark:bg-zinc-900/30 rounded-md flex flex-col gap-2 min-w-xs",children:[b.jsxs("div",{className:"flex gap-2 items-center",children:[b.jsx(LU,{}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs",children:"Localização"}),b.jsxs("p",{className:"text-sm",children:[t.toFixed(5),","," ",i.toFixed(5)]})]})]}),b.jsxs(ywe,{center:[t,i],zoom:16,scrollWheelZoom:!1,style:{height:"200px",width:"100%",borderRadius:"0.375rem"},children:[b.jsx(bwe,{url:"https://tiles.stadiamaps.com/tiles/alidade_satellite/{z}/{x}/{y}{r}.jpg",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),b.jsx(vwe,{position:[t,i],children:b.jsx(_we,{children:"Localização enviada"})})]})]})}function xwe({message:n}){const{message:e}=n;if(e.conversation)return b.jsx("div",{className:"break-words",children:lA(e.conversation)})}function Ewe({message:n}){const{retryDownload:e}=x0(),{socketRef:t}=P.useContext(Di),{message:i}=n,s=fl(a=>a.updateMessage),{downloadUrl:r}=i.stickerMessage||{};return P.useEffect(()=>{!r&&t.current&&e(t.current,n,"sticker").then(a=>s(a))},[r,n,e,t,s]),i.stickerMessage?b.jsx(b.Fragment,{children:r?b.jsx("img",{src:r,alt:"Figurinha",className:"w-[120px] h-auto rounded-md"}):b.jsx("div",{className:"w-[120px] h-[120px] flex items-center justify-center bg-muted rounded-md text-muted-foreground",children:b.jsx(Dr,{className:"animate-spin"})})}):null}function Awe({message:n}){const{message:e}=n;if(!e.videoMessage)return null;const{caption:t,downloadUrl:i}=e.videoMessage;return b.jsxs("div",{className:"relative w-fit max-w-[240px]",children:[b.jsx(Twe,{message:n,downloadUrl:i}),t&&b.jsx("p",{className:"mt-2 text-sm break-words",children:lA(t)})]})}function Twe({message:n}){const{retryDownload:e}=x0(),{socketRef:t}=P.useContext(Di),[i,s]=P.useState(!1),[r,a]=P.useState(!0),l=fl(E=>E.updateMessage),{message:c}=n;if(!c.videoMessage)return null;const{jpegThumbnail:h,mimetype:f,downloadUrl:p}=c.videoMessage,v=h?`data:image/${f};base64,${h}`:void 0;async function w(){try{if(s(!0),!t.current)return;p?l({id:n.key.id,data:()=>({...n,message:{...n.message,videoMessage:{...n.message.videoMessage,downloadUrl:p}}})}):await e(t.current,n,"video"),a(!1)}catch(E){jt.error("Não foi possível baixar o vídeo"),console.error("Erro ao baixar vídeo:",E)}finally{s(!1)}}return b.jsx("div",{className:"relative",children:r?b.jsxs(b.Fragment,{children:[b.jsx("div",{style:{backgroundImage:`url(${v})`,backgroundColor:"#000000"},className:"w-[240px] h-[300px] max-w-[240px] max-h-[300px] bg-center bg-cover rounded-md"}),b.jsx("div",{className:"w-[240px] h-[300px] max-w-[240px] max-h-[300px] rounded-md bg-transparent backdrop-blur-sm absolute top-0 left-0 flex items-center justify-center",children:b.jsx(mt,{size:"icon",className:"bg-muted hover:bg-muted/70 rounded-full text-foreground",onClick:w,type:"button",children:i?b.jsx(Dr,{className:"animate-spin"}):b.jsx(jU,{size:16,className:tt(p&&"text-emerald-600 dark:text-emerald-500")})})})]}):b.jsx("video",{src:p,controls:!0,className:"max-w-[240px] max-h-[300px] rounded-md object-contain"})})}function Swe(n){const e=oA(n.message);return n.deleted?b.jsx(Xbe,{}):e==="text"?b.jsx(xwe,{message:n}):e==="extendedText"?b.jsx(Jbe,{message:n}):e==="image"?b.jsx(ewe,{message:n}):e==="video"?b.jsx(Awe,{message:n}):e==="audio"?b.jsx(Ybe,{message:n}):e==="sticker"?b.jsx(Ewe,{message:n}):e==="document"?b.jsx(Qbe,{message:n}):e==="contact"?b.jsx(Zbe,{message:n}):e==="location"?b.jsx(wwe,{message:n}):b.jsxs("p",{className:"italic text-muted-foreground",children:["Tipo de mensagem (",e,") ainda em implementação"]})}function oA(n){return(n==null?void 0:n.conversation)!=null?"text":(n==null?void 0:n.extendedTextMessage)!=null?"extendedText":(n==null?void 0:n.imageMessage)!=null?"image":(n==null?void 0:n.videoMessage)!=null?"video":(n==null?void 0:n.audioMessage)!=null?"audio":(n==null?void 0:n.documentMessage)!=null?"document":(n==null?void 0:n.locationMessage)!=null?"location":(n==null?void 0:n.stickerMessage)!=null?"sticker":(n==null?void 0:n.contactMessage)!=null?"contact":(n==null?void 0:n.reactionMessage)!=null?"reaction":(n==null?void 0:n.protocolMessage)!=null?"update":"unknown"}function Cwe(n){if(!n)return null;const e=atob(n),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return Array.from(t)}function Rwe(n){return{"image/jpeg":"jpg","image/png":"png","image/gif":"gif","image/webp":"webp","image/bmp":"bmp","image/svg+xml":"svg","video/mp4":"mp4","video/webm":"webm","video/ogg":"ogv","audio/mpeg":"mp3","audio/ogg":"ogg","audio/wav":"wav","audio/webm":"weba","application/pdf":"pdf","application/zip":"zip","application/x-rar-compressed":"rar","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","text/plain":"txt","text/html":"html","application/json":"json","application/javascript":"js","text/css":"css"}[n]||""}function lW(n){const e=["B","KB","MB","GB","TB"];let t=0;for(;n>=1024&&t<e.length-1;)n/=1024,t++;return`${n==null?void 0:n.toFixed(n<1024?0:1)} ${e[t]}`}function lA(n){const e=n.split(`
`),t=[];let i=[],s=!1;const r=()=>{if(i.length===0)return;const h=i.join(`
`);t.push(b.jsx(xe.Fragment,{children:a(h).map((f,p)=>b.jsx(xe.Fragment,{children:f},p))},t.length)),i=[]},a=h=>{const f=[],p=/(`[^`\n]+?`)|(\*[^*\n]+?\*)|(_[^_\n]+?_)|(~[^~\n]+?~)|((?:https?:\/\/)?(?:www\.)?(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(?:\/[^\s<]*)?)/g;let v=0,w,E=0;for(;(w=p.exec(h))!==null;){if(w.index>v){const C=h.slice(v,w.index);f.push(...C.split(`
`).flatMap((k,N,I)=>N<I.length-1?[k,b.jsx("br",{},E++)]:[k]))}const[S]=w;if(w[1])f.push(b.jsx("code",{children:S.slice(1,-1)},E++));else if(w[2])f.push(b.jsx("b",{children:S.slice(1,-1)},E++));else if(w[3])f.push(b.jsx("em",{children:S.slice(1,-1)},E++));else if(w[4])f.push(b.jsx("s",{children:S.slice(1,-1)},E++));else if(w[5]){const C=/^https?:\/\//.test(S)?S:"http://"+S;f.push(b.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-500 underline break-all",children:S},E++))}v=p.lastIndex}if(v<h.length){const S=h.slice(v);f.push(...S.split(`
`).flatMap((C,k,N)=>k<N.length-1?[C,b.jsx("br",{},E++)]:[C]))}return f};let l=null;const c=()=>{if(!l)return;const h=l.ordered?"ol":"ul";t.push(b.jsx(h,{children:l.items.map((f,p)=>b.jsx("li",{children:a(f)},p))},t.length)),l=null};for(const h of e){const f=h.trim();if(f.startsWith("```")){s?(t.push(b.jsx("pre",{children:b.jsx("code",{children:i.join(`
`)})},t.length)),i=[],s=!1):(r(),c(),s=!0);continue}if(s){i.push(h);continue}const p=h.match(/^>\s+(.+)/);if(p){r(),c(),t.push(b.jsx("blockquote",{children:a(p[1])},t.length));continue}const v=h.match(/^(\d+)\.\s+(.+)/);if(v){r(),(!l||!l.ordered)&&(c(),l={items:[],ordered:!0}),l.items.push(v[2]);continue}const w=h.match(/^[-*]\s+(.+)/);if(w){r(),(!l||l.ordered)&&(c(),l={items:[],ordered:!1}),l.items.push(w[1]);continue}if(f===""){r(),c();continue}i.push(h)}return r(),c(),s&&i.length>0&&t.push(b.jsx("pre",{children:b.jsx("code",{children:i.join(`
`)})},t.length)),b.jsx(b.Fragment,{children:t})}function sz(n){return n=n.replace(/```([\s\S]*?)```/g,(e,t)=>t.trim()),n=n.replace(/`([^`\n]+?)`/g,(e,t)=>t),n=n.replace(/_(.+?)_/g,(e,t)=>t),n=n.replace(/\*(.+?)\*/g,(e,t)=>t),n=n.replace(/~(.+?)~/g,(e,t)=>t),n=n.replace(/^> (.+)$/gm,(e,t)=>t),n=n.replace(/^\d+\.\s+/gm,""),n=n.replace(/^(\*|-)\s+/gm,""),n}function kwe(n){var i;const{message:e}=n,t=oA(e);if(t==="text")return e.conversation;if(t==="extendedText")return(i=e.extendedTextMessage)==null?void 0:i.text}function cW(n){var s;const{message:e}=n,t=oA(e),i=t==="image"||t==="video"||t==="audio"||t==="document"||t==="sticker"||t==="contact"||t==="location";return t==="text"?sz((e==null?void 0:e.conversation)||""):t==="extendedText"?sz(((s=e.extendedTextMessage)==null?void 0:s.text)||""):i?Mwe(t):"Mensagem não disponível"}function Mwe(n){const e={className:"flex items-center gap-1"},t={size:12,strokeWidth:3};switch(n){case"image":return b.jsxs("span",{...e,children:[b.jsx(DU,{...t}),"Imagem"]});case"video":return b.jsxs("span",{...e,children:[b.jsx(UU,{...t}),"Vídeo"]});case"audio":return b.jsxs("span",{...e,children:[b.jsx(OU,{...t}),"Audio"]});case"document":return b.jsxs("span",{...e,children:[b.jsx(Rte,{...t}),"Arquivo"]});case"sticker":return b.jsxs("span",{...e,children:[b.jsx(One,{...t}),"Figurinha"]});case"contact":return b.jsxs("span",{...e,children:[b.jsx(e0,{...t}),"Contato"]});case"location":return b.jsxs("span",{...e,children:[b.jsx(LU,{...t}),"Localização"]});default:return"Mensagem não disponível"}}function Pwe(n){n=n.replace("#","");const e=parseInt(n.substring(0,2),16),t=parseInt(n.substring(2,4),16),i=parseInt(n.substring(4,6),16);return(.299*e+.587*t+.114*i)/255>.5?"black":"white"}var RM={exports:{}},kM,rz;function Iwe(){return rz||(rz=1,kM=[{value:"#B0171F",name:"indian red"},{value:"#DC143C",css:!0,name:"crimson"},{value:"#FFB6C1",css:!0,name:"lightpink"},{value:"#FFAEB9",name:"lightpink 1"},{value:"#EEA2AD",name:"lightpink 2"},{value:"#CD8C95",name:"lightpink 3"},{value:"#8B5F65",name:"lightpink 4"},{value:"#FFC0CB",css:!0,name:"pink"},{value:"#FFB5C5",name:"pink 1"},{value:"#EEA9B8",name:"pink 2"},{value:"#CD919E",name:"pink 3"},{value:"#8B636C",name:"pink 4"},{value:"#DB7093",css:!0,name:"palevioletred"},{value:"#FF82AB",name:"palevioletred 1"},{value:"#EE799F",name:"palevioletred 2"},{value:"#CD6889",name:"palevioletred 3"},{value:"#8B475D",name:"palevioletred 4"},{value:"#FFF0F5",name:"lavenderblush 1"},{value:"#FFF0F5",css:!0,name:"lavenderblush"},{value:"#EEE0E5",name:"lavenderblush 2"},{value:"#CDC1C5",name:"lavenderblush 3"},{value:"#8B8386",name:"lavenderblush 4"},{value:"#FF3E96",name:"violetred 1"},{value:"#EE3A8C",name:"violetred 2"},{value:"#CD3278",name:"violetred 3"},{value:"#8B2252",name:"violetred 4"},{value:"#FF69B4",css:!0,name:"hotpink"},{value:"#FF6EB4",name:"hotpink 1"},{value:"#EE6AA7",name:"hotpink 2"},{value:"#CD6090",name:"hotpink 3"},{value:"#8B3A62",name:"hotpink 4"},{value:"#872657",name:"raspberry"},{value:"#FF1493",name:"deeppink 1"},{value:"#FF1493",css:!0,name:"deeppink"},{value:"#EE1289",name:"deeppink 2"},{value:"#CD1076",name:"deeppink 3"},{value:"#8B0A50",name:"deeppink 4"},{value:"#FF34B3",name:"maroon 1"},{value:"#EE30A7",name:"maroon 2"},{value:"#CD2990",name:"maroon 3"},{value:"#8B1C62",name:"maroon 4"},{value:"#C71585",css:!0,name:"mediumvioletred"},{value:"#D02090",name:"violetred"},{value:"#DA70D6",css:!0,name:"orchid"},{value:"#FF83FA",name:"orchid 1"},{value:"#EE7AE9",name:"orchid 2"},{value:"#CD69C9",name:"orchid 3"},{value:"#8B4789",name:"orchid 4"},{value:"#D8BFD8",css:!0,name:"thistle"},{value:"#FFE1FF",name:"thistle 1"},{value:"#EED2EE",name:"thistle 2"},{value:"#CDB5CD",name:"thistle 3"},{value:"#8B7B8B",name:"thistle 4"},{value:"#FFBBFF",name:"plum 1"},{value:"#EEAEEE",name:"plum 2"},{value:"#CD96CD",name:"plum 3"},{value:"#8B668B",name:"plum 4"},{value:"#DDA0DD",css:!0,name:"plum"},{value:"#EE82EE",css:!0,name:"violet"},{value:"#FF00FF",vga:!0,name:"magenta"},{value:"#FF00FF",vga:!0,css:!0,name:"fuchsia"},{value:"#EE00EE",name:"magenta 2"},{value:"#CD00CD",name:"magenta 3"},{value:"#8B008B",name:"magenta 4"},{value:"#8B008B",css:!0,name:"darkmagenta"},{value:"#800080",vga:!0,css:!0,name:"purple"},{value:"#BA55D3",css:!0,name:"mediumorchid"},{value:"#E066FF",name:"mediumorchid 1"},{value:"#D15FEE",name:"mediumorchid 2"},{value:"#B452CD",name:"mediumorchid 3"},{value:"#7A378B",name:"mediumorchid 4"},{value:"#9400D3",css:!0,name:"darkviolet"},{value:"#9932CC",css:!0,name:"darkorchid"},{value:"#BF3EFF",name:"darkorchid 1"},{value:"#B23AEE",name:"darkorchid 2"},{value:"#9A32CD",name:"darkorchid 3"},{value:"#68228B",name:"darkorchid 4"},{value:"#4B0082",css:!0,name:"indigo"},{value:"#8A2BE2",css:!0,name:"blueviolet"},{value:"#9B30FF",name:"purple 1"},{value:"#912CEE",name:"purple 2"},{value:"#7D26CD",name:"purple 3"},{value:"#551A8B",name:"purple 4"},{value:"#9370DB",css:!0,name:"mediumpurple"},{value:"#AB82FF",name:"mediumpurple 1"},{value:"#9F79EE",name:"mediumpurple 2"},{value:"#8968CD",name:"mediumpurple 3"},{value:"#5D478B",name:"mediumpurple 4"},{value:"#483D8B",css:!0,name:"darkslateblue"},{value:"#8470FF",name:"lightslateblue"},{value:"#7B68EE",css:!0,name:"mediumslateblue"},{value:"#6A5ACD",css:!0,name:"slateblue"},{value:"#836FFF",name:"slateblue 1"},{value:"#7A67EE",name:"slateblue 2"},{value:"#6959CD",name:"slateblue 3"},{value:"#473C8B",name:"slateblue 4"},{value:"#F8F8FF",css:!0,name:"ghostwhite"},{value:"#E6E6FA",css:!0,name:"lavender"},{value:"#0000FF",vga:!0,css:!0,name:"blue"},{value:"#0000EE",name:"blue 2"},{value:"#0000CD",name:"blue 3"},{value:"#0000CD",css:!0,name:"mediumblue"},{value:"#00008B",name:"blue 4"},{value:"#00008B",css:!0,name:"darkblue"},{value:"#000080",vga:!0,css:!0,name:"navy"},{value:"#191970",css:!0,name:"midnightblue"},{value:"#3D59AB",name:"cobalt"},{value:"#4169E1",css:!0,name:"royalblue"},{value:"#4876FF",name:"royalblue 1"},{value:"#436EEE",name:"royalblue 2"},{value:"#3A5FCD",name:"royalblue 3"},{value:"#27408B",name:"royalblue 4"},{value:"#6495ED",css:!0,name:"cornflowerblue"},{value:"#B0C4DE",css:!0,name:"lightsteelblue"},{value:"#CAE1FF",name:"lightsteelblue 1"},{value:"#BCD2EE",name:"lightsteelblue 2"},{value:"#A2B5CD",name:"lightsteelblue 3"},{value:"#6E7B8B",name:"lightsteelblue 4"},{value:"#778899",css:!0,name:"lightslategray"},{value:"#708090",css:!0,name:"slategray"},{value:"#C6E2FF",name:"slategray 1"},{value:"#B9D3EE",name:"slategray 2"},{value:"#9FB6CD",name:"slategray 3"},{value:"#6C7B8B",name:"slategray 4"},{value:"#1E90FF",name:"dodgerblue 1"},{value:"#1E90FF",css:!0,name:"dodgerblue"},{value:"#1C86EE",name:"dodgerblue 2"},{value:"#1874CD",name:"dodgerblue 3"},{value:"#104E8B",name:"dodgerblue 4"},{value:"#F0F8FF",css:!0,name:"aliceblue"},{value:"#4682B4",css:!0,name:"steelblue"},{value:"#63B8FF",name:"steelblue 1"},{value:"#5CACEE",name:"steelblue 2"},{value:"#4F94CD",name:"steelblue 3"},{value:"#36648B",name:"steelblue 4"},{value:"#87CEFA",css:!0,name:"lightskyblue"},{value:"#B0E2FF",name:"lightskyblue 1"},{value:"#A4D3EE",name:"lightskyblue 2"},{value:"#8DB6CD",name:"lightskyblue 3"},{value:"#607B8B",name:"lightskyblue 4"},{value:"#87CEFF",name:"skyblue 1"},{value:"#7EC0EE",name:"skyblue 2"},{value:"#6CA6CD",name:"skyblue 3"},{value:"#4A708B",name:"skyblue 4"},{value:"#87CEEB",css:!0,name:"skyblue"},{value:"#00BFFF",name:"deepskyblue 1"},{value:"#00BFFF",css:!0,name:"deepskyblue"},{value:"#00B2EE",name:"deepskyblue 2"},{value:"#009ACD",name:"deepskyblue 3"},{value:"#00688B",name:"deepskyblue 4"},{value:"#33A1C9",name:"peacock"},{value:"#ADD8E6",css:!0,name:"lightblue"},{value:"#BFEFFF",name:"lightblue 1"},{value:"#B2DFEE",name:"lightblue 2"},{value:"#9AC0CD",name:"lightblue 3"},{value:"#68838B",name:"lightblue 4"},{value:"#B0E0E6",css:!0,name:"powderblue"},{value:"#98F5FF",name:"cadetblue 1"},{value:"#8EE5EE",name:"cadetblue 2"},{value:"#7AC5CD",name:"cadetblue 3"},{value:"#53868B",name:"cadetblue 4"},{value:"#00F5FF",name:"turquoise 1"},{value:"#00E5EE",name:"turquoise 2"},{value:"#00C5CD",name:"turquoise 3"},{value:"#00868B",name:"turquoise 4"},{value:"#5F9EA0",css:!0,name:"cadetblue"},{value:"#00CED1",css:!0,name:"darkturquoise"},{value:"#F0FFFF",name:"azure 1"},{value:"#F0FFFF",css:!0,name:"azure"},{value:"#E0EEEE",name:"azure 2"},{value:"#C1CDCD",name:"azure 3"},{value:"#838B8B",name:"azure 4"},{value:"#E0FFFF",name:"lightcyan 1"},{value:"#E0FFFF",css:!0,name:"lightcyan"},{value:"#D1EEEE",name:"lightcyan 2"},{value:"#B4CDCD",name:"lightcyan 3"},{value:"#7A8B8B",name:"lightcyan 4"},{value:"#BBFFFF",name:"paleturquoise 1"},{value:"#AEEEEE",name:"paleturquoise 2"},{value:"#AEEEEE",css:!0,name:"paleturquoise"},{value:"#96CDCD",name:"paleturquoise 3"},{value:"#668B8B",name:"paleturquoise 4"},{value:"#2F4F4F",css:!0,name:"darkslategray"},{value:"#97FFFF",name:"darkslategray 1"},{value:"#8DEEEE",name:"darkslategray 2"},{value:"#79CDCD",name:"darkslategray 3"},{value:"#528B8B",name:"darkslategray 4"},{value:"#00FFFF",name:"cyan"},{value:"#00FFFF",css:!0,name:"aqua"},{value:"#00EEEE",name:"cyan 2"},{value:"#00CDCD",name:"cyan 3"},{value:"#008B8B",name:"cyan 4"},{value:"#008B8B",css:!0,name:"darkcyan"},{value:"#008080",vga:!0,css:!0,name:"teal"},{value:"#48D1CC",css:!0,name:"mediumturquoise"},{value:"#20B2AA",css:!0,name:"lightseagreen"},{value:"#03A89E",name:"manganeseblue"},{value:"#40E0D0",css:!0,name:"turquoise"},{value:"#808A87",name:"coldgrey"},{value:"#00C78C",name:"turquoiseblue"},{value:"#7FFFD4",name:"aquamarine 1"},{value:"#7FFFD4",css:!0,name:"aquamarine"},{value:"#76EEC6",name:"aquamarine 2"},{value:"#66CDAA",name:"aquamarine 3"},{value:"#66CDAA",css:!0,name:"mediumaquamarine"},{value:"#458B74",name:"aquamarine 4"},{value:"#00FA9A",css:!0,name:"mediumspringgreen"},{value:"#F5FFFA",css:!0,name:"mintcream"},{value:"#00FF7F",css:!0,name:"springgreen"},{value:"#00EE76",name:"springgreen 1"},{value:"#00CD66",name:"springgreen 2"},{value:"#008B45",name:"springgreen 3"},{value:"#3CB371",css:!0,name:"mediumseagreen"},{value:"#54FF9F",name:"seagreen 1"},{value:"#4EEE94",name:"seagreen 2"},{value:"#43CD80",name:"seagreen 3"},{value:"#2E8B57",name:"seagreen 4"},{value:"#2E8B57",css:!0,name:"seagreen"},{value:"#00C957",name:"emeraldgreen"},{value:"#BDFCC9",name:"mint"},{value:"#3D9140",name:"cobaltgreen"},{value:"#F0FFF0",name:"honeydew 1"},{value:"#F0FFF0",css:!0,name:"honeydew"},{value:"#E0EEE0",name:"honeydew 2"},{value:"#C1CDC1",name:"honeydew 3"},{value:"#838B83",name:"honeydew 4"},{value:"#8FBC8F",css:!0,name:"darkseagreen"},{value:"#C1FFC1",name:"darkseagreen 1"},{value:"#B4EEB4",name:"darkseagreen 2"},{value:"#9BCD9B",name:"darkseagreen 3"},{value:"#698B69",name:"darkseagreen 4"},{value:"#98FB98",css:!0,name:"palegreen"},{value:"#9AFF9A",name:"palegreen 1"},{value:"#90EE90",name:"palegreen 2"},{value:"#90EE90",css:!0,name:"lightgreen"},{value:"#7CCD7C",name:"palegreen 3"},{value:"#548B54",name:"palegreen 4"},{value:"#32CD32",css:!0,name:"limegreen"},{value:"#228B22",css:!0,name:"forestgreen"},{value:"#00FF00",vga:!0,name:"green 1"},{value:"#00FF00",vga:!0,css:!0,name:"lime"},{value:"#00EE00",name:"green 2"},{value:"#00CD00",name:"green 3"},{value:"#008B00",name:"green 4"},{value:"#008000",vga:!0,css:!0,name:"green"},{value:"#006400",css:!0,name:"darkgreen"},{value:"#308014",name:"sapgreen"},{value:"#7CFC00",css:!0,name:"lawngreen"},{value:"#7FFF00",name:"chartreuse 1"},{value:"#7FFF00",css:!0,name:"chartreuse"},{value:"#76EE00",name:"chartreuse 2"},{value:"#66CD00",name:"chartreuse 3"},{value:"#458B00",name:"chartreuse 4"},{value:"#ADFF2F",css:!0,name:"greenyellow"},{value:"#CAFF70",name:"darkolivegreen 1"},{value:"#BCEE68",name:"darkolivegreen 2"},{value:"#A2CD5A",name:"darkolivegreen 3"},{value:"#6E8B3D",name:"darkolivegreen 4"},{value:"#556B2F",css:!0,name:"darkolivegreen"},{value:"#6B8E23",css:!0,name:"olivedrab"},{value:"#C0FF3E",name:"olivedrab 1"},{value:"#B3EE3A",name:"olivedrab 2"},{value:"#9ACD32",name:"olivedrab 3"},{value:"#9ACD32",css:!0,name:"yellowgreen"},{value:"#698B22",name:"olivedrab 4"},{value:"#FFFFF0",name:"ivory 1"},{value:"#FFFFF0",css:!0,name:"ivory"},{value:"#EEEEE0",name:"ivory 2"},{value:"#CDCDC1",name:"ivory 3"},{value:"#8B8B83",name:"ivory 4"},{value:"#F5F5DC",css:!0,name:"beige"},{value:"#FFFFE0",name:"lightyellow 1"},{value:"#FFFFE0",css:!0,name:"lightyellow"},{value:"#EEEED1",name:"lightyellow 2"},{value:"#CDCDB4",name:"lightyellow 3"},{value:"#8B8B7A",name:"lightyellow 4"},{value:"#FAFAD2",css:!0,name:"lightgoldenrodyellow"},{value:"#FFFF00",vga:!0,name:"yellow 1"},{value:"#FFFF00",vga:!0,css:!0,name:"yellow"},{value:"#EEEE00",name:"yellow 2"},{value:"#CDCD00",name:"yellow 3"},{value:"#8B8B00",name:"yellow 4"},{value:"#808069",name:"warmgrey"},{value:"#808000",vga:!0,css:!0,name:"olive"},{value:"#BDB76B",css:!0,name:"darkkhaki"},{value:"#FFF68F",name:"khaki 1"},{value:"#EEE685",name:"khaki 2"},{value:"#CDC673",name:"khaki 3"},{value:"#8B864E",name:"khaki 4"},{value:"#F0E68C",css:!0,name:"khaki"},{value:"#EEE8AA",css:!0,name:"palegoldenrod"},{value:"#FFFACD",name:"lemonchiffon 1"},{value:"#FFFACD",css:!0,name:"lemonchiffon"},{value:"#EEE9BF",name:"lemonchiffon 2"},{value:"#CDC9A5",name:"lemonchiffon 3"},{value:"#8B8970",name:"lemonchiffon 4"},{value:"#FFEC8B",name:"lightgoldenrod 1"},{value:"#EEDC82",name:"lightgoldenrod 2"},{value:"#CDBE70",name:"lightgoldenrod 3"},{value:"#8B814C",name:"lightgoldenrod 4"},{value:"#E3CF57",name:"banana"},{value:"#FFD700",name:"gold 1"},{value:"#FFD700",css:!0,name:"gold"},{value:"#EEC900",name:"gold 2"},{value:"#CDAD00",name:"gold 3"},{value:"#8B7500",name:"gold 4"},{value:"#FFF8DC",name:"cornsilk 1"},{value:"#FFF8DC",css:!0,name:"cornsilk"},{value:"#EEE8CD",name:"cornsilk 2"},{value:"#CDC8B1",name:"cornsilk 3"},{value:"#8B8878",name:"cornsilk 4"},{value:"#DAA520",css:!0,name:"goldenrod"},{value:"#FFC125",name:"goldenrod 1"},{value:"#EEB422",name:"goldenrod 2"},{value:"#CD9B1D",name:"goldenrod 3"},{value:"#8B6914",name:"goldenrod 4"},{value:"#B8860B",css:!0,name:"darkgoldenrod"},{value:"#FFB90F",name:"darkgoldenrod 1"},{value:"#EEAD0E",name:"darkgoldenrod 2"},{value:"#CD950C",name:"darkgoldenrod 3"},{value:"#8B6508",name:"darkgoldenrod 4"},{value:"#FFA500",name:"orange 1"},{value:"#FF8000",css:!0,name:"orange"},{value:"#EE9A00",name:"orange 2"},{value:"#CD8500",name:"orange 3"},{value:"#8B5A00",name:"orange 4"},{value:"#FFFAF0",css:!0,name:"floralwhite"},{value:"#FDF5E6",css:!0,name:"oldlace"},{value:"#F5DEB3",css:!0,name:"wheat"},{value:"#FFE7BA",name:"wheat 1"},{value:"#EED8AE",name:"wheat 2"},{value:"#CDBA96",name:"wheat 3"},{value:"#8B7E66",name:"wheat 4"},{value:"#FFE4B5",css:!0,name:"moccasin"},{value:"#FFEFD5",css:!0,name:"papayawhip"},{value:"#FFEBCD",css:!0,name:"blanchedalmond"},{value:"#FFDEAD",name:"navajowhite 1"},{value:"#FFDEAD",css:!0,name:"navajowhite"},{value:"#EECFA1",name:"navajowhite 2"},{value:"#CDB38B",name:"navajowhite 3"},{value:"#8B795E",name:"navajowhite 4"},{value:"#FCE6C9",name:"eggshell"},{value:"#D2B48C",css:!0,name:"tan"},{value:"#9C661F",name:"brick"},{value:"#FF9912",name:"cadmiumyellow"},{value:"#FAEBD7",css:!0,name:"antiquewhite"},{value:"#FFEFDB",name:"antiquewhite 1"},{value:"#EEDFCC",name:"antiquewhite 2"},{value:"#CDC0B0",name:"antiquewhite 3"},{value:"#8B8378",name:"antiquewhite 4"},{value:"#DEB887",css:!0,name:"burlywood"},{value:"#FFD39B",name:"burlywood 1"},{value:"#EEC591",name:"burlywood 2"},{value:"#CDAA7D",name:"burlywood 3"},{value:"#8B7355",name:"burlywood 4"},{value:"#FFE4C4",name:"bisque 1"},{value:"#FFE4C4",css:!0,name:"bisque"},{value:"#EED5B7",name:"bisque 2"},{value:"#CDB79E",name:"bisque 3"},{value:"#8B7D6B",name:"bisque 4"},{value:"#E3A869",name:"melon"},{value:"#ED9121",name:"carrot"},{value:"#FF8C00",css:!0,name:"darkorange"},{value:"#FF7F00",name:"darkorange 1"},{value:"#EE7600",name:"darkorange 2"},{value:"#CD6600",name:"darkorange 3"},{value:"#8B4500",name:"darkorange 4"},{value:"#FFA54F",name:"tan 1"},{value:"#EE9A49",name:"tan 2"},{value:"#CD853F",name:"tan 3"},{value:"#CD853F",css:!0,name:"peru"},{value:"#8B5A2B",name:"tan 4"},{value:"#FAF0E6",css:!0,name:"linen"},{value:"#FFDAB9",name:"peachpuff 1"},{value:"#FFDAB9",css:!0,name:"peachpuff"},{value:"#EECBAD",name:"peachpuff 2"},{value:"#CDAF95",name:"peachpuff 3"},{value:"#8B7765",name:"peachpuff 4"},{value:"#FFF5EE",name:"seashell 1"},{value:"#FFF5EE",css:!0,name:"seashell"},{value:"#EEE5DE",name:"seashell 2"},{value:"#CDC5BF",name:"seashell 3"},{value:"#8B8682",name:"seashell 4"},{value:"#F4A460",css:!0,name:"sandybrown"},{value:"#C76114",name:"rawsienna"},{value:"#D2691E",css:!0,name:"chocolate"},{value:"#FF7F24",name:"chocolate 1"},{value:"#EE7621",name:"chocolate 2"},{value:"#CD661D",name:"chocolate 3"},{value:"#8B4513",name:"chocolate 4"},{value:"#8B4513",css:!0,name:"saddlebrown"},{value:"#292421",name:"ivoryblack"},{value:"#FF7D40",name:"flesh"},{value:"#FF6103",name:"cadmiumorange"},{value:"#8A360F",name:"burntsienna"},{value:"#A0522D",css:!0,name:"sienna"},{value:"#FF8247",name:"sienna 1"},{value:"#EE7942",name:"sienna 2"},{value:"#CD6839",name:"sienna 3"},{value:"#8B4726",name:"sienna 4"},{value:"#FFA07A",name:"lightsalmon 1"},{value:"#FFA07A",css:!0,name:"lightsalmon"},{value:"#EE9572",name:"lightsalmon 2"},{value:"#CD8162",name:"lightsalmon 3"},{value:"#8B5742",name:"lightsalmon 4"},{value:"#FF7F50",css:!0,name:"coral"},{value:"#FF4500",name:"orangered 1"},{value:"#FF4500",css:!0,name:"orangered"},{value:"#EE4000",name:"orangered 2"},{value:"#CD3700",name:"orangered 3"},{value:"#8B2500",name:"orangered 4"},{value:"#5E2612",name:"sepia"},{value:"#E9967A",css:!0,name:"darksalmon"},{value:"#FF8C69",name:"salmon 1"},{value:"#EE8262",name:"salmon 2"},{value:"#CD7054",name:"salmon 3"},{value:"#8B4C39",name:"salmon 4"},{value:"#FF7256",name:"coral 1"},{value:"#EE6A50",name:"coral 2"},{value:"#CD5B45",name:"coral 3"},{value:"#8B3E2F",name:"coral 4"},{value:"#8A3324",name:"burntumber"},{value:"#FF6347",name:"tomato 1"},{value:"#FF6347",css:!0,name:"tomato"},{value:"#EE5C42",name:"tomato 2"},{value:"#CD4F39",name:"tomato 3"},{value:"#8B3626",name:"tomato 4"},{value:"#FA8072",css:!0,name:"salmon"},{value:"#FFE4E1",name:"mistyrose 1"},{value:"#FFE4E1",css:!0,name:"mistyrose"},{value:"#EED5D2",name:"mistyrose 2"},{value:"#CDB7B5",name:"mistyrose 3"},{value:"#8B7D7B",name:"mistyrose 4"},{value:"#FFFAFA",name:"snow 1"},{value:"#FFFAFA",css:!0,name:"snow"},{value:"#EEE9E9",name:"snow 2"},{value:"#CDC9C9",name:"snow 3"},{value:"#8B8989",name:"snow 4"},{value:"#BC8F8F",css:!0,name:"rosybrown"},{value:"#FFC1C1",name:"rosybrown 1"},{value:"#EEB4B4",name:"rosybrown 2"},{value:"#CD9B9B",name:"rosybrown 3"},{value:"#8B6969",name:"rosybrown 4"},{value:"#F08080",css:!0,name:"lightcoral"},{value:"#CD5C5C",css:!0,name:"indianred"},{value:"#FF6A6A",name:"indianred 1"},{value:"#EE6363",name:"indianred 2"},{value:"#8B3A3A",name:"indianred 4"},{value:"#CD5555",name:"indianred 3"},{value:"#A52A2A",css:!0,name:"brown"},{value:"#FF4040",name:"brown 1"},{value:"#EE3B3B",name:"brown 2"},{value:"#CD3333",name:"brown 3"},{value:"#8B2323",name:"brown 4"},{value:"#B22222",css:!0,name:"firebrick"},{value:"#FF3030",name:"firebrick 1"},{value:"#EE2C2C",name:"firebrick 2"},{value:"#CD2626",name:"firebrick 3"},{value:"#8B1A1A",name:"firebrick 4"},{value:"#FF0000",vga:!0,name:"red 1"},{value:"#FF0000",vga:!0,css:!0,name:"red"},{value:"#EE0000",name:"red 2"},{value:"#CD0000",name:"red 3"},{value:"#8B0000",name:"red 4"},{value:"#8B0000",css:!0,name:"darkred"},{value:"#800000",vga:!0,css:!0,name:"maroon"},{value:"#8E388E",name:"sgi beet"},{value:"#7171C6",name:"sgi slateblue"},{value:"#7D9EC0",name:"sgi lightblue"},{value:"#388E8E",name:"sgi teal"},{value:"#71C671",name:"sgi chartreuse"},{value:"#8E8E38",name:"sgi olivedrab"},{value:"#C5C1AA",name:"sgi brightgray"},{value:"#C67171",name:"sgi salmon"},{value:"#555555",name:"sgi darkgray"},{value:"#1E1E1E",name:"sgi gray 12"},{value:"#282828",name:"sgi gray 16"},{value:"#515151",name:"sgi gray 32"},{value:"#5B5B5B",name:"sgi gray 36"},{value:"#848484",name:"sgi gray 52"},{value:"#8E8E8E",name:"sgi gray 56"},{value:"#AAAAAA",name:"sgi lightgray"},{value:"#B7B7B7",name:"sgi gray 72"},{value:"#C1C1C1",name:"sgi gray 76"},{value:"#EAEAEA",name:"sgi gray 92"},{value:"#F4F4F4",name:"sgi gray 96"},{value:"#FFFFFF",vga:!0,css:!0,name:"white"},{value:"#F5F5F5",name:"white smoke"},{value:"#F5F5F5",name:"gray 96"},{value:"#DCDCDC",css:!0,name:"gainsboro"},{value:"#D3D3D3",css:!0,name:"lightgrey"},{value:"#C0C0C0",vga:!0,css:!0,name:"silver"},{value:"#A9A9A9",css:!0,name:"darkgray"},{value:"#808080",vga:!0,css:!0,name:"gray"},{value:"#696969",css:!0,name:"dimgray"},{value:"#696969",name:"gray 42"},{value:"#000000",vga:!0,css:!0,name:"black"},{value:"#FCFCFC",name:"gray 99"},{value:"#FAFAFA",name:"gray 98"},{value:"#F7F7F7",name:"gray 97"},{value:"#F2F2F2",name:"gray 95"},{value:"#F0F0F0",name:"gray 94"},{value:"#EDEDED",name:"gray 93"},{value:"#EBEBEB",name:"gray 92"},{value:"#E8E8E8",name:"gray 91"},{value:"#E5E5E5",name:"gray 90"},{value:"#E3E3E3",name:"gray 89"},{value:"#E0E0E0",name:"gray 88"},{value:"#DEDEDE",name:"gray 87"},{value:"#DBDBDB",name:"gray 86"},{value:"#D9D9D9",name:"gray 85"},{value:"#D6D6D6",name:"gray 84"},{value:"#D4D4D4",name:"gray 83"},{value:"#D1D1D1",name:"gray 82"},{value:"#CFCFCF",name:"gray 81"},{value:"#CCCCCC",name:"gray 80"},{value:"#C9C9C9",name:"gray 79"},{value:"#C7C7C7",name:"gray 78"},{value:"#C4C4C4",name:"gray 77"},{value:"#C2C2C2",name:"gray 76"},{value:"#BFBFBF",name:"gray 75"},{value:"#BDBDBD",name:"gray 74"},{value:"#BABABA",name:"gray 73"},{value:"#B8B8B8",name:"gray 72"},{value:"#B5B5B5",name:"gray 71"},{value:"#B3B3B3",name:"gray 70"},{value:"#B0B0B0",name:"gray 69"},{value:"#ADADAD",name:"gray 68"},{value:"#ABABAB",name:"gray 67"},{value:"#A8A8A8",name:"gray 66"},{value:"#A6A6A6",name:"gray 65"},{value:"#A3A3A3",name:"gray 64"},{value:"#A1A1A1",name:"gray 63"},{value:"#9E9E9E",name:"gray 62"},{value:"#9C9C9C",name:"gray 61"},{value:"#999999",name:"gray 60"},{value:"#969696",name:"gray 59"},{value:"#949494",name:"gray 58"},{value:"#919191",name:"gray 57"},{value:"#8F8F8F",name:"gray 56"},{value:"#8C8C8C",name:"gray 55"},{value:"#8A8A8A",name:"gray 54"},{value:"#878787",name:"gray 53"},{value:"#858585",name:"gray 52"},{value:"#828282",name:"gray 51"},{value:"#7F7F7F",name:"gray 50"},{value:"#7D7D7D",name:"gray 49"},{value:"#7A7A7A",name:"gray 48"},{value:"#787878",name:"gray 47"},{value:"#757575",name:"gray 46"},{value:"#737373",name:"gray 45"},{value:"#707070",name:"gray 44"},{value:"#6E6E6E",name:"gray 43"},{value:"#666666",name:"gray 40"},{value:"#636363",name:"gray 39"},{value:"#616161",name:"gray 38"},{value:"#5E5E5E",name:"gray 37"},{value:"#5C5C5C",name:"gray 36"},{value:"#595959",name:"gray 35"},{value:"#575757",name:"gray 34"},{value:"#545454",name:"gray 33"},{value:"#525252",name:"gray 32"},{value:"#4F4F4F",name:"gray 31"},{value:"#4D4D4D",name:"gray 30"},{value:"#4A4A4A",name:"gray 29"},{value:"#474747",name:"gray 28"},{value:"#454545",name:"gray 27"},{value:"#424242",name:"gray 26"},{value:"#404040",name:"gray 25"},{value:"#3D3D3D",name:"gray 24"},{value:"#3B3B3B",name:"gray 23"},{value:"#383838",name:"gray 22"},{value:"#363636",name:"gray 21"},{value:"#333333",name:"gray 20"},{value:"#303030",name:"gray 19"},{value:"#2E2E2E",name:"gray 18"},{value:"#2B2B2B",name:"gray 17"},{value:"#292929",name:"gray 16"},{value:"#262626",name:"gray 15"},{value:"#242424",name:"gray 14"},{value:"#212121",name:"gray 13"},{value:"#1F1F1F",name:"gray 12"},{value:"#1C1C1C",name:"gray 11"},{value:"#1A1A1A",name:"gray 10"},{value:"#171717",name:"gray 9"},{value:"#141414",name:"gray 8"},{value:"#121212",name:"gray 7"},{value:"#0F0F0F",name:"gray 6"},{value:"#0D0D0D",name:"gray 5"},{value:"#0A0A0A",name:"gray 4"},{value:"#080808",name:"gray 3"},{value:"#050505",name:"gray 2"},{value:"#030303",name:"gray 1"},{value:"#F5F5F5",css:!0,name:"whitesmoke"}]),kM}var az;function Dwe(){return az||(az=1,function(n){var e=Iwe(),t=e.filter(function(s){return!!s.css}),i=e.filter(function(s){return!!s.vga});n.exports=function(s){var r=n.exports.get(s);return r&&r.value},n.exports.get=function(s){return s=s||"",s=s.trim().toLowerCase(),e.filter(function(r){return r.name.toLowerCase()===s}).pop()},n.exports.all=n.exports.get.all=function(){return e},n.exports.get.css=function(s){return s?(s=s||"",s=s.trim().toLowerCase(),t.filter(function(r){return r.name.toLowerCase()===s}).pop()):t},n.exports.get.vga=function(s){return s?(s=s||"",s=s.trim().toLowerCase(),i.filter(function(r){return r.name.toLowerCase()===s}).pop()):i}}(RM)),RM.exports}var MM,oz;function Nwe(){if(oz)return MM;oz=1;var n="[object Symbol]",e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,t="\\ud800-\\udfff",i="\\u0300-\\u036f\\ufe20-\\ufe23",s="\\u20d0-\\u20f0",r="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",l="\\xac\\xb1\\xd7\\xf7",c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",h="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",v="\\ufe0e\\ufe0f",w=l+c+h+f,E="['’]",S="["+w+"]",C="["+i+s+"]",k="\\d+",N="["+r+"]",I="["+a+"]",z="[^"+t+w+k+r+a+p+"]",V="\\ud83c[\\udffb-\\udfff]",H="(?:"+C+"|"+V+")",B="[^"+t+"]",j="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",Y="["+p+"]",Z="\\u200d",ne="(?:"+I+"|"+z+")",Q="(?:"+Y+"|"+z+")",_e="(?:"+E+"(?:d|ll|m|re|s|t|ve))?",Le="(?:"+E+"(?:D|LL|M|RE|S|T|VE))?",ee=H+"?",se="["+v+"]?",ie="(?:"+Z+"(?:"+[B,j,q].join("|")+")"+se+ee+")*",Te=se+ee+ie,J="(?:"+[N,j,q].join("|")+")"+Te,ce=RegExp([Y+"?"+I+"+"+_e+"(?="+[S,Y,"$"].join("|")+")",Q+"+"+Le+"(?="+[S,Y+ne,"$"].join("|")+")",Y+"?"+ne+"+"+_e,Y+"+"+Le,k,J].join("|"),"g"),ge=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ue=typeof ul=="object"&&ul&&ul.Object===Object&&ul,De=typeof self=="object"&&self&&self.Object===Object&&self,$e=ue||De||Function("return this")();function Pe(Tt){return Tt.match(e)||[]}function We(Tt){return ge.test(Tt)}function je(Tt){return Tt.match(ce)||[]}var nt=Object.prototype,et=nt.toString,Ct=$e.Symbol,Dt=Ct?Ct.prototype:void 0,cn=Dt?Dt.toString:void 0;function On(Tt){if(typeof Tt=="string")return Tt;if(Xi(Tt))return cn?cn.call(Tt):"";var oe=Tt+"";return oe=="0"&&1/Tt==-1/0?"-0":oe}function Zi(Tt){return!!Tt&&typeof Tt=="object"}function Xi(Tt){return typeof Tt=="symbol"||Zi(Tt)&&et.call(Tt)==n}function jn(Tt){return Tt==null?"":On(Tt)}function Qi(Tt,oe,be){return Tt=jn(Tt),oe=be?void 0:oe,oe===void 0?We(Tt)?je(Tt):Pe(Tt):Tt.match(oe)||[]}return MM=Qi,MM}var PM,lz;function Lwe(){if(lz)return PM;lz=1;var n="[object Symbol]",e=/^\s+/,t="\\ud800-\\udfff",i="\\u0300-\\u036f\\ufe20-\\ufe23",s="\\u20d0-\\u20f0",r="\\ufe0e\\ufe0f",a="["+t+"]",l="["+i+s+"]",c="\\ud83c[\\udffb-\\udfff]",h="(?:"+l+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",E=h+"?",S="["+r+"]?",C="(?:"+w+"(?:"+[f,p,v].join("|")+")"+S+E+")*",k=S+E+C,N="(?:"+[f+l+"?",l,p,v,a].join("|")+")",I=RegExp(c+"(?="+c+")|"+N+k,"g"),z=RegExp("["+w+t+i+s+r+"]"),V=typeof ul=="object"&&ul&&ul.Object===Object&&ul,H=typeof self=="object"&&self&&self.Object===Object&&self,B=V||H||Function("return this")();function j(je){return je.split("")}function q(je,nt,et,Ct){for(var Dt=je.length,cn=et+-1;++cn<Dt;)if(nt(je[cn],cn,je))return cn;return-1}function Y(je,nt,et){if(nt!==nt)return q(je,Z,et);for(var Ct=et-1,Dt=je.length;++Ct<Dt;)if(je[Ct]===nt)return Ct;return-1}function Z(je){return je!==je}function ne(je,nt){for(var et=-1,Ct=je.length;++et<Ct&&Y(nt,je[et],0)>-1;);return et}function Q(je){return z.test(je)}function _e(je){return Q(je)?Le(je):j(je)}function Le(je){return je.match(I)||[]}var ee=Object.prototype,se=ee.toString,ie=B.Symbol,Te=ie?ie.prototype:void 0,J=Te?Te.toString:void 0;function ce(je,nt,et){var Ct=-1,Dt=je.length;nt<0&&(nt=-nt>Dt?0:Dt+nt),et=et>Dt?Dt:et,et<0&&(et+=Dt),Dt=nt>et?0:et-nt>>>0,nt>>>=0;for(var cn=Array(Dt);++Ct<Dt;)cn[Ct]=je[Ct+nt];return cn}function ge(je){if(typeof je=="string")return je;if($e(je))return J?J.call(je):"";var nt=je+"";return nt=="0"&&1/je==-1/0?"-0":nt}function ue(je,nt,et){var Ct=je.length;return et=et===void 0?Ct:et,!nt&&et>=Ct?je:ce(je,nt,et)}function De(je){return!!je&&typeof je=="object"}function $e(je){return typeof je=="symbol"||De(je)&&se.call(je)==n}function Pe(je){return je==null?"":ge(je)}function We(je,nt,et){if(je=Pe(je),je&&(et||nt===void 0))return je.replace(e,"");if(!je||!(nt=ge(nt)))return je;var Ct=_e(je),Dt=ne(Ct,_e(nt));return ue(Ct,Dt).join("")}return PM=We,PM}var IM,cz;function Owe(){if(cz)return IM;cz=1;var n=1/0,e=9007199254740991,t=17976931348623157e292,i=NaN,s="[object Symbol]",r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h="\\ud800-\\udfff",f="\\u0300-\\u036f\\ufe20-\\ufe23",p="\\u20d0-\\u20f0",v="\\ufe0e\\ufe0f",w="["+h+"]",E="["+f+p+"]",S="\\ud83c[\\udffb-\\udfff]",C="(?:"+E+"|"+S+")",k="[^"+h+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",I="[\\ud800-\\udbff][\\udc00-\\udfff]",z="\\u200d",V=C+"?",H="["+v+"]?",B="(?:"+z+"(?:"+[k,N,I].join("|")+")"+H+V+")*",j=H+V+B,q="(?:"+[k+E+"?",E,N,I,w].join("|")+")",Y=RegExp(S+"(?="+S+")|"+q+j,"g"),Z=RegExp("["+z+h+f+p+v+"]"),ne=parseInt,Q=typeof ul=="object"&&ul&&ul.Object===Object&&ul,_e=typeof self=="object"&&self&&self.Object===Object&&self,Le=Q||_e||Function("return this")(),ee=ie("length");function se(fe){return fe.split("")}function ie(fe){return function(Ae){return Ae==null?void 0:Ae[fe]}}function Te(fe){return Z.test(fe)}function J(fe){return Te(fe)?ge(fe):ee(fe)}function ce(fe){return Te(fe)?ue(fe):se(fe)}function ge(fe){for(var Ae=Y.lastIndex=0;Y.test(fe);)Ae++;return Ae}function ue(fe){return fe.match(Y)||[]}var De=Object.prototype,$e=De.toString,Pe=Le.Symbol,We=Math.ceil,je=Math.floor,nt=Pe?Pe.prototype:void 0,et=nt?nt.toString:void 0;function Ct(fe,Ae){var Oe="";if(!fe||Ae<1||Ae>e)return Oe;do Ae%2&&(Oe+=fe),Ae=je(Ae/2),Ae&&(fe+=fe);while(Ae);return Oe}function Dt(fe,Ae,Oe){var Xe=-1,Rt=fe.length;Ae<0&&(Ae=-Ae>Rt?0:Rt+Ae),Oe=Oe>Rt?Rt:Oe,Oe<0&&(Oe+=Rt),Rt=Ae>Oe?0:Oe-Ae>>>0,Ae>>>=0;for(var sn=Array(Rt);++Xe<Rt;)sn[Xe]=fe[Xe+Ae];return sn}function cn(fe){if(typeof fe=="string")return fe;if(Qi(fe))return et?et.call(fe):"";var Ae=fe+"";return Ae=="0"&&1/fe==-n?"-0":Ae}function On(fe,Ae,Oe){var Xe=fe.length;return Oe=Oe===void 0?Xe:Oe,!Ae&&Oe>=Xe?fe:Dt(fe,Ae,Oe)}function Zi(fe,Ae){Ae=Ae===void 0?" ":cn(Ae);var Oe=Ae.length;if(Oe<2)return Oe?Ct(Ae,fe):Ae;var Xe=Ct(Ae,We(fe/J(Ae)));return Te(Ae)?On(ce(Xe),0,fe).join(""):Xe.slice(0,fe)}function Xi(fe){var Ae=typeof fe;return!!fe&&(Ae=="object"||Ae=="function")}function jn(fe){return!!fe&&typeof fe=="object"}function Qi(fe){return typeof fe=="symbol"||jn(fe)&&$e.call(fe)==s}function Tt(fe){if(!fe)return fe===0?fe:0;if(fe=be(fe),fe===n||fe===-n){var Ae=fe<0?-1:1;return Ae*t}return fe===fe?fe:0}function oe(fe){var Ae=Tt(fe),Oe=Ae%1;return Ae===Ae?Oe?Ae-Oe:Ae:0}function be(fe){if(typeof fe=="number")return fe;if(Qi(fe))return i;if(Xi(fe)){var Ae=typeof fe.valueOf=="function"?fe.valueOf():fe;fe=Xi(Ae)?Ae+"":Ae}if(typeof fe!="string")return fe===0?fe:+fe;fe=fe.replace(r,"");var Oe=l.test(fe);return Oe||c.test(fe)?ne(fe.slice(2),Oe?2:8):a.test(fe)?i:+fe}function Ce(fe){return fe==null?"":cn(fe)}function Ke(fe,Ae,Oe){fe=Ce(fe),Ae=oe(Ae);var Xe=Ae?J(fe):0;return Ae&&Xe<Ae?fe+Zi(Ae-Xe,Oe):fe}return IM=Ke,IM}var DM,uz;function jwe(){return uz||(uz=1,DM=(n,e,t,i)=>{const s=(n+(i||"")).toString().includes("%");if(typeof n=="string"?[n,e,t,i]=n.match(/(0?\.?\d{1,3})%?\b/g).map(Number):i!==void 0&&(i=parseFloat(i)),typeof n!="number"||typeof e!="number"||typeof t!="number"||n>255||e>255||t>255)throw new TypeError("Expected three numbers below 256");if(typeof i=="number"){if(!s&&i>=0&&i<=1)i=Math.round(255*i);else if(s&&i>=0&&i<=100)i=Math.round(255*i/100);else throw new TypeError(`Expected alpha value (${i}) as a fraction or percentage`);i=(i|256).toString(16).slice(1)}else i="";return(t|e<<8|n<<16|1<<24).toString(16).slice(1)+i}),DM}var NM,hz;function Fwe(){if(hz)return NM;hz=1;const n="a-f\\d",e=`#?[${n}]{3}[${n}]?`,t=`#?[${n}]{6}([${n}]{2})?`,i=new RegExp(`[^#${n}]`,"gi"),s=new RegExp(`^${e}$|^${t}$`,"i");return NM=(r,a={})=>{if(typeof r!="string"||i.test(r)||!s.test(r))throw new TypeError("Expected a valid hex string");r=r.replace(/^#/,"");let l=1;r.length===8&&(l=Number.parseInt(r.slice(6,8),16)/255,r=r.slice(0,6)),r.length===4&&(l=Number.parseInt(r.slice(3,4).repeat(2),16)/255,r=r.slice(0,3)),r.length===3&&(r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2]);const c=Number.parseInt(r,16),h=c>>16,f=c>>8&255,p=c&255,v=typeof a.alpha=="number"?a.alpha:l;if(a.format==="array")return[h,f,p,v];if(a.format==="css"){const w=v===1?"":` / ${Number((v*100).toFixed(2))}%`;return`rgb(${h} ${f} ${p}${w})`}return{red:h,green:f,blue:p,alpha:v}},NM}var LM,dz;function Vwe(){if(dz)return LM;dz=1;var n=Dwe(),e=Nwe(),t=Lwe(),i=Owe(),s=jwe(),r=Fwe();const a=.75,l=.25,c=16777215,h=49979693;LM=function(w){return"#"+v(String(JSON.stringify(w)))};function f(w){var E=e(w),S=[];return E.forEach(function(C){var k=n(C);k&&S.push(r(t(k,"#"),{format:"array"}))}),S}function p(w){var E=[0,0,0];return w.forEach(function(S){for(var C=0;C<3;C++)E[C]+=S[C]}),[E[0]/w.length,E[1]/w.length,E[2]/w.length]}function v(w){var E,S=f(w);S.length>0&&(E=p(S));var C=1,k=0,N=1;if(w.length>0)for(var I=0;I<w.length;I++)w[I].charCodeAt(0)>k&&(k=w[I].charCodeAt(0)),N=parseInt(c/k),C=(C+w[I].charCodeAt(0)*N*h)%c;var z=(C*w.length%c).toString(16);z=i(z,6,z);var V=r(z,{format:"array"});return E?s(l*V[0]+a*E[0],l*V[1]+a*E[1],l*V[2]+a*E[2]):z}return LM}var Bwe=Vwe();const fz=IC(Bwe);function zwe({chat:n}){const{connection:e}=P.useContext(Di),{markAsUnread:t}=Mu(),{attendant:i,store:s}=e,r=HR(l=>l.labels),a=async l=>{try{const c=`users/${i.user}/stores/${s.id}/sync/${n.id}`,h=lc(_a,c);await vp(h,{labelId:l})}catch(c){console.error("Erro ao etiquetar chat:",c)}};return b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsx(mt,{className:"h-auto p-0 has-[>svg]:px-0 rounded-sm absolute top-0 right-1 invisible group-hover:visible",variant:"ghost",onClick:l=>l.stopPropagation(),children:b.jsx(NE,{})})}),b.jsxs(td,{side:"right",sideOffset:10,className:"rounded-lg shadow-md",children:[b.jsxs(or,{onClick:l=>{l.stopPropagation(),t({chatId:n.id,attendant:i})},children:[b.jsx(Yte,{className:"mr-2 size-4"}),"Marcar como não lido"]}),b.jsxs(Ele,{children:[b.jsxs(Ale,{children:[b.jsx(Tw,{className:"mr-2 size-4"}),"Etiquetar conversa"]}),b.jsxs(Tle,{className:"max-h-60 overflow-y-auto",children:[Object.values(r).map(l=>b.jsxs(or,{onClick:c=>{c.stopPropagation(),a(l.id)},className:"gap-2",children:[b.jsx(Tw,{className:"size-4",style:{color:l.color}}),l.name]},l.id)),b.jsxs(or,{onClick:l=>{l.stopPropagation(),a(null)},className:"gap-2",children:[b.jsx(fte,{}),"Desassociar"]}),Object.values(r).length===0&&b.jsx(or,{disabled:!0,className:"text-muted-foreground",children:"Nenhuma etiqueta"})]})]})]})]})}function Uwe({chatId:n}){const{getFallbackName:e,formatTime:t}=Mu(),i=Qr(f=>f.chats[n]),s=Qr(f=>f.setCurrentChat),r="relative group flex items-center gap-3 py-[10px] px-[14px] rounded-xl transition-colors outline-none",a=(i==null?void 0:i.name)||e(n),l=(i==null?void 0:i.unreadMessages)>0,c=i.lastMessage.messageTimestamp,h=HR(f=>f.labels);return console.log("Chat atualizado"),b.jsxs("div",{tabIndex:0,role:"button","aria-pressed":i.current,className:tt(r,i.current?"bg-muted":"hover:bg-accent"),onClick:()=>s(n),children:[b.jsxs($R,{className:"min-w-[40px] h-[40px]",children:[b.jsx(qR,{src:i.photo||"",alt:`Avatar de ${a}`}),b.jsx(GR,{className:"bg-gray-400 dark:bg-gray-600 text-white",children:i.isGroup?b.jsx(t0,{}):b.jsx(e0,{})})]}),b.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[b.jsxs("div",{className:"flex justify-between items-center w-full gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("p",{className:"line-clamp-1",children:a})," ",i.attendingBy&&b.jsx($w,{trigger:b.jsx("span",{className:"text-white p-[3px] rounded-full",style:{background:fz(i.attendingBy.token),color:Pwe(fz(i.attendingBy.token))},children:b.jsx(IU,{size:12})}),title:i.attendingBy.name}),i.labelId&&h[i.labelId]&&b.jsx($w,{trigger:b.jsx(Tw,{size:14,style:{color:h[i.labelId].color}}),title:h[i.labelId].name})]}),b.jsx("p",{className:tt("text-muted-foreground text-xs",l&&"text-green-600"),children:t(c)})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"flex-1 min-w-0",children:b.jsx("p",{className:"text-muted-foreground text-sm truncate",children:cW(i.lastMessage)})}),l&&b.jsx("span",{className:"h-4 min-w-4 px-1 bg-green-600 text-white rounded-full text-xs flex items-center justify-center",children:i.unreadMessages})]})]}),b.jsx(zwe,{chat:i})]})}const Hwe=xe.memo(Uwe),$we=()=>{var r,a;const{connection:n}=P.useContext(Di),e=n?`users/${(r=n==null?void 0:n.attendant)==null?void 0:r.user}/stores/${(a=n==null?void 0:n.store)==null?void 0:a.id}`:null;return{addLabel:async({color:l,name:c})=>{if(!n||!e)return jt.error("Não conectado");const h=Date.now(),f=lc(_a,e);await YB(f,{labels:{[h]:{name:c,color:l,id:h}}},{merge:!0})},updateLabel:async(l,c)=>{if(!n||!e)return jt.error("Não conectado");const h=lc(_a,e);await YB(h,{labels:{[l]:c}},{merge:!0})},removeLabel:async l=>{if(!n||!e)return jt.error("Não conectado");const c=lc(_a,e),h=await Vpe(c);if(!h.exists())return jt.error("Loja não encontrada");const f=h.data();if(!f)return jt.error("Nenhuma etiqueta para remover");const p=f.labels||{};delete p[l],await vp(c,{labels:p})}}};function qwe({filters:n,onFilter:e,onSearch:t}){return b.jsxs("div",{className:"px-6",children:[b.jsxs("div",{className:"flex gap-5 items-center justify-between mb-3 pt-4",children:[b.jsx("p",{className:"text-xl font-semibold",children:"Conversas"}),b.jsx(Gwe,{})]}),b.jsx(Wwe,{onChange:t}),b.jsx(Kwe,{filters:n,onChange:e})]})}function Gwe(){const n={variant:"ghost",size:"icon",className:"rounded-full"};return b.jsxs("div",{className:"flex gap-2",children:[b.jsx($w,{trigger:b.jsx(mt,{...n,children:b.jsx(J_,{})}),title:"Em breve"}),b.jsx($w,{trigger:b.jsx(mt,{...n,children:b.jsx(cN,{})}),title:"Em breve"})]})}function Wwe({onChange:n}){return b.jsxs("div",{className:"relative mb-3",children:[b.jsx(bne,{size:18,className:"absolute top-[50%] left-4 translate-y-[-50%] text-muted-foreground"}),b.jsx(xu,{placeholder:"Pesquisar",className:"ps-10 rounded-full shadow-none border-border bg-muted py-5",onChange:e=>n(e.target.value),autoComplete:"off"})]})}function Kwe({filters:n,onChange:e}){var w;const[t,i]=P.useState("all"),[s,r]=P.useState(""),[a,l]=P.useState("#22c55e"),c=HR(E=>E.labels),{addLabel:h,removeLabel:f}=$we(),p=E=>{e(E),i(E)},v=async()=>{s.trim()&&(await h({name:s.trim(),color:a}),r(""),l("#22c55e"))};return b.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-transparent pb-2",children:[n.map(E=>b.jsx(mt,{className:"rounded-full h-auto py-1 px-3",variant:E.key===t?"default":"outline",onClick:()=>p(E.key),children:E.label},E.key)),b.jsxs(ed,{children:[b.jsx(ZN,{asChild:!0,children:b.jsxs(mt,{className:"rounded-full h-auto py-1 px-3",variant:t.startsWith("tag-")?"default":"outline",children:[b.jsx(Tw,{className:"mr-1 size-4"}),t.startsWith("tag-")?((w=c[parseInt(t.replace("tag-",""))])==null?void 0:w.name)||"Etiqueta":"Etiquetas"]})}),b.jsxs(td,{className:"w-64",children:[b.jsxs("div",{className:"flex items-center px-2 pt-2",children:[b.jsx("input",{type:"color",className:"p-1 h-9 w-10 bg-white border border-gray-200 border-r-0 cursor-pointer rounded-l-lg dark:bg-neutral-900 dark:border-neutral-700",value:a,onChange:E=>l(E.target.value),title:"Escolha a cor"}),b.jsx(xu,{placeholder:"Nova etiqueta",value:s,onChange:E=>r(E.target.value),className:"rounded-none"}),b.jsx(mt,{onClick:v,className:"size-9 rounded-l-none px-0",children:b.jsx(J_,{className:"size-4"})})]}),b.jsxs("div",{className:"mt-2 flex flex-col gap-1 px-1 pb-2",children:[Object.values(c).map(E=>b.jsxs(or,{onClick:()=>p(`tag-${E.id}`),className:"gap-2 cursor-pointer flex justify-between",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Tw,{className:"size-4",style:{color:E.color}}),E.name]}),b.jsx(mt,{variant:"ghost",className:"size-5",onClick:S=>{S.stopPropagation(),f(E.id)},children:b.jsx(zC,{className:"text-red-500"})})]},E.id)),Object.values(c).length===0&&b.jsx("span",{className:"text-sm text-muted-foreground px-2 py-1",children:"Nenhuma etiqueta"})]})]})]})]})}function Ywe(){const{connection:n}=P.useContext(Di),{attendant:e}=n,[t,i]=P.useState("all"),[s,r]=P.useState(""),{chats:a}=Qr(),l=P.useMemo(()=>Object.values(a),[a]),c=l.reduce((p,v)=>v.unreadMessages>0?p+1:p,0);document.title=c>0?`(${c}) VAZAP`:"VAZAP";const h=[{key:"all",label:`Todos (${l.length})`},{key:"attending",label:"Atendendo"},{key:"unread",label:`Não lidas (${c})`}],f=P.useMemo(()=>l.sort((p,v)=>{var S,C;const w=((S=p.lastMessage)==null?void 0:S.messageTimestamp)||0;return(((C=v.lastMessage)==null?void 0:C.messageTimestamp)||0)-w}).filter(p=>{var E;const v=p.name||p.id;if(!v)return!1;const w=v.includes(s);if(t==="attending")return((E=p.attendingBy)==null?void 0:E.token)===e.token&&w;if(t==="unread")return p.unreadMessages>0&&w;if(t.startsWith("tag-")){const S=parseInt(t.split("tag-")[1]);return p.labelId===S&&w}return w}),[l,s,t,e==null?void 0:e.token]);return b.jsxs("div",{className:"w-[380px] bg-background dark:bg-zinc-900 h-full border-x-1 flex flex-col gap-3",children:[b.jsx(qwe,{filters:h,onFilter:i,onSearch:r}),f.length?b.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto scrollbar-transparent px-3 flex flex-col gap-1",children:f.map(p=>b.jsx(Hwe,{chatId:p.id},p.id))}):b.jsx("div",{className:"flex-1 flex items-center justify-center",children:b.jsx("p",{className:"italic text-muted-foreground",children:"Nenhuma conversa"})})]})}var RO="ContextMenu",[Zwe,Ske]=bl(RO,[QC]),Ea=QC(),[Xwe,uW]=Zwe(RO),hW=n=>{const{__scopeContextMenu:e,children:t,onOpenChange:i,dir:s,modal:r=!0}=n,[a,l]=P.useState(!1),c=Ea(e),h=vl(i),f=P.useCallback(p=>{l(p),h(p)},[h]);return b.jsx(Xwe,{scope:e,open:a,onOpenChange:f,modal:r,children:b.jsx(H8,{...c,dir:s,open:a,onOpenChange:f,modal:r,children:t})})};hW.displayName=RO;var dW="ContextMenuTrigger",fW=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,disabled:i=!1,...s}=n,r=uW(dW,t),a=Ea(t),l=P.useRef({x:0,y:0}),c=P.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),h=P.useRef(0),f=P.useCallback(()=>window.clearTimeout(h.current),[]),p=v=>{l.current={x:v.clientX,y:v.clientY},r.onOpenChange(!0)};return P.useEffect(()=>f,[f]),P.useEffect(()=>void(i&&f()),[i,f]),b.jsxs(b.Fragment,{children:[b.jsx($8,{...a,virtualRef:c}),b.jsx(Kn.span,{"data-state":r.open?"open":"closed","data-disabled":i?"":void 0,...s,ref:e,style:{WebkitTouchCallout:"none",...n.style},onContextMenu:i?n.onContextMenu:Ft(n.onContextMenu,v=>{f(),p(v),v.preventDefault()}),onPointerDown:i?n.onPointerDown:Ft(n.onPointerDown,z1(v=>{f(),h.current=window.setTimeout(()=>p(v),700)})),onPointerMove:i?n.onPointerMove:Ft(n.onPointerMove,z1(f)),onPointerCancel:i?n.onPointerCancel:Ft(n.onPointerCancel,z1(f)),onPointerUp:i?n.onPointerUp:Ft(n.onPointerUp,z1(f))})]})});fW.displayName=dW;var Qwe="ContextMenuPortal",mW=n=>{const{__scopeContextMenu:e,...t}=n,i=Ea(e);return b.jsx(q8,{...i,...t})};mW.displayName=Qwe;var pW="ContextMenuContent",gW=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=uW(pW,t),r=Ea(t),a=P.useRef(!1);return b.jsx(G8,{...r,...i,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=n.onCloseAutoFocus)==null||c.call(n,l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{var c;(c=n.onInteractOutside)==null||c.call(n,l),!l.defaultPrevented&&!s.modal&&(a.current=!0)},style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gW.displayName=pW;var Jwe="ContextMenuGroup",exe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(W8,{...s,...i,ref:e})});exe.displayName=Jwe;var txe="ContextMenuLabel",nxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(K8,{...s,...i,ref:e})});nxe.displayName=txe;var ixe="ContextMenuItem",yW=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(Y8,{...s,...i,ref:e})});yW.displayName=ixe;var sxe="ContextMenuCheckboxItem",rxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(Z8,{...s,...i,ref:e})});rxe.displayName=sxe;var axe="ContextMenuRadioGroup",oxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(X8,{...s,...i,ref:e})});oxe.displayName=axe;var lxe="ContextMenuRadioItem",cxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(Q8,{...s,...i,ref:e})});cxe.displayName=lxe;var uxe="ContextMenuItemIndicator",hxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(J8,{...s,...i,ref:e})});hxe.displayName=uxe;var dxe="ContextMenuSeparator",fxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(eH,{...s,...i,ref:e})});fxe.displayName=dxe;var mxe="ContextMenuArrow",pxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(tH,{...s,...i,ref:e})});pxe.displayName=mxe;var gxe="ContextMenuSubTrigger",yxe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(nH,{...s,...i,ref:e})});yxe.displayName=gxe;var vxe="ContextMenuSubContent",_xe=P.forwardRef((n,e)=>{const{__scopeContextMenu:t,...i}=n,s=Ea(t);return b.jsx(iH,{...s,...i,ref:e,style:{...n.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_xe.displayName=vxe;function z1(n){return e=>e.pointerType!=="mouse"?n(e):void 0}var bxe=hW,wxe=fW,xxe=mW,Exe=gW,Axe=yW;function Txe({...n}){return b.jsx(bxe,{"data-slot":"context-menu",...n})}function Sxe({...n}){return b.jsx(wxe,{"data-slot":"context-menu-trigger",...n})}function Cxe({className:n,...e}){return b.jsx(xxe,{children:b.jsx(Exe,{"data-slot":"context-menu-content",className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...e})})}function Rxe({className:n,inset:e,variant:t="default",...i}){return b.jsx(Axe,{"data-slot":"context-menu-item","data-inset":e,"data-variant":t,className:tt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i})}function vW({className:n,...e}){return b.jsxs("label",{className:tt("inline-flex items-center justify-center size-4 rounded border has-checked:border-none bg-background transition-colors cursor-pointer relative rounded-sm",n),children:[b.jsx("input",{type:"checkbox",className:"sr-only peer",...e}),b.jsx("span",{className:"absolute border-input peer-checked:border-none rounded-sm inset-0 flex items-center justify-center pointer-events-none peer-checked:bg-primary peer-checked:opacity-100 opacity-0 transition-opacity",children:b.jsx(MU,{className:"w-3 h-3 text-white",strokeWidth:3})})]})}function kxe({children:n,msgId:e}){const{socketRef:t}=P.useContext(Di),i=Qr(p=>p.currentChat),{getFallbackName:s}=Mu(),{chats:r}=Qr.getState(),[a,l]=P.useState({}),c=P.useRef(null),h=p=>{l(v=>({...v,[p]:!v[p]}))},f=p=>{p.preventDefault();const v=Object.entries(a).filter(([,w])=>w).map(([w])=>w);t.current&&t.current.emit("send-message",{jids:v,type:"forward",content:{originJid:i,msgId:e}}),c.current&&c.current.click()};return b.jsxs(LR,{children:[b.jsx(Pq,{asChild:!0,children:n}),b.jsxs(OR,{className:"max-w-md",children:[b.jsx(jR,{children:"Encaminhar mensagem"}),b.jsx(tve,{children:"Enviar mensagem para outros contatos"}),b.jsxs("form",{onSubmit:f,className:"space-y-4 mt-4",children:[b.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:Object.values(r).map(p=>b.jsxs("label",{className:"flex items-center gap-3 hover:bg-muted/50 p-2 rounded-md cursor-pointer",children:[b.jsx(vW,{checked:!!a[p.id],onChange:()=>h(p.id)}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs($R,{children:[b.jsx(qR,{src:p.photo||""}),b.jsx(GR,{children:b.jsx(e0,{})})]}),b.jsx("span",{className:"text-sm",children:p.name||s(p.id)})]})]},p.id))}),b.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[b.jsx(Iq,{asChild:!0,children:b.jsx(mt,{type:"button",variant:"ghost",ref:c,children:"Cancelar"})}),b.jsx(mt,{type:"submit",disabled:!Object.values(a).some(Boolean),children:"Enviar"})]})]})]})]})}function Mxe({message:n}){const{setReplyMessage:e}=P.useContext(Di),{id:t}=n.key,i=()=>e(n),s=async()=>{try{const r=kwe(n);if(!r)return;const a=new Date(n.messageTimestamp*1e3).toLocaleString();await navigator.clipboard.writeText(`[${a}] ${n.pushName}: ${r}`),jt.success("Mensagem copiada")}catch(r){console.log(r),jt.error("Não foi possível copiar mensagem")}};return b.jsxs("div",{children:[b.jsx(kxe,{msgId:t,children:b.jsx("button",{id:`forward-${t}`,className:"hidden"})}),b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsxs(mt,{variant:"outline",size:"sm",className:"rounded-full h-auto p-1 has-[>svg]:px-1 invisible group-hover:visible z-40",children:[b.jsx(Rne,{}),b.jsx(NE,{})]})}),b.jsxs(td,{side:"top",sideOffset:10,className:"border-0 rounded-lg shadow-md",children:[b.jsxs(or,{onClick:i,children:[b.jsx(yne,{})," Responder"]}),b.jsx("label",{htmlFor:`forward-${t}`,children:b.jsxs(or,{children:[b.jsx(FU,{className:"icon-h-flip"}),"Encaminhar mensagem"]})}),b.jsxs(or,{onClick:s,children:[b.jsx(lN,{})," Copiar"]})]})]})]})}function Pxe({message:n,id:e}){const t=s=>{const r=document.getElementById(s);r&&(r.classList.add("highlighted-message"),r.addEventListener("animationend",()=>{r.classList.remove("highlighted-message")},{once:!0}))},i=()=>{if(!e)return;const s=document.getElementById("msgs-container"),r=document.getElementById(e);if(s&&r){const a=r.offsetTop,l=s.clientHeight,c=r.clientHeight,h=a-l+c;s.scrollTo({top:h,behavior:"smooth"}),t(e)}};return b.jsx("div",{className:"bg-muted py-1 px-2 rounded-sm my-1 border-l-6 border-emerald-500 shadow-sm cursor-pointer break-all line-clamp-1",onClick:i,children:cW({message:n})})}function Ixe({message:n,isGroup:e}){var h,f,p;const t=n.data(),i=oA(t.message),s=t.messageTimestamp,r=new Date(s*1e3).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),a=(h=t==null?void 0:t.message)==null?void 0:h[`${i}Message`],l=typeof a=="string"?null:(f=a==null?void 0:a.contextInfo)==null?void 0:f.quotedMessage,c=typeof a=="string"?null:(p=a==null?void 0:a.contextInfo)==null?void 0:p.stanzaId;return console.log("ATUALIZANDO MENSAGEM",t),b.jsx("div",{className:"w-full relative group",id:t.key.id,children:b.jsxs("label",{className:"w-full flex items-center gap-8 px-5 py-1 w-full h-full highlight block message-highlight",htmlFor:`selector-${t.key.id}`,children:[b.jsx(vW,{className:"z-40 size-5 bg-background border-foreground/30 message-checkbox",id:`selector-${t.key.id}`,name:"selected-message",value:t.key.id}),b.jsxs("div",{className:tt("w-full flex group items-center gap-3 justify-end",!t.key.fromMe&&"justify-end flex-row-reverse"),children:[b.jsx(Mxe,{message:t}),b.jsxs(Dxe,{fromMe:t.key.fromMe||!1,children:[e&&b.jsxs("div",{className:"text-xs text-muted-foreground",children:["~ ",t.pushName]}),l&&b.jsx(Pxe,{message:l,id:c||""}),Swe(t),b.jsx("div",{className:"flex justify-end text-xs text-muted-foreground",children:r})]})]})]})})}function Dxe({children:n,fromMe:e}){const t=e?'before:content-[""] before:absolute before:right-[-10px] before:top-0 before:border-t-[0px] before:border-t-transparent before:border-l-[10px] before:border-l-[#d9fdd3] dark:before:border-l-[#144d37] before:border-b-[10px] before:border-b-transparent before:z-0 drop-shadow-sm':'before:content-[""] before:absolute before:left-[-10px] before:top-0 before:border-t-[0px] before:border-t-transparent before:border-r-[10px] before:border-r-background dark:before:border-r-zinc-900 before:border-b-[10px] before:border-b-transparent before:z-0 drop-shadow-sm';return b.jsx(xl,{className:tt("relative p-0 border-0 shadow-none rounded-lg max-w-[60%] min-w-[115px]",e?"rounded-se-none bg-[#d9fdd3] dark:bg-[#144d37]":"rounded-ss-none",t),children:b.jsx(El,{className:"p-2",children:n})})}const Nxe=xe.memo(Ixe);function Lxe({containerRef:n}){const e=fl(a=>a.messages),[t,i]=P.useState(!0),{replyMessage:s}=P.useContext(Di),r=()=>{const a=n.current;a&&a.scrollTo(0,a.scrollHeight)};return P.useEffect(()=>{const a=n.current;if(!a)return;const l=()=>{const c=a.scrollTop===0;i(c)};return a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)},[n]),P.useEffect(()=>{const a=n.current;if(!a)return;a.scrollTop+a.clientHeight>=a.scrollHeight-100&&r()},[n,e]),b.jsx(b.Fragment,{children:!t&&b.jsx(mt,{size:"icon",className:tt("fixed right-6 rounded-full bg-background hover:bg-background dark:bg-muted shadow-sm text-black dark:text-white size-10 text-foreground-muted",s?"bottom-32":"bottom-24"),onClick:r,type:"button",children:b.jsx(NE,{className:"size-6"})})})}function Oxe(){const{connection:n}=P.useContext(Di),{fetchMessages:e}=Mu(),t=Qr(C=>C.currentChat),i=Qr(C=>C.chats[t||""]),s=fl(C=>C.messages),r=fl(C=>C.loadingMessages),{clearMessages:a,addMessage:l}=fl.getState(),c=P.useRef(null),[h,f]=P.useState(!1),[p,v]=P.useState(2),[w,E]=P.useState(!1),S=()=>{if(!t)return;f(!0);const C=s[s.length-1];e({page:p,connection:n,chatId:t||"",lastDoc:C}).then(k=>{if(f(!1),!k)return E(!0);k.forEach(N=>l(N)),v(N=>N+1)})};return P.useEffect(()=>{v(2),a(),f(!1)},[t]),r?b.jsxs("div",{className:"flex-1 flex flex-col gap-2 items-center justify-center h-full",children:[b.jsx(Dr,{className:"animate-spin"}),"Carregando mensagens"]}):b.jsxs("div",{className:"flex-1 flex flex-col-reverse overflow-y-auto scroll-smooth scrollbar-transparent min-h-0",id:"msgs-container",ref:c,children:[[...s].slice().map((C,k)=>{var V;const N=mz(C.data().messageTimestamp),I=mz((V=s[k+1])==null?void 0:V.data().messageTimestamp),z=N!==I;return b.jsxs(xe.Fragment,{children:[b.jsx(Nxe,{message:C,isGroup:(i==null?void 0:i.isGroup)||!1}),z&&b.jsx(jxe,{date:N})]},C.id)}),!h&&b.jsx("div",{className:"flex justify-center p-3",children:b.jsxs(mt,{className:"bg-background hover:bg-background dark:bg-muted text-foreground transition-discrete",onClick:S,children:[b.jsx(Yee,{})," Carregar mais"]})}),h&&b.jsx("div",{className:"flex justify-center p-3",children:b.jsx("div",{className:"bg-background dark:bg-muted text-primary p-1 rounded-full shadow-md",children:b.jsx(Dr,{className:"animate-spin"})})}),w&&p>2&&b.jsx("p",{className:"text-center p-3",children:"Você chegou ao fim"}),b.jsx(Lxe,{containerRef:c})]})}function jxe({date:n}){return b.jsx("div",{className:"flex justify-center",children:b.jsx("span",{className:"text-center text-sm text-muted-foreground my-4 px-2 py-1 rounded-sm bg-background dark:bg-muted shadow-sm",children:n})})}function mz(n){const e=new Date(n*1e3),t=new Date,i=new Date;i.setDate(t.getDate()-1);const s=e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),r=e.getDate()===i.getDate()&&e.getMonth()===i.getMonth()&&e.getFullYear()===i.getFullYear();if(s)return"Hoje";if(r)return"Ontem";const a=String(e.getDate()).padStart(2,"0"),l=e.toLocaleString("pt-BR",{month:"long"}),c=e.getFullYear();return`${a} de ${l} de ${c}`}const Fxe=oN("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function qw({className:n,variant:e,asChild:t=!1,...i}){const s=t?BC:"span";return b.jsx(s,{"data-slot":"badge",className:tt(Fxe({variant:e}),n),...i})}function Vxe({trigger:n,items:e}){return b.jsxs(ed,{children:[b.jsx(Rm,{children:n}),b.jsx(td,{className:"border-0 shadow-lg",children:e.map(t=>b.jsx(or,{onClick:t.onClick,children:t.label}))})]})}function Bxe({chat:n}){const{setCurrentChat:e}=Qr.getState(),{getFallbackName:t}=Mu(),i=n.name||t(n.id),s={size:"icon",variant:"ghost",className:"rounded-full"};return b.jsxs("div",{className:"flex items-center justify-between bg-background dark:bg-zinc-900 py-3 px-4 shadow-sm z-20",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs($R,{className:"min-w-[40px] h-[40px]",children:[b.jsx(qR,{src:n.photo,alt:`Avatar de ${i}`}),b.jsx(GR,{className:"bg-gray-400 dark:bg-gray-600 text-white",children:n.isGroup?b.jsx(t0,{}):b.jsx(e0,{})})]}),b.jsxs("div",{className:"flex flex-col",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("p",{children:i}),b.jsx(zxe,{chat:n})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:"Descrição/Status do chat (Em breve)"})]})]}),b.jsx("div",{className:"flex gap-2",children:b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsx(mt,{...s,children:b.jsx(cN,{})})}),b.jsx(td,{children:b.jsxs(or,{onClick:()=>e(null),children:[b.jsx(n0,{})," Fechar conversa"]})})]})})]})}function zxe({chat:n}){var s;const{connection:e}=P.useContext(Di),{markAsAttending:t}=Mu(),i=((s=n.attendingBy)==null?void 0:s.token)===e.attendant.token;return b.jsx(b.Fragment,{children:n.attendingBy?b.jsx("div",{className:"flex items-center gap-1",children:b.jsxs(qw,{className:tt("bg-blue-600 rounded-full py-1 px-3 text-sm",i&&"pe-2"),children:[n.attendingBy.name,i&&b.jsx(Vxe,{trigger:b.jsxs(qw,{className:"bg-white text-black rounded-full py-0 px-2 ms-1",children:["Você ",b.jsx(NE,{})]}),items:[{label:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Mte,{})," Encerrar atendimento"]}),onClick:()=>t({chatId:n.id,attendant:e.attendant,isAttending:!1})}]})]})}):b.jsx("div",{children:b.jsxs(mt,{className:"bg-blue-600 hover:bg-blue-700 rounded-full h-auto py-1 px-3",onClick:()=>{t({chatId:n.id,attendant:e.attendant,isAttending:!0})},children:[b.jsx(Nne,{}),"Marcar como atendendo"]})})})}function Uxe({checked:n,onCancel:e}){const{downloadZipMedia:t}=x0(),i=Qr(r=>r.currentChat),s=async()=>{if(!i){jt.error("Nenhuma conversa selecionada");return}const{messages:r}=fl.getState(),a=r.filter(l=>{const c=l.data(),h=["audio","image","video","document"],f=n.includes(c.key.id),p=oA(c.message),v=h.includes(p),w=c.message[`${p}Message`];if(!w||typeof w=="string")return!1;const E=w.downloadUrl;return f&&console.log(w),f&&v&&E}).map(l=>l.data().key.id);if(!a.length)return jt.error("Baixe os arquivos primeiro para poder baixar");await t(i,a),e()};return b.jsxs("div",{className:"flex items-center justify-between bg-background dark:bg-zinc-900 py-3 px-4 shadow-sm z-20",children:[b.jsxs("div",{className:"flex items-center just gap-2",children:[n.length," selecionadas"]}),b.jsxs("div",{className:"flex items-center just gap-2",children:[b.jsx(mt,{size:"icon",variant:"ghost",disabled:!0,children:b.jsx(lN,{})}),b.jsx(mt,{size:"icon",variant:"ghost",disabled:!0,children:b.jsx(FU,{className:"icon-h-flip"})}),b.jsx(mt,{size:"icon",variant:"ghost",onClick:s,children:b.jsx(Aw,{})}),b.jsx(mt,{size:"icon",variant:"ghost",disabled:!0,children:b.jsx(zC,{})}),b.jsx(mt,{variant:"outline",onClick:e,children:"Cancelar"})]})]})}function Hxe(){return b.jsxs("div",{className:"absolute inset-0 flex items-center justify-center w-full bg-muted shadow-md h-16 top-[-160%] rounded-lg flex gap-2 shadow-md",children:[b.jsx(Hne,{}),"Solte o arquivo aqui"]})}function kO({className:n,...e}){return b.jsx("textarea",{"data-slot":"textarea",className:tt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function $xe({text:n,setText:e,submit:t}){const i=P.useRef(null),s=r=>{r.key==="Enter"&&!r.shiftKey&&(r.preventDefault(),t())};return b.jsx(kO,{ref:i,className:"resize-none min-h-0 max-h-[100px] text-lg border-0 focus-visible:ring-0 focus-visible:ring-offset-0 scrollbar-transparent bg-transparent dark:bg-transparent shadow-none p-0 rounded-none",value:n,onChange:r=>e(r.target.value),onKeyDown:s,rows:0})}const ga=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),pI=[.001,0,0,.001,0,0],OM=1.35,To={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},of={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_W="pdfjs_internal_editor_",Qt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101,COMMENT:102},In={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},qxe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ur={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ET={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},bs={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ky={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},WR={ERRORS:0,WARNINGS:1,INFOS:5},XS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},U1={moveTo:0,lineTo:1,curveTo:2,closePath:3},Gxe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let KR=WR.WARNINGS;function Wxe(n){Number.isInteger(n)&&(KR=n)}function Kxe(){return KR}function YR(n){KR>=WR.INFOS&&console.log(`Info: ${n}`)}function Jt(n){KR>=WR.WARNINGS&&console.log(`Warning: ${n}`)}function fi(n){throw new Error(n)}function Ss(n,e){n||fi(e)}function Yxe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bW(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const s=n.match(/\./g);(s==null?void 0:s.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=eEe(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return Yxe(i)?i:null}function wW(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&bW(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function vn(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const ey=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class pz extends ey{constructor(e,t){super(e,"PasswordException"),this.code=t}}class jM extends ey{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class gI extends ey{constructor(e){super(e,"InvalidPDFException")}}class QS extends ey{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class Zxe extends ey{constructor(e){super(e,"FormatError")}}class vm extends ey{constructor(e){super(e,"AbortException")}}function xW(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&fi("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let s=0;s<e;s+=t){const r=Math.min(s+t,e),a=n.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function cA(n){typeof n!="string"&&fi("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function Xxe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Qxe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Jxe(){try{return new Function(""),!0}catch{return!1}}class Ir{static get isLittleEndian(){return vn(this,"isLittleEndian",Qxe())}static get isEvalSupported(){return vn(this,"isEvalSupported",Jxe())}static get isOffscreenCanvasSupported(){return vn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return vn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return vn(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return vn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const FM=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var Bh,AT,yI;class Pt{static makeHexColor(e,t,i){return`#${FM[e]}${FM[t]}${FM[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,i=0){const s=e[i],r=e[i+1];e[i]=s*t[0]+r*t[2]+t[4],e[i+1]=s*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const s=t[0],r=t[1],a=t[2],l=t[3],c=t[4],h=t[5];for(let f=0;f<6;f+=2){const p=e[i+f],v=e[i+f+1];e[i+f]=p*s+v*a+c,e[i+f+1]=p*r+v*l+h}}static applyInverseTransform(e,t){const i=e[0],s=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-s*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-i*t[1]+s*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,i){const s=t[0],r=t[1],a=t[2],l=t[3],c=t[4],h=t[5],f=e[0],p=e[1],v=e[2],w=e[3];let E=s*f+c,S=E,C=s*v+c,k=C,N=l*p+h,I=N,z=l*w+h,V=z;if(r!==0||a!==0){const H=r*f,B=r*v,j=a*p,q=a*w;E+=j,k+=j,C+=q,S+=q,N+=H,V+=H,z+=B,I+=B}i[0]=Math.min(i[0],E,C,S,k),i[1]=Math.min(i[1],N,z,I,V),i[2]=Math.max(i[2],E,C,S,k),i[3]=Math.max(i[3],N,z,I,V)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],s=e[1],r=e[2],a=e[3],l=i**2+s**2,c=i*r+s*a,h=r**2+a**2,f=(l+h)/2,p=Math.sqrt(f**2-(l*h-c**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[i,r,s,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,s,r){r[0]=Math.min(r[0],e,i),r[1]=Math.min(r[1],t,s),r[2]=Math.max(r[2],e,i),r[3]=Math.max(r[3],t,s)}static bezierBoundingBox(e,t,i,s,r,a,l,c,h){h[0]=Math.min(h[0],e,l),h[1]=Math.min(h[1],t,c),h[2]=Math.max(h[2],e,l),h[3]=Math.max(h[3],t,c),W(this,Bh,yI).call(this,e,i,r,l,t,s,a,c,3*(-e+3*(i-r)+l),6*(e-2*i+r),3*(i-e),h),W(this,Bh,yI).call(this,e,i,r,l,t,s,a,c,3*(-t+3*(s-a)+c),6*(t-2*s+a),3*(s-t),h)}}Bh=new WeakSet,AT=function(e,t,i,s,r,a,l,c,h,f){if(h<=0||h>=1)return;const p=1-h,v=h*h,w=v*h,E=p*(p*(p*e+3*h*t)+3*v*i)+w*s,S=p*(p*(p*r+3*h*a)+3*v*l)+w*c;f[0]=Math.min(f[0],E),f[1]=Math.min(f[1],S),f[2]=Math.max(f[2],E),f[3]=Math.max(f[3],S)},yI=function(e,t,i,s,r,a,l,c,h,f,p,v){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&W(this,Bh,AT).call(this,e,t,i,s,r,a,l,c,-p/f,v);return}const w=f**2-4*p*h;if(w<0)return;const E=Math.sqrt(w),S=2*h;W(this,Bh,AT).call(this,e,t,i,s,r,a,l,c,(-f+E)/S,v),W(this,Bh,AT).call(this,e,t,i,s,r,a,l,c,(-f-E)/S,v)},G(Pt,Bh);function eEe(n){return decodeURIComponent(escape(n))}let VM=null,gz=null;function tEe(n){return VM||(VM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,gz=new Map([["ﬅ","ſt"]])),n.replaceAll(VM,(e,t,i)=>t?t.normalize("NFKC"):gz.get(i))}function EW(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),xW(n)}const MO="pdfjs_internal_id_";function nEe(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,s,...r]=t;if(!n(i)&&!Number.isInteger(i)||!e(s))return!1;const a=r.length;let l=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;l=!1;break;default:return!1}for(const c of r)if(!(typeof c=="number"||l&&c===null))return!1;return!0}function ya(n,e,t){return Math.min(Math.max(n,e),t)}function AW(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(xW(n))}function iEe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):cA(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});const Ju="http://www.w3.org/2000/svg",fp=class fp{};Ye(fp,"CSS",96),Ye(fp,"PDF",72),Ye(fp,"PDF_TO_CSS_UNITS",fp.CSS/fp.PDF);let _m=fp;async function uA(n,e="text"){if(Ub(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class hA{constructor({viewBox:e,userUnit:t,scale:i,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=a,i*=t;const c=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,v,w;switch(s%=360,s<0&&(s+=360),s){case 180:f=-1,p=0,v=0,w=1;break;case 90:f=0,p=1,v=1,w=0;break;case 270:f=0,p=-1,v=-1,w=0;break;case 0:f=1,p=0,v=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,w=-w);let E,S,C,k;f===0?(E=Math.abs(h-e[1])*i+r,S=Math.abs(c-e[0])*i+a,C=(e[3]-e[1])*i,k=(e[2]-e[0])*i):(E=Math.abs(c-e[0])*i+r,S=Math.abs(h-e[1])*i+a,C=(e[2]-e[0])*i,k=(e[3]-e[1])*i),this.transform=[f*i,p*i,v*i,w*i,E-f*i*c-v*i*h,S-p*i*c-w*i*h],this.width=C,this.height=k}get rawDims(){const e=this.viewBox;return vn(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new hA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,t){const i=[e,t];return Pt.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];Pt.applyTransform(t,this.transform);const i=[e[2],e[3]];return Pt.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return Pt.applyInverseTransform(i,this.transform),i}}class PO extends ey{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ZR(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function IO(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function sEe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function rEe(n,e="document.pdf"){if(typeof n!="string")return e;if(ZR(n))return Jt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(l=>{try{return new URL(l)}catch{try{return new URL(decodeURIComponent(l))}catch{try{return new URL(l,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(l),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const s=l=>{try{let c=decodeURIComponent(l);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:l):c}catch{return l}},r=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(r.test(a))return s(a);if(i.searchParams.size>0){const l=Array.from(i.searchParams.values()).reverse();for(const h of l)if(r.test(h))return s(h);const c=Array.from(i.searchParams.keys()).reverse();for(const h of c)if(r.test(h))return s(h)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return s(c[0])}return e}class yz{constructor(){Ye(this,"started",Object.create(null));Ye(this,"times",[])}time(e){e in this.started&&Jt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Jt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(t)} ${r-s}ms
`);return e.join("")}}function Ub(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function _l(n){n.preventDefault()}function As(n){n.preventDefault(),n.stopPropagation()}function aEe(n){console.log("Deprecated API usage: "+n)}var nx;class JS{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;y(this,nx)||O(this,nx,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=y(this,nx).exec(e);if(!t)return null;const i=parseInt(t[1],10);let s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let l=parseInt(t[5],10);l=l>=0&&l<=59?l:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(a+=f,l+=p):h==="+"&&(a-=f,l-=p),new Date(Date.UTC(i,s,r,a,l,c))}}nx=new WeakMap,G(JS,nx);function oEe(n,{scale:e=1,rotation:t=0}){const{width:i,height:s}=n.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new hA({viewBox:r,userUnit:1,scale:e,rotation:t})}function XR(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Jt(`Not a valid color format: "${n}"`),[0,0,0])}function lEe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,XR(i))}e.remove()}function ji(n){const{a:e,b:t,c:i,d:s,e:r,f:a}=n.getTransform();return[e,t,i,s,r,a]}function Oc(n){const{a:e,b:t,c:i,d:s,e:r,f:a}=n.getTransform().invertSelf();return[e,t,i,s,r,a]}function zg(n,e,t=!1,i=!0){if(e instanceof hA){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:a}=n,l=Ir.isCSSRoundSupported,c=`var(--total-scale-factor) * ${s}px`,h=`var(--total-scale-factor) * ${r}px`,f=l?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,p=l?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(a.width=f,a.height=p):(a.width=p,a.height=f)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Su{constructor(){const{pixelRatio:e}=Su;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,s,r=-1){let a=1/0,l=1/0,c=1/0;i=Su.capPixels(i,r),i>0&&(a=Math.sqrt(i/(e*t))),s!==-1&&(l=s/e,c=s/t);const h=Math.min(a,l,c);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const vI=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var lf,cf,Jo,sh,ix,Ev,Av,sx,fC,TW,Pr,SW,CW,Yy,Hb;const nh=class nh{constructor(e){G(this,Pr);G(this,lf,null);G(this,cf,null);G(this,Jo);G(this,sh,null);G(this,ix,null);G(this,Ev,null);G(this,Av,null);O(this,Jo,e),y(nh,sx)||O(nh,sx,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=O(this,lf,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=y(this,Jo)._uiManager._signal;e.addEventListener("contextmenu",_l,{signal:t}),e.addEventListener("pointerdown",W(nh,fC,TW),{signal:t});const i=O(this,sh,document.createElement("div"));i.className="buttons",e.append(i);const s=y(this,Jo).toolbarPosition;if(s){const{style:r}=e,a=y(this,Jo)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return y(this,lf)}hide(){var e;y(this,lf).classList.add("hidden"),(e=y(this,cf))==null||e.hideDropdown()}show(){var e,t;y(this,lf).classList.remove("hidden"),(e=y(this,ix))==null||e.shown(),(t=y(this,Ev))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=y(this,Jo),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",y(nh,sx)[e]),W(this,Pr,Yy).call(this,i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),y(this,sh).append(i)}async addAltText(e){const t=await e.render();W(this,Pr,Yy).call(this,t),y(this,sh).append(t,y(this,Pr,Hb)),O(this,ix,e)}addComment(e){if(y(this,Ev))return;const t=e.render();t&&(W(this,Pr,Yy).call(this,t),y(this,sh).prepend(t,y(this,Pr,Hb)),O(this,Ev,e),e.toolbar=this)}addColorPicker(e){if(y(this,cf))return;O(this,cf,e);const t=e.renderButton();W(this,Pr,Yy).call(this,t),y(this,sh).append(t,y(this,Pr,Hb))}async addEditSignatureButton(e){const t=O(this,Av,await e.renderEditButton(y(this,Jo)));W(this,Pr,Yy).call(this,t),y(this,sh).append(t,y(this,Pr,Hb))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}updateEditSignatureButton(e){y(this,Av)&&(y(this,Av).title=e)}remove(){var e;y(this,lf).remove(),(e=y(this,cf))==null||e.destroy(),O(this,cf,null)}};lf=new WeakMap,cf=new WeakMap,Jo=new WeakMap,sh=new WeakMap,ix=new WeakMap,Ev=new WeakMap,Av=new WeakMap,sx=new WeakMap,fC=new WeakSet,TW=function(e){e.stopPropagation()},Pr=new WeakSet,SW=function(e){y(this,Jo)._focusEventsAllowed=!1,As(e)},CW=function(e){y(this,Jo)._focusEventsAllowed=!0,As(e)},Yy=function(e){const t=y(this,Jo)._uiManager._signal;e.addEventListener("focusin",W(this,Pr,SW).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",W(this,Pr,CW).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_l,{signal:t})},Hb=function(){const e=document.createElement("div");return e.className="divider",e},G(nh,fC),G(nh,sx,null);let _I=nh;var rx,Ep,Ap,xm,RW,kW,MW;class cEe{constructor(e){G(this,xm);G(this,rx,null);G(this,Ep,null);G(this,Ap);O(this,Ap,e)}show(e,t,i){const[s,r]=W(this,xm,kW).call(this,t,i),{style:a}=y(this,Ep)||O(this,Ep,W(this,xm,RW).call(this));e.append(y(this,Ep)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){y(this,Ep).remove()}}rx=new WeakMap,Ep=new WeakMap,Ap=new WeakMap,xm=new WeakSet,RW=function(){const e=O(this,Ep,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",_l,{signal:y(this,Ap)._signal});const t=O(this,rx,document.createElement("div"));return t.className="buttons",e.append(t),W(this,xm,MW).call(this),e},kW=function(e,t){let i=0,s=0;for(const r of e){const a=r.y+r.height;if(a<i)continue;const l=r.x+(t?r.width:0);if(a>i){s=l,i=a;continue}t?l>s&&(s=l):l<s&&(s=l)}return[t?1-s:s,i]},MW=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=y(this,Ap)._signal;e.addEventListener("contextmenu",_l,{signal:i}),e.addEventListener("click",()=>{y(this,Ap).highlightSelection("floating_button")},{signal:i}),y(this,rx).append(e)};function PW(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var mC;class uEe{constructor(){G(this,mC,0)}get id(){return`${_W}${ua(this,mC)._++}`}}mC=new WeakMap;var Tv,ax,$r,Sv,TT;const vj=class vj{constructor(){G(this,Sv);G(this,Tv,EW());G(this,ax,0);G(this,$r,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return vn(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:t,name:i,size:s,type:r}=e;return W(this,Sv,TT).call(this,`${t}_${i}_${s}_${r}`,e)}async getFromUrl(e){return W(this,Sv,TT).call(this,e,e)}async getFromBlob(e,t){const i=await t;return W(this,Sv,TT).call(this,e,i)}async getFromId(e){y(this,$r)||O(this,$r,new Map);const t=y(this,$r).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){y(this,$r)||O(this,$r,new Map);let i=y(this,$r).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${y(this,Tv)}_${ua(this,ax)._++}`,refCounter:1,isSvg:!1},y(this,$r).set(e,i),y(this,$r).set(i.id,i),i}getSvgUrl(e){const t=y(this,$r).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var s;y(this,$r)||O(this,$r,new Map);const t=y(this,$r).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${y(this,Tv)}_`)}};Tv=new WeakMap,ax=new WeakMap,$r=new WeakMap,Sv=new WeakSet,TT=async function(e,t){y(this,$r)||O(this,$r,new Map);let i=y(this,$r).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${y(this,Tv)}_${ua(this,ax)._++}`,refCounter:0,isSvg:!1});let s;if(typeof t=="string"?(i.url=t,s=await uA(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){const r=vj._isSVGFittingCanvas,a=new FileReader,l=new Image,c=new Promise((h,f)=>{l.onload=()=>{i.bitmap=l,i.isSvg=!0,h()},a.onload=async()=>{const p=i.svgUrl=a.result;l.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},l.onerror=a.onerror=f});a.readAsDataURL(s),await c}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Jt(s),i=null}return y(this,$r).set(e,i),i&&y(this,$r).set(i.id,i),i};let bI=vj;var as,uf,ox,Oi;class hEe{constructor(e=128){G(this,as,[]);G(this,uf,!1);G(this,ox);G(this,Oi,-1);O(this,ox,e)}add({cmd:e,undo:t,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:l=!1}){if(s&&e(),y(this,uf))return;const c={cmd:e,undo:t,post:i,type:r};if(y(this,Oi)===-1){y(this,as).length>0&&(y(this,as).length=0),O(this,Oi,0),y(this,as).push(c);return}if(a&&y(this,as)[y(this,Oi)].type===r){l&&(c.undo=y(this,as)[y(this,Oi)].undo),y(this,as)[y(this,Oi)]=c;return}const h=y(this,Oi)+1;h===y(this,ox)?y(this,as).splice(0,1):(O(this,Oi,h),h<y(this,as).length&&y(this,as).splice(h)),y(this,as).push(c)}undo(){if(y(this,Oi)===-1)return;O(this,uf,!0);const{undo:e,post:t}=y(this,as)[y(this,Oi)];e(),t==null||t(),O(this,uf,!1),O(this,Oi,y(this,Oi)-1)}redo(){if(y(this,Oi)<y(this,as).length-1){O(this,Oi,y(this,Oi)+1),O(this,uf,!0);const{cmd:e,post:t}=y(this,as)[y(this,Oi)];e(),t==null||t(),O(this,uf,!1)}}hasSomethingToUndo(){return y(this,Oi)!==-1}hasSomethingToRedo(){return y(this,Oi)<y(this,as).length-1}cleanType(e){if(y(this,Oi)!==-1){for(let t=y(this,Oi);t>=0;t--)if(y(this,as)[t].type!==e){y(this,as).splice(t+1,y(this,Oi)-t),O(this,Oi,t);return}y(this,as).length=0,O(this,Oi,-1)}}destroy(){O(this,as,null)}}as=new WeakMap,uf=new WeakMap,ox=new WeakMap,Oi=new WeakMap;var pC,IW;class dA{constructor(e){G(this,pC);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ir.platform;for(const[i,s,r={}]of e)for(const a of i){const l=a.startsWith("mac+");t&&l?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!t&&!l&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(W(this,pC,IW).call(this,t));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:l=null}}=i;l&&!l(e,t)||(s.bind(e,...a,t)(),r||As(t))}}pC=new WeakSet,IW=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const gC=class gC{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return lEe(e),vn(this,"_colors",e)}convert(e){const t=XR(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,s]of this._colors)if(s.every((r,a)=>r===t[a]))return gC._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?Pt.makeHexColor(...t):e}};Ye(gC,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let wI=gC;var Cv,co,Vs,br,Rv,rh,kv,el,Tp,hf,df,Mv,Sp,Bc,Vl,Cp,lx,cx,Pv,ux,zc,ff,Iv,mf,Uc,yC,pf,hx,gf,Rp,Dv,yf,dx,Js,ri,ah,vf,_f,fx,mx,bf,Hc,oh,px,gx,tl,it,ST,xI,DW,NW,CT,LW,OW,jW,EI,FW,AI,TI,VW,ha,eh,BW,zW,SI,UW,$b,CI;const uv=class uv{constructor(e,t,i,s,r,a,l,c,h,f,p,v,w,E,S,C){G(this,it);G(this,Cv,new AbortController);G(this,co,null);G(this,Vs,new Map);G(this,br,new Map);G(this,Rv,null);G(this,rh,null);G(this,kv,null);G(this,el,new hEe);G(this,Tp,null);G(this,hf,null);G(this,df,null);G(this,Mv,0);G(this,Sp,new Set);G(this,Bc,null);G(this,Vl,null);G(this,Cp,new Set);Ye(this,"_editorUndoBar",null);G(this,lx,!1);G(this,cx,!1);G(this,Pv,!1);G(this,ux,null);G(this,zc,null);G(this,ff,null);G(this,Iv,null);G(this,mf,!1);G(this,Uc,null);G(this,yC,new uEe);G(this,pf,!1);G(this,hx,!1);G(this,gf,null);G(this,Rp,null);G(this,Dv,null);G(this,yf,null);G(this,dx,null);G(this,Js,Qt.NONE);G(this,ri,new Set);G(this,ah,null);G(this,vf,null);G(this,_f,null);G(this,fx,null);G(this,mx,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});G(this,bf,[0,0]);G(this,Hc,null);G(this,oh,null);G(this,px,null);G(this,gx,null);G(this,tl,null);const k=this._signal=y(this,Cv).signal;O(this,oh,e),O(this,px,t),O(this,gx,i),O(this,Rv,s),O(this,Tp,r),O(this,vf,a),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:k}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:k}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:k}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:k}),l._on("setpreference",this.onSetPreference.bind(this),{signal:k}),l._on("switchannotationeditorparams",N=>this.updateParams(N.type,N.value),{signal:k}),W(this,it,LW).call(this),W(this,it,VW).call(this),W(this,it,EI).call(this),O(this,rh,c.annotationStorage),O(this,ux,c.filterFactory),O(this,_f,h),O(this,Iv,f||null),O(this,lx,p),O(this,cx,v),O(this,Pv,w),O(this,dx,E||null),this.viewParameters={realScale:_m.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=S||null,this._supportsPinchToZoom=C!==!1}static get _keyboardManager(){const e=uv.prototype,t=a=>y(a,oh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:l})=>{if(l instanceof HTMLInputElement){const{type:c}=l;return c!=="text"&&c!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return vn(this,"_keyboardManager",new dA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&y(a,oh).contains(l)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:l})=>!(l instanceof HTMLButtonElement)&&y(a,oh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}destroy(){var e,t,i,s,r,a,l,c,h;(e=y(this,tl))==null||e.resolve(),O(this,tl,null),(t=y(this,Cv))==null||t.abort(),O(this,Cv,null),this._signal=null;for(const f of y(this,br).values())f.destroy();y(this,br).clear(),y(this,Vs).clear(),y(this,Cp).clear(),(i=y(this,yf))==null||i.clear(),O(this,co,null),y(this,ri).clear(),y(this,el).destroy(),(s=y(this,Rv))==null||s.destroy(),(r=y(this,Tp))==null||r.destroy(),(a=y(this,vf))==null||a.destroy(),(l=y(this,Uc))==null||l.hide(),O(this,Uc,null),(c=y(this,Dv))==null||c.destroy(),O(this,Dv,null),y(this,zc)&&(clearTimeout(y(this,zc)),O(this,zc,null)),y(this,Hc)&&(clearTimeout(y(this,Hc)),O(this,Hc,null)),(h=this._editorUndoBar)==null||h.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return y(this,dx)}get useNewAltTextFlow(){return y(this,cx)}get useNewAltTextWhenAddingImage(){return y(this,Pv)}get hcmFilter(){return vn(this,"hcmFilter",y(this,_f)?y(this,ux).addHCMFilter(y(this,_f).foreground,y(this,_f).background):"none")}get direction(){return vn(this,"direction",getComputedStyle(y(this,oh)).direction)}get _highlightColors(){return vn(this,"_highlightColors",y(this,Iv)?new Map(y(this,Iv).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return vn(this,"highlightColors",null);const t=new Map,i=!!y(this,_f);for(const[s,r]of e){const a=s.endsWith("_HCM");if(i&&a){t.set(s.replace("_HCM",""),r);continue}!i&&!a&&t.set(s,r)}return vn(this,"highlightColors",t)}get highlightColorNames(){return vn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),O(this,df,e)}setMainHighlightColorPicker(e){O(this,Dv,e)}editAltText(e,t=!1){var i;(i=y(this,Rv))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!y(this,Tp)}editComment(e,t){var i;(i=y(this,Tp))==null||i.open(this,e,t)}getSignature(e){var t;(t=y(this,vf))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return y(this,vf)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":O(this,Pv,t);break}}onPageChanging({pageNumber:e}){O(this,Mv,e-1)}focusMainContainer(){y(this,oh).focus()}findParent(e,t){for(const i of y(this,br).values()){const{x:s,y:r,width:a,height:l}=i.div.getBoundingClientRect();if(e>=s&&e<=s+a&&t>=r&&t<=r+l)return i}return null}disableUserSelect(e=!1){y(this,px).classList.toggle("noUserSelect",e)}addShouldRescale(e){y(this,Cp).add(e)}removeShouldRescale(e){y(this,Cp).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*_m.PDF_TO_CSS_UNITS;for(const i of y(this,Cp))i.onScaleChanging();(t=y(this,df))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a}=t,l=t.toString(),h=W(this,it,ST).call(this,t).closest(".textLayer"),f=this.getSelectionBoxes(h);if(!f)return;t.empty();const p=W(this,it,xI).call(this,h),v=y(this,Js)===Qt.NONE,w=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a,text:l}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Qt.HIGHLIGHT,w);return}w()}addToAnnotationStorage(e){!e.isEmpty()&&y(this,rh)&&!y(this,rh).has(e.id)&&y(this,rh).setValue(e.id,e)}a11yAlert(e,t=null){const i=y(this,gx);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,y(this,mf)&&(O(this,mf,!1),W(this,it,CT).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of y(this,ri))if(t.div.contains(e)){O(this,Rp,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!y(this,Rp))return;const[e,t]=y(this,Rp);O(this,Rp,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){W(this,it,EI).call(this),W(this,it,AI).call(this)}removeEditListeners(){W(this,it,FW).call(this),W(this,it,TI).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of y(this,Vl))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of y(this,Vl))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=y(this,co))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of y(this,ri)){const r=s.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const a of y(this,Vl))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Jt(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const c of i){const h=await s.deserialize(c);if(!h)return;r.push(h)}const a=()=>{for(const c of r)W(this,it,SI).call(this,c);W(this,it,CI).call(this,r)},l=()=>{for(const c of r)c.remove()};this.addCommands({cmd:a,undo:l,mustExec:!0})}catch(r){Jt(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),y(this,Js)!==Qt.NONE&&!this.isEditorHandlingKeyboard&&uv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,y(this,mf)&&(O(this,mf,!1),W(this,it,CT).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(W(this,it,OW).call(this),W(this,it,AI).call(this),W(this,it,ha).call(this,{isEditing:y(this,Js)!==Qt.NONE,isEmpty:W(this,it,$b).call(this),hasSomethingToUndo:y(this,el).hasSomethingToUndo(),hasSomethingToRedo:y(this,el).hasSomethingToRedo(),hasSelectedEditor:!1})):(W(this,it,jW).call(this),W(this,it,TI).call(this),W(this,it,ha).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!y(this,Vl)){O(this,Vl,e);for(const t of y(this,Vl))W(this,it,eh).call(this,t.defaultPropertiesToUpdate)}}getId(){return y(this,yC).id}get currentLayer(){return y(this,br).get(y(this,Mv))}getLayer(e){return y(this,br).get(e)}get currentPageIndex(){return y(this,Mv)}addLayer(e){y(this,br).set(e.pageIndex,e),y(this,pf)?e.enable():e.disable()}removeLayer(e){y(this,br).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,s=!1,r=!1){var a,l,c;if(y(this,Js)!==e&&!(y(this,tl)&&(await y(this,tl).promise,!y(this,tl)))){if(O(this,tl,Promise.withResolvers()),(a=y(this,df))==null||a.commitOrRemove(),O(this,Js,e),e===Qt.NONE){this.setEditingState(!1),W(this,it,zW).call(this),(l=this._editorUndoBar)==null||l.hide(),y(this,tl).resolve();return}e===Qt.SIGNATURE&&await((c=y(this,vf))==null?void 0:c.loadSignatures()),this.setEditingState(!0),await W(this,it,BW).call(this),this.unselectAll();for(const h of y(this,br).values())h.updateMode(e);if(!t){i&&this.addNewEditorFromKeyboard(),y(this,tl).resolve();return}for(const h of y(this,Vs).values())h.annotationElementId===t||h.id===t?(this.setSelected(h),r?h.editComment():s&&h.enterInEditMode()):h.unselect();y(this,tl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==y(this,Js)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(y(this,Vl)){switch(e){case In.CREATE:this.currentLayer.addNewEditor(t);return;case In.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(y(this,fx)||O(this,fx,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of y(this,ri))i.updateParams(e,t);else for(const i of y(this,Vl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var r;for(const a of y(this,Vs).values())a.editorType===e&&a.show(t);(((r=y(this,fx))==null?void 0:r.get(In.HIGHLIGHT_SHOW_ALL))??!0)!==t&&W(this,it,eh).call(this,[[In.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(y(this,hx)!==e){O(this,hx,e);for(const t of y(this,br).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const i of y(this,Vs).values())i.pageIndex===e&&t.push(i);return t}getEditor(e){return y(this,Vs).get(e)}addEditor(e){y(this,Vs).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(y(this,zc)&&clearTimeout(y(this,zc)),O(this,zc,setTimeout(()=>{this.focusMainContainer(),O(this,zc,null)},0))),y(this,Vs).delete(e.id),e.annotationElementId&&((t=y(this,yf))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!y(this,Sp).has(e.annotationElementId))&&((i=y(this,rh))==null||i.remove(e.id))}addDeletedAnnotationElement(e){y(this,Sp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return y(this,Sp).has(e)}removeDeletedAnnotationElement(e){y(this,Sp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){y(this,co)!==e&&(O(this,co,e),e&&W(this,it,eh).call(this,e.propertiesToUpdate))}updateUI(e){y(this,it,UW)===e&&W(this,it,eh).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){W(this,it,eh).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(y(this,ri).has(e)){y(this,ri).delete(e),e.unselect(),W(this,it,ha).call(this,{hasSelectedEditor:this.hasSelection});return}y(this,ri).add(e),e.select(),W(this,it,eh).call(this,e.propertiesToUpdate),W(this,it,ha).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=y(this,df))==null||t.commitOrRemove();for(const i of y(this,ri))i!==e&&i.unselect();y(this,ri).clear(),y(this,ri).add(e),e.select(),W(this,it,eh).call(this,e.propertiesToUpdate),W(this,it,ha).call(this,{hasSelectedEditor:!0})}isSelected(e){return y(this,ri).has(e)}get firstSelectedEditor(){return y(this,ri).values().next().value}unselect(e){e.unselect(),y(this,ri).delete(e),W(this,it,ha).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return y(this,ri).size!==0}get isEnterHandled(){return y(this,ri).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;y(this,el).undo(),W(this,it,ha).call(this,{hasSomethingToUndo:y(this,el).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:W(this,it,$b).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){y(this,el).redo(),W(this,it,ha).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:y(this,el).hasSomethingToRedo(),isEmpty:W(this,it,$b).call(this)})}addCommands(e){y(this,el).add(e),W(this,it,ha).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:W(this,it,$b).call(this)})}cleanUndoStack(e){y(this,el).cleanType(e)}delete(){var r;this.commitOrRemove();const e=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...y(this,ri)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},s=()=>{for(const a of t)W(this,it,SI).call(this,a)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=y(this,co))==null||e.commitOrRemove()}hasSomethingToControl(){return y(this,co)||this.hasSelection}selectAll(){for(const e of y(this,ri))e.commit();W(this,it,CI).call(this,y(this,Vs).values())}unselectAll(){var e;if(!(y(this,co)&&(y(this,co).commitOrRemove(),y(this,Js)!==Qt.NONE))&&!((e=y(this,df))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of y(this,ri))t.unselect();y(this,ri).clear(),W(this,it,ha).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;y(this,bf)[0]+=e,y(this,bf)[1]+=t;const[s,r]=y(this,bf),a=[...y(this,ri)],l=1e3;y(this,Hc)&&clearTimeout(y(this,Hc)),O(this,Hc,setTimeout(()=>{O(this,Hc,null),y(this,bf)[0]=y(this,bf)[1]=0,this.addCommands({cmd:()=>{for(const c of a)y(this,Vs).has(c.id)&&(c.translateInPage(s,r),c.translationDone())},undo:()=>{for(const c of a)y(this,Vs).has(c.id)&&(c.translateInPage(-s,-r),c.translationDone())},mustExec:!1})},l));for(const c of a)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),O(this,Bc,new Map);for(const e of y(this,ri))y(this,Bc).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!y(this,Bc))return!1;this.disableUserSelect(!1);const e=y(this,Bc);O(this,Bc,null);let t=!1;for(const[{x:s,y:r,pageIndex:a},l]of e)l.newX=s,l.newY=r,l.newPageIndex=a,t||(t=s!==l.savedX||r!==l.savedY||a!==l.savedPageIndex);if(!t)return!1;const i=(s,r,a,l)=>{if(y(this,Vs).has(s.id)){const c=y(this,br).get(l);c?s._setParentAndPosition(c,r,a):(s.pageIndex=l,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:l}]of e)i(s,r,a,l)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:l}]of e)i(s,r,a,l)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(y(this,Bc))for(const i of y(this,Bc).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||y(this,ri).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return y(this,co)===e}getActive(){return y(this,co)}getMode(){return y(this,Js)}get imageManager(){return vn(this,"imageManager",new bI)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:a}=e.getBoundingClientRect();let l;switch(e.getAttribute("data-main-rotation")){case"90":l=(h,f,p,v)=>({x:(f-s)/a,y:1-(h+p-i)/r,width:v/a,height:p/r});break;case"180":l=(h,f,p,v)=>({x:1-(h+p-i)/r,y:1-(f+v-s)/a,width:p/r,height:v/a});break;case"270":l=(h,f,p,v)=>({x:1-(f+v-s)/a,y:(h-i)/r,width:v/a,height:p/r});break;default:l=(h,f,p,v)=>({x:(h-i)/r,y:(f-s)/a,width:p/r,height:v/a});break}const c=[];for(let h=0,f=t.rangeCount;h<f;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:v,y:w,width:E,height:S}of p.getClientRects())E===0||S===0||c.push(l(v,w,E,S))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(y(this,kv)||O(this,kv,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=y(this,kv))==null||t.delete(e)}renderAnnotationElement(e){var s;const t=(s=y(this,kv))==null?void 0:s.get(e.data.id);if(!t)return;const i=y(this,rh).getRawValue(t);i&&(y(this,Js)===Qt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var r;const s=(r=y(this,yf))==null?void 0:r.get(e);s&&(s.setCanvas(t,i),y(this,yf).delete(e))}addMissingCanvas(e,t){(y(this,yf)||O(this,yf,new Map)).set(e,t)}};Cv=new WeakMap,co=new WeakMap,Vs=new WeakMap,br=new WeakMap,Rv=new WeakMap,rh=new WeakMap,kv=new WeakMap,el=new WeakMap,Tp=new WeakMap,hf=new WeakMap,df=new WeakMap,Mv=new WeakMap,Sp=new WeakMap,Bc=new WeakMap,Vl=new WeakMap,Cp=new WeakMap,lx=new WeakMap,cx=new WeakMap,Pv=new WeakMap,ux=new WeakMap,zc=new WeakMap,ff=new WeakMap,Iv=new WeakMap,mf=new WeakMap,Uc=new WeakMap,yC=new WeakMap,pf=new WeakMap,hx=new WeakMap,gf=new WeakMap,Rp=new WeakMap,Dv=new WeakMap,yf=new WeakMap,dx=new WeakMap,Js=new WeakMap,ri=new WeakMap,ah=new WeakMap,vf=new WeakMap,_f=new WeakMap,fx=new WeakMap,mx=new WeakMap,bf=new WeakMap,Hc=new WeakMap,oh=new WeakMap,px=new WeakMap,gx=new WeakMap,tl=new WeakMap,it=new WeakSet,ST=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},xI=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of y(this,br).values())if(i.hasTextLayer(e))return i;return null},DW=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=W(this,it,ST).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(y(this,Uc)||O(this,Uc,new cEe(this)),y(this,Uc).show(i,s,this.direction==="ltr"))},NW=function(){var r,a,l;const e=document.getSelection();if(!e||e.isCollapsed){y(this,ah)&&((r=y(this,Uc))==null||r.hide(),O(this,ah,null),W(this,it,ha).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===y(this,ah))return;const s=W(this,it,ST).call(this,e).closest(".textLayer");if(!s){y(this,ah)&&((a=y(this,Uc))==null||a.hide(),O(this,ah,null),W(this,it,ha).call(this,{hasSelectedText:!1}));return}if((l=y(this,Uc))==null||l.hide(),O(this,ah,t),W(this,it,ha).call(this,{hasSelectedText:!0}),!(y(this,Js)!==Qt.HIGHLIGHT&&y(this,Js)!==Qt.NONE)&&(y(this,Js)===Qt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),O(this,mf,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=y(this,Js)===Qt.HIGHLIGHT?W(this,it,xI).call(this,s):null;c==null||c.toggleDrawing();const h=new AbortController,f=this.combinedSignal(h),p=v=>{v.type==="pointerup"&&v.button!==0||(h.abort(),c==null||c.toggleDrawing(!0),v.type==="pointerup"&&W(this,it,CT).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},CT=function(e=""){y(this,Js)===Qt.HIGHLIGHT?this.highlightSelection(e):y(this,lx)&&W(this,it,DW).call(this)},LW=function(){document.addEventListener("selectionchange",W(this,it,NW).bind(this),{signal:this._signal})},OW=function(){if(y(this,ff))return;O(this,ff,new AbortController);const e=this.combinedSignal(y(this,ff));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},jW=function(){var e;(e=y(this,ff))==null||e.abort(),O(this,ff,null)},EI=function(){if(y(this,gf))return;O(this,gf,new AbortController);const e=this.combinedSignal(y(this,gf));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},FW=function(){var e;(e=y(this,gf))==null||e.abort(),O(this,gf,null)},AI=function(){if(y(this,hf))return;O(this,hf,new AbortController);const e=this.combinedSignal(y(this,hf));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},TI=function(){var e;(e=y(this,hf))==null||e.abort(),O(this,hf,null)},VW=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ha=function(e){Object.entries(e).some(([i,s])=>y(this,mx)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(y(this,mx),e)}),y(this,Js)===Qt.HIGHLIGHT&&e.hasSelectedEditor===!1&&W(this,it,eh).call(this,[[In.HIGHLIGHT_FREE,!0]]))},eh=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},BW=async function(){if(!y(this,pf)){O(this,pf,!0);const e=[];for(const t of y(this,br).values())e.push(t.enable());await Promise.all(e);for(const t of y(this,Vs).values())t.enable()}},zW=function(){if(this.unselectAll(),y(this,pf)){O(this,pf,!1);for(const e of y(this,br).values())e.disable();for(const e of y(this,Vs).values())e.disable()}},SI=function(e){const t=y(this,br).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},UW=function(){let e=null;for(e of y(this,ri));return e},$b=function(){if(y(this,Vs).size===0)return!0;if(y(this,Vs).size===1)for(const e of y(this,Vs).values())return e.isEmpty();return!1},CI=function(e){for(const t of y(this,ri))t.unselect();y(this,ri).clear();for(const t of e)t.isEmpty()||(y(this,ri).add(t),t.select());W(this,it,ha).call(this,{hasSelectedEditor:this.hasSelection})},Ye(uv,"TRANSLATE_SMALL",1),Ye(uv,"TRANSLATE_BIG",10);let Ug=uv;var er,$c,Bl,Nv,qc,uo,Lv,Gc,Da,lh,kp,Wc,wf,ac,qb,RT;const da=class da{constructor(e){G(this,ac);G(this,er,null);G(this,$c,!1);G(this,Bl,null);G(this,Nv,null);G(this,qc,null);G(this,uo,null);G(this,Lv,!1);G(this,Gc,null);G(this,Da,null);G(this,lh,null);G(this,kp,null);G(this,Wc,!1);O(this,Da,e),O(this,Wc,e._uiManager.useNewAltTextFlow),y(da,wf)||O(da,wf,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){da._l10n??(da._l10n=e)}async render(){const e=O(this,Bl,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=O(this,Nv,document.createElement("span"));e.append(t),y(this,Wc)?(e.classList.add("new"),e.setAttribute("data-l10n-id",y(da,wf).missing),t.setAttribute("data-l10n-id",y(da,wf)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=y(this,Da)._uiManager._signal;e.addEventListener("contextmenu",_l,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),y(this,Da)._uiManager.editAltText(y(this,Da)),y(this,Wc)&&y(this,Da)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:y(this,ac,qb)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(O(this,Lv,!0),s(r))},{signal:i}),await W(this,ac,RT).call(this),e}finish(){y(this,Bl)&&(y(this,Bl).focus({focusVisible:y(this,Lv)}),O(this,Lv,!1))}isEmpty(){return y(this,Wc)?y(this,er)===null:!y(this,er)&&!y(this,$c)}hasData(){return y(this,Wc)?y(this,er)!==null||!!y(this,lh):this.isEmpty()}get guessedText(){return y(this,lh)}async setGuessedText(e){y(this,er)===null&&(O(this,lh,e),O(this,kp,await da._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),W(this,ac,RT).call(this))}toggleAltTextBadge(e=!1){var t;if(!y(this,Wc)||y(this,er)){(t=y(this,Gc))==null||t.remove(),O(this,Gc,null);return}if(!y(this,Gc)){const i=O(this,Gc,document.createElement("div"));i.className="noAltTextBadge",y(this,Da).div.append(i)}y(this,Gc).classList.toggle("hidden",!e)}serialize(e){let t=y(this,er);return!e&&y(this,lh)===t&&(t=y(this,kp)),{altText:t,decorative:y(this,$c),guessedText:y(this,lh),textWithDisclaimer:y(this,kp)}}get data(){return{altText:y(this,er),decorative:y(this,$c)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(O(this,lh,i),O(this,kp,s)),!(y(this,er)===e&&y(this,$c)===t)&&(r||(O(this,er,e),O(this,$c,t)),W(this,ac,RT).call(this))}toggle(e=!1){y(this,Bl)&&(!e&&y(this,uo)&&(clearTimeout(y(this,uo)),O(this,uo,null)),y(this,Bl).disabled=!e)}shown(){y(this,Da)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:y(this,ac,qb)}})}destroy(){var e,t;(e=y(this,Bl))==null||e.remove(),O(this,Bl,null),O(this,Nv,null),O(this,qc,null),(t=y(this,Gc))==null||t.remove(),O(this,Gc,null)}};er=new WeakMap,$c=new WeakMap,Bl=new WeakMap,Nv=new WeakMap,qc=new WeakMap,uo=new WeakMap,Lv=new WeakMap,Gc=new WeakMap,Da=new WeakMap,lh=new WeakMap,kp=new WeakMap,Wc=new WeakMap,wf=new WeakMap,ac=new WeakSet,qb=function(){return y(this,er)&&"added"||y(this,er)===null&&this.guessedText&&"review"||"missing"},RT=async function(){var s,r,a;const e=y(this,Bl);if(!e)return;if(y(this,Wc)){if(e.classList.toggle("done",!!y(this,er)),e.setAttribute("data-l10n-id",y(da,wf)[y(this,ac,qb)]),(s=y(this,Nv))==null||s.setAttribute("data-l10n-id",y(da,wf)[`${y(this,ac,qb)}-label`]),!y(this,er)){(r=y(this,qc))==null||r.remove();return}}else{if(!y(this,er)&&!y(this,$c)){e.classList.remove("done"),(a=y(this,qc))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=y(this,qc);if(!t){O(this,qc,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${y(this,Da).id}`;const l=100,c=y(this,Da)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(y(this,uo)),O(this,uo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{O(this,uo,setTimeout(()=>{O(this,uo,null),y(this,qc).classList.add("show"),y(this,Da)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),e.addEventListener("mouseleave",()=>{var h;y(this,uo)&&(clearTimeout(y(this,uo)),O(this,uo,null)),(h=y(this,qc))==null||h.classList.remove("show")},{signal:c})}y(this,$c)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=y(this,er)),t.parentNode||e.append(t);const i=y(this,Da).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},G(da,wf,null),Ye(da,"_l10n",null);let eC=da;var Kc,Mp,zl,yx,ch,Ov,xf;class H1{constructor(e){G(this,Kc,null);G(this,Mp,!1);G(this,zl,null);G(this,yx,null);G(this,ch,null);G(this,Ov,null);G(this,xf,!1);O(this,zl,e),this.toolbar=null}render(){if(!y(this,zl)._uiManager.hasCommentManager())return null;const e=O(this,Kc,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=y(this,zl)._uiManager._signal;e.addEventListener("contextmenu",_l,{signal:t}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:t});const i=s=>{s.preventDefault(),this.edit()};return e.addEventListener("click",i,{capture:!0,signal:t}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(O(this,Mp,!0),i(s))},{signal:t}),e}edit(){const{bottom:e,left:t,right:i}=y(this,zl).getClientDimensions(),s={top:e};y(this,zl)._uiManager.direction==="ltr"?s.right=i:s.left=t,y(this,zl)._uiManager.editComment(y(this,zl),s)}finish(){y(this,Kc)&&(y(this,Kc).focus({focusVisible:y(this,Mp)}),O(this,Mp,!1))}isDeleted(){return y(this,xf)||y(this,ch)===""}hasBeenEdited(){return this.isDeleted()||y(this,ch)!==y(this,yx)}serialize(){return this.data}get data(){return{text:y(this,ch),date:y(this,Ov),deleted:y(this,xf)}}set data(e){if(e===null){O(this,ch,""),O(this,xf,!0);return}O(this,ch,e),O(this,Ov,new Date),O(this,xf,!1)}setInitialText(e){O(this,yx,e),this.data=e}toggle(e=!1){y(this,Kc)&&(y(this,Kc).disabled=!e)}shown(){}destroy(){var e;(e=y(this,Kc))==null||e.remove(),O(this,Kc,null),O(this,ch,""),O(this,Ov,null),O(this,zl,null),O(this,Mp,!1),O(this,xf,!1)}}Kc=new WeakMap,Mp=new WeakMap,zl=new WeakMap,yx=new WeakMap,ch=new WeakMap,Ov=new WeakMap,xf=new WeakMap;var jv,Pp,vx,_x,bx,wx,xx,uh,Ip,hh,Dp,dh,Em,HW,$W,qW;const _j=class _j{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:l}){G(this,Em);G(this,jv);G(this,Pp,!1);G(this,vx,null);G(this,_x);G(this,bx);G(this,wx);G(this,xx);G(this,uh,null);G(this,Ip);G(this,hh,null);G(this,Dp);G(this,dh,null);O(this,jv,e),O(this,vx,i),O(this,_x,t),O(this,bx,s),O(this,wx,r),O(this,xx,a),O(this,Dp,new AbortController),O(this,Ip,AbortSignal.any([l,y(this,Dp).signal])),e.addEventListener("touchstart",W(this,Em,HW).bind(this),{passive:!1,signal:y(this,Ip)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Su.pixelRatio}destroy(){var e,t;(e=y(this,Dp))==null||e.abort(),O(this,Dp,null),(t=y(this,uh))==null||t.abort(),O(this,uh,null)}};jv=new WeakMap,Pp=new WeakMap,vx=new WeakMap,_x=new WeakMap,bx=new WeakMap,wx=new WeakMap,xx=new WeakMap,uh=new WeakMap,Ip=new WeakMap,hh=new WeakMap,Dp=new WeakMap,dh=new WeakMap,Em=new WeakSet,HW=function(e){var s,r,a;if((s=y(this,_x))!=null&&s.call(this))return;if(e.touches.length===1){if(y(this,uh))return;const l=O(this,uh,new AbortController),c=AbortSignal.any([y(this,Ip),l.signal]),h=y(this,jv),f={capture:!0,signal:c,passive:!1},p=v=>{var w;v.pointerType==="touch"&&((w=y(this,uh))==null||w.abort(),O(this,uh,null))};h.addEventListener("pointerdown",v=>{v.pointerType==="touch"&&(As(v),p(v))},f),h.addEventListener("pointerup",p,f),h.addEventListener("pointercancel",p,f);return}if(!y(this,dh)){O(this,dh,new AbortController);const l=AbortSignal.any([y(this,Ip),y(this,dh).signal]),c=y(this,jv),h={signal:l,capture:!1,passive:!1};c.addEventListener("touchmove",W(this,Em,$W).bind(this),h);const f=W(this,Em,qW).bind(this);c.addEventListener("touchend",f,h),c.addEventListener("touchcancel",f,h),h.capture=!0,c.addEventListener("pointerdown",As,h),c.addEventListener("pointermove",As,h),c.addEventListener("pointercancel",As,h),c.addEventListener("pointerup",As,h),(r=y(this,bx))==null||r.call(this)}if(As(e),e.touches.length!==2||(a=y(this,vx))!=null&&a.call(this)){O(this,hh,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),O(this,hh,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},$W=function(e){var z;if(!y(this,hh)||e.touches.length!==2)return;As(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:s,screenY:r}=t,{screenX:a,screenY:l}=i,c=y(this,hh),{touch0X:h,touch0Y:f,touch1X:p,touch1Y:v}=c,w=p-h,E=v-f,S=a-s,C=l-r,k=Math.hypot(S,C)||1,N=Math.hypot(w,E)||1;if(!y(this,Pp)&&Math.abs(N-k)<=_j.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=s,c.touch0Y=r,c.touch1X=a,c.touch1Y=l,!y(this,Pp)){O(this,Pp,!0);return}const I=[(s+a)/2,(r+l)/2];(z=y(this,wx))==null||z.call(this,I,N,k)},qW=function(e){var t;e.touches.length>=2||(y(this,dh)&&(y(this,dh).abort(),O(this,dh,null),(t=y(this,xx))==null||t.call(this)),y(this,hh)&&(As(e),O(this,hh,null),O(this,Pp,!1)))};let tC=_j;var Np,Ul,Mi,wr,Fv,Ef,Ex,Lp,xr,Op,fh,Af,Ax,jp,ho,Tx,Fp,mh,Yc,Vv,Bv,nl,Vp,Sx,vC,Bt,RI,Cx,kI,kT,GW,WW,MI,MT,PI,KW,YW,ZW,II,XW,DI,QW,JW,eK,NI,Gb;const dn=class dn{constructor(e){G(this,Bt);G(this,Np,null);G(this,Ul,null);G(this,Mi,null);G(this,wr,null);G(this,Fv,!1);G(this,Ef,null);G(this,Ex,"");G(this,Lp,!1);G(this,xr,null);G(this,Op,null);G(this,fh,null);G(this,Af,null);G(this,Ax,"");G(this,jp,!1);G(this,ho,null);G(this,Tx,!1);G(this,Fp,!1);G(this,mh,!1);G(this,Yc,null);G(this,Vv,0);G(this,Bv,0);G(this,nl,null);G(this,Vp,null);Ye(this,"isSelected",!1);Ye(this,"_isCopy",!1);Ye(this,"_editToolbar",null);Ye(this,"_initialOptions",Object.create(null));Ye(this,"_initialData",null);Ye(this,"_isVisible",!0);Ye(this,"_uiManager",null);Ye(this,"_focusEventsAllowed",!0);G(this,Sx,!1);G(this,vC,dn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,a];const[l,c]=this.parentDimensions;this.x=e.x/l,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=dn.prototype._resizeWithKeyboard,t=Ug.TRANSLATE_SMALL,i=Ug.TRANSLATE_BIG;return vn(this,"_resizerKeyboardManager",new dA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],dn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return vn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new dEe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(dn._l10n??(dn._l10n=e),dn._l10nResizer||(dn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),dn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);dn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){fi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return y(this,Sx)}set _isDraggable(e){var t;O(this,Sx,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=y(this,vC)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):W(this,Bt,Gb).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(y(this,jp)?O(this,jp,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){const[r,a]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(t+s)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s),this._onTranslated()}translate(e,t){W(this,Bt,RI).call(this,this.parentDimensions,e,t)}translateInPage(e,t){y(this,ho)||O(this,ho,[this.x,this.y,this.width,this.height]),W(this,Bt,RI).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){y(this,ho)||O(this,ho,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=e/s,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,h]=this.getBaseTranslation();a+=c,l+=h;const{style:f}=i;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*l).toFixed(2)}%`,this._onTranslating(a,l),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!y(this,ho)&&(y(this,ho)[0]!==this.x||y(this,ho)[1]!==this.y)}get _hasBeenResized(){return!!y(this,ho)&&(y(this,ho)[2]!==this.width||y(this,ho)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=dn,s=i/e,r=i/t;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,s]}=this;let{x:r,y:a,width:l,height:c}=this;if(l*=i,c*=s,r*=i,a*=s,this._mustFixPosition)switch(e){case 0:r=ya(r,0,i-l),a=ya(a,0,s-c);break;case 90:r=ya(r,0,i-c),a=ya(a,l,s);break;case 180:r=ya(r,l,i),a=ya(a,c,s);break;case 270:r=ya(r,c,i),a=ya(a,0,s-l);break}this.x=r/=i,this.y=a/=s;const[h,f]=this.getBaseTranslation();r+=h,a+=f,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return W(i=dn,Cx,kI).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return W(i=dn,Cx,kI).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){const[i,s]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/i).toFixed(2)}%`,y(this,Lp)||(r.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),r=!y(this,Lp)&&t.endsWith("%");if(s&&r)return;const[a,l]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!y(this,Lp)&&!r&&(e.height=`${(100*parseFloat(t)/l).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=y(this,Mi))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||y(this,Fp))return this._editToolbar;this._editToolbar=new _I(this),this.div.append(this._editToolbar.render()),this._editToolbar.addButton("comment",this.addCommentButton());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=y(this,Mi))==null||e.destroy())}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return y(this,Mi)||(eC.initialize(dn._l10n),O(this,Mi,new eC(this)),y(this,Np)&&(y(this,Mi).data=y(this,Np),O(this,Np,null))),y(this,Mi)}get altTextData(){var e;return(e=y(this,Mi))==null?void 0:e.data}set altTextData(e){y(this,Mi)&&(y(this,Mi).data=e)}get guessedAltText(){var e;return(e=y(this,Mi))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=y(this,Mi))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=y(this,Mi))==null?void 0:t.serialize(e)}hasAltText(){return!!y(this,Mi)&&!y(this,Mi).isEmpty()}hasAltTextData(){var e;return((e=y(this,Mi))==null?void 0:e.hasData())??!1}addCommentButton(){return y(this,wr)?y(this,wr):O(this,wr,new H1(this))}get commentColor(){return null}get comment(){const e=y(this,wr);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){y(this,wr)||O(this,wr,new H1(this)),y(this,wr).data=e}setCommentData(e){y(this,wr)||O(this,wr,new H1(this)),y(this,wr).setInitialText(e)}get hasEditedComment(){var e;return(e=y(this,wr))==null?void 0:e.hasBeenEdited()}async editComment(){y(this,wr)||O(this,wr,new H1(this)),y(this,wr).edit()}addComment(e){this.hasEditedComment&&(e.popup={contents:this.comment.text,deleted:this.comment.deleted})}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=y(this,Fv)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),W(this,Bt,DI).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),PW(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(y(this,Vp)||O(this,Vp,new tC({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:W(this,Bt,KW).bind(this),onPinching:W(this,Bt,YW).bind(this),onPinchEnd:W(this,Bt,ZW).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=Ir.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(O(this,jp,!0),this._isDraggable){W(this,Bt,XW).call(this,e);return}W(this,Bt,II).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){y(this,Yc)&&clearTimeout(y(this,Yc)),O(this,Yc,setTimeout(()=>{var e;O(this,Yc,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[l,c]=this.pageTranslation,h=e/s,f=t/s,p=this.x*r,v=this.y*a,w=this.width*r,E=this.height*a;switch(i){case 0:return[p+h+l,a-v-f-E+c,p+h+w+l,a-v-f+c];case 90:return[p+f+l,a-v+h+c,p+f+E+l,a-v+h+w+c];case 180:return[p-h-w+l,a-v+f+c,p-h+l,a-v+f+E+c];case 270:return[p-f-E+l,a-v-h-w+c,p-f+l,a-v-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,s,r,a]=e,l=r-i,c=a-s;switch(this.rotation){case 0:return[i,t-a,l,c];case 90:return[i,t-s,c,l];case 180:return[r,t-s,l,c];case 270:return[r,t-a,c,l];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),O(this,Fp,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),O(this,Fp,!1),!0):!1}isInEditMode(){return y(this,Fp)}shouldGetKeyboardEvents(){return y(this,mh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return t<a&&s>0&&e<r&&i>0}rebuild(){W(this,Bt,DI).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){fi("An editor must be serializable")}static async deserialize(e,t,i){const s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId});s.rotation=e.rotation,O(s,Np,e.accessibilityData),s._isCopy=e.isCopy||!1;const[r,a]=s.pageDimensions,[l,c,h,f]=s.getRectInCurrentCoords(e.rect,a);return s.x=l/r,s.y=c/a,s.width=h/r,s.height=f/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=y(this,Af))==null||e.abort(),O(this,Af,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),y(this,Yc)&&(clearTimeout(y(this,Yc)),O(this,Yc,null)),W(this,Bt,Gb).call(this),this.removeEditToolbar(),y(this,nl)){for(const i of y(this,nl).values())clearTimeout(i);O(this,nl,null)}this.parent=null,(t=y(this,Vp))==null||t.destroy(),O(this,Vp,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(W(this,Bt,GW).call(this),y(this,xr).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),O(this,fh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=y(this,xr).children;if(!y(this,Ul)){O(this,Ul,Array.from(t));const a=W(this,Bt,QW).bind(this),l=W(this,Bt,JW).bind(this),c=this._uiManager._signal;for(const h of y(this,Ul)){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",a,{signal:c}),h.addEventListener("blur",l,{signal:c}),h.addEventListener("focus",W(this,Bt,eK).bind(this,f),{signal:c}),h.setAttribute("data-l10n-id",dn._l10nResizer[f])}}const i=y(this,Ul)[0];let s=0;for(const a of t){if(a===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(y(this,Ul).length/4);if(r!==s){if(r<s)for(let l=0;l<s-r;l++)y(this,xr).append(y(this,xr).firstChild);else if(r>s)for(let l=0;l<r-s;l++)y(this,xr).firstChild.before(y(this,xr).lastChild);let a=0;for(const l of t){const h=y(this,Ul)[a++].getAttribute("data-resizer-name");l.setAttribute("data-l10n-id",dn._l10nResizer[h])}}W(this,Bt,NI).call(this,0),O(this,mh,!0),y(this,xr).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){y(this,mh)&&W(this,Bt,PI).call(this,y(this,Ax),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){W(this,Bt,Gb).call(this),this.div.focus()}select(){var e,t,i;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(t=this._editToolbar)==null||t.show(),(i=y(this,Mi))==null||i.toggleAltTextBadge(!1)}}unselect(){var e,t,i,s,r;this.isSelected&&(this.isSelected=!1,(e=y(this,xr))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=y(this,Mi))==null||r.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return y(this,Tx)}set isEditing(e){O(this,Tx,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){O(this,Lp,!0);const i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){y(this,nl)||O(this,nl,new Map);const{action:i}=e;let s=y(this,nl).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),y(this,nl).delete(i),y(this,nl).size===0&&O(this,nl,null)},dn._telemetryTimeout),y(this,nl).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),O(this,Fv,!1)}disable(){this.div&&(this.div.tabIndex=-1),O(this,Fv,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Np=new WeakMap,Ul=new WeakMap,Mi=new WeakMap,wr=new WeakMap,Fv=new WeakMap,Ef=new WeakMap,Ex=new WeakMap,Lp=new WeakMap,xr=new WeakMap,Op=new WeakMap,fh=new WeakMap,Af=new WeakMap,Ax=new WeakMap,jp=new WeakMap,ho=new WeakMap,Tx=new WeakMap,Fp=new WeakMap,mh=new WeakMap,Yc=new WeakMap,Vv=new WeakMap,Bv=new WeakMap,nl=new WeakMap,Vp=new WeakMap,Sx=new WeakMap,vC=new WeakMap,Bt=new WeakSet,RI=function([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Cx=new WeakSet,kI=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},kT=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},GW=function(){if(y(this,xr))return;O(this,xr,document.createElement("div")),y(this,xr).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const s=document.createElement("div");y(this,xr).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",W(this,Bt,WW).bind(this,i),{signal:t}),s.addEventListener("contextmenu",_l,{signal:t}),s.tabIndex=-1}this.div.prepend(y(this,xr))},WW=function(e,t){var f;t.preventDefault();const{isMac:i}=Ir.platform;if(t.button!==0||t.ctrlKey&&i)return;(f=y(this,Mi))==null||f.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,O(this,Op,[t.screenX,t.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",W(this,Bt,PI).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",As,{passive:!1,signal:a}),window.addEventListener("contextmenu",_l,{signal:a}),O(this,fh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const l=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{var p;r.abort(),this.parent.togglePointerEvents(!0),(p=y(this,Mi))==null||p.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=l,this.div.style.cursor=c,W(this,Bt,MT).call(this)};window.addEventListener("pointerup",h,{signal:a}),window.addEventListener("blur",h,{signal:a})},MI=function(e,t,i,s){this.width=i,this.height=s,this.x=e,this.y=t;const[r,a]=this.parentDimensions;this.setDims(r*i,a*s),this.fixAndSetPosition(),this._onResized()},MT=function(){if(!y(this,fh))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=y(this,fh);O(this,fh,null);const r=this.x,a=this.y,l=this.width,c=this.height;r===e&&a===t&&l===i&&c===s||this.addCommands({cmd:W(this,Bt,MI).bind(this,r,a,l,c),undo:W(this,Bt,MI).bind(this,e,t,i,s),mustExec:!0})},PI=function(e,t){const[i,s]=this.parentDimensions,r=this.x,a=this.y,l=this.width,c=this.height,h=dn.MIN_SIZE/i,f=dn.MIN_SIZE/s,p=W(this,Bt,kT).call(this,this.rotation),v=(ee,se)=>[p[0]*ee+p[2]*se,p[1]*ee+p[3]*se],w=W(this,Bt,kT).call(this,360-this.rotation),E=(ee,se)=>[w[0]*ee+w[2]*se,w[1]*ee+w[3]*se];let S,C,k=!1,N=!1;switch(e){case"topLeft":k=!0,S=(ee,se)=>[0,0],C=(ee,se)=>[ee,se];break;case"topMiddle":S=(ee,se)=>[ee/2,0],C=(ee,se)=>[ee/2,se];break;case"topRight":k=!0,S=(ee,se)=>[ee,0],C=(ee,se)=>[0,se];break;case"middleRight":N=!0,S=(ee,se)=>[ee,se/2],C=(ee,se)=>[0,se/2];break;case"bottomRight":k=!0,S=(ee,se)=>[ee,se],C=(ee,se)=>[0,0];break;case"bottomMiddle":S=(ee,se)=>[ee/2,se],C=(ee,se)=>[ee/2,0];break;case"bottomLeft":k=!0,S=(ee,se)=>[0,se],C=(ee,se)=>[ee,0];break;case"middleLeft":N=!0,S=(ee,se)=>[0,se/2],C=(ee,se)=>[ee,se/2];break}const I=S(l,c),z=C(l,c);let V=v(...z);const H=dn._round(r+V[0]),B=dn._round(a+V[1]);let j=1,q=1,Y,Z;if(t.fromKeyboard)({deltaX:Y,deltaY:Z}=t);else{const{screenX:ee,screenY:se}=t,[ie,Te]=y(this,Op);[Y,Z]=this.screenToPageTranslation(ee-ie,se-Te),y(this,Op)[0]=ee,y(this,Op)[1]=se}if([Y,Z]=E(Y/i,Z/s),k){const ee=Math.hypot(l,c);j=q=Math.max(Math.min(Math.hypot(z[0]-I[0]-Y,z[1]-I[1]-Z)/ee,1/l,1/c),h/l,f/c)}else N?j=ya(Math.abs(z[0]-I[0]-Y),h,1)/l:q=ya(Math.abs(z[1]-I[1]-Z),f,1)/c;const ne=dn._round(l*j),Q=dn._round(c*q);V=v(...C(ne,Q));const _e=H-V[0],Le=B-V[1];y(this,ho)||O(this,ho,[this.x,this.y,this.width,this.height]),this.width=ne,this.height=Q,this.x=_e,this.y=Le,this.setDims(i*ne,s*Q),this.fixAndSetPosition(),this._onResizing()},KW=function(){var e;O(this,fh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=y(this,Mi))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},YW=function(e,t,i){let r=.7*(i/t)+1-.7;if(r===1)return;const a=W(this,Bt,kT).call(this,this.rotation),l=(H,B)=>[a[0]*H+a[2]*B,a[1]*H+a[3]*B],[c,h]=this.parentDimensions,f=this.x,p=this.y,v=this.width,w=this.height,E=dn.MIN_SIZE/c,S=dn.MIN_SIZE/h;r=Math.max(Math.min(r,1/v,1/w),E/v,S/w);const C=dn._round(v*r),k=dn._round(w*r);if(C===v&&k===w)return;y(this,ho)||O(this,ho,[f,p,v,w]);const N=l(v/2,w/2),I=dn._round(f+N[0]),z=dn._round(p+N[1]),V=l(C/2,k/2);this.x=I-V[0],this.y=z-V[1],this.width=C,this.height=k,this.setDims(c*C,h*k),this.fixAndSetPosition(),this._onResizing()},ZW=function(){var e;(e=y(this,Mi))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),W(this,Bt,MT).call(this)},II=function(e){const{isMac:t}=Ir.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},XW=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:r},l=h=>{s.abort(),O(this,Ef,null),O(this,jp,!1),this._uiManager.endDragSession()||W(this,Bt,II).call(this,h),i&&this._onStopDragging()};t&&(O(this,Vv,e.clientX),O(this,Bv,e.clientY),O(this,Ef,e.pointerId),O(this,Ex,e.pointerType),window.addEventListener("pointermove",h=>{i||(i=!0,this._onStartDragging());const{clientX:f,clientY:p,pointerId:v}=h;if(v!==y(this,Ef)){As(h);return}const[w,E]=this.screenToPageTranslation(f-y(this,Vv),p-y(this,Bv));O(this,Vv,f),O(this,Bv,p),this._uiManager.dragSelectedEditors(w,E)},a),window.addEventListener("touchmove",As,a),window.addEventListener("pointerdown",h=>{h.pointerType===y(this,Ex)&&(y(this,Vp)||h.isPrimary)&&l(h),As(h)},a));const c=h=>{if(!y(this,Ef)||y(this,Ef)===h.pointerId){l(h);return}As(h)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})},DI=function(){if(y(this,Af)||!this.div)return;O(this,Af,new AbortController);const e=this._uiManager.combinedSignal(y(this,Af));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},QW=function(e){dn._resizerKeyboardManager.exec(this,e)},JW=function(e){var t;y(this,mh)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==y(this,xr)&&W(this,Bt,Gb).call(this)},eK=function(e){O(this,Ax,y(this,mh)?e:"")},NI=function(e){if(y(this,Ul))for(const t of y(this,Ul))t.tabIndex=e},Gb=function(){O(this,mh,!1),W(this,Bt,NI).call(this,-1),W(this,Bt,MT).call(this)},G(dn,Cx),Ye(dn,"_l10n",null),Ye(dn,"_l10nResizer",null),Ye(dn,"_borderLineWidth",-1),Ye(dn,"_colorManager",new wI),Ye(dn,"_zIndex",1),Ye(dn,"_telemetryTimeout",1e3);let Ei=dn;class dEe extends Ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const vz=3285377520,Zo=4294901760,jc=65535;class tK{constructor(e){this.h1=e?e&4294967295:vz,this.h2=e?e&4294967295:vz}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let S=0,C=e.length;S<C;S++){const k=e.charCodeAt(S);k<=255?t[i++]=k:(t[i++]=k>>>8,t[i++]=k&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(t.buffer,0,s);let l=0,c=0,h=this.h1,f=this.h2;const p=3432918353,v=461845907,w=p&jc,E=v&jc;for(let S=0;S<s;S++)S&1?(l=a[S],l=l*p&Zo|l*w&jc,l=l<<15|l>>>17,l=l*v&Zo|l*E&jc,h^=l,h=h<<13|h>>>19,h=h*5+3864292196):(c=a[S],c=c*p&Zo|c*w&jc,c=c<<15|c>>>17,c=c*v&Zo|c*E&jc,f^=c,f=f<<13|f>>>19,f=f*5+3864292196);switch(l=0,r){case 3:l^=t[s*4+2]<<16;case 2:l^=t[s*4+1]<<8;case 1:l^=t[s*4],l=l*p&Zo|l*w&jc,l=l<<15|l>>>17,l=l*v&Zo|l*E&jc,s&1?h^=l:f^=l}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Zo|e*36045&jc,t=t*4283543511&Zo|((t<<16|e>>>16)*2950163797&Zo)>>>16,e^=t>>>1,e=e*444984403&Zo|e*60499&jc,t=t*3301882366&Zo|((t<<16|e>>>16)*3120437893&Zo)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const LI=Object.freeze({map:null,hash:"",transfer:void 0});var Bp,zp,Er,_C,nK;class DO{constructor(){G(this,_C);G(this,Bp,!1);G(this,zp,null);G(this,Er,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=y(this,Er).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return y(this,Er).get(e)}remove(e){if(y(this,Er).delete(e),y(this,Er).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of y(this,Er).values())if(t instanceof Ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=y(this,Er).get(e);let s=!1;if(i!==void 0)for(const[r,a]of Object.entries(t))i[r]!==a&&(s=!0,i[r]=a);else s=!0,y(this,Er).set(e,t);s&&W(this,_C,nK).call(this),t instanceof Ei&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return y(this,Er).has(e)}get size(){return y(this,Er).size}resetModified(){y(this,Bp)&&(O(this,Bp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new iK(this)}get serializable(){if(y(this,Er).size===0)return LI;const e=new Map,t=new tK,i=[],s=Object.create(null);let r=!1;for(const[a,l]of y(this,Er)){const c=l instanceof Ei?l.serialize(!1,s):l;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:LI}get editorStats(){let e=null;const t=new Map;for(const i of y(this,Er).values()){if(!(i instanceof Ei))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[l,c]of Object.entries(s)){if(l==="type")continue;let h=a.get(l);h||(h=new Map,a.set(l,h));const f=h.get(c)??0;h.set(c,f+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){O(this,zp,null)}get modifiedIds(){if(y(this,zp))return y(this,zp);const e=[];for(const t of y(this,Er).values())!(t instanceof Ei)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return O(this,zp,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return y(this,Er).entries()}}Bp=new WeakMap,zp=new WeakMap,Er=new WeakMap,_C=new WeakSet,nK=function(){y(this,Bp)||(O(this,Bp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Rx;class iK extends DO{constructor(t){super();G(this,Rx);const{map:i,hash:s,transfer:r}=t.serializable,a=structuredClone(i,r?{transfer:r}:null);O(this,Rx,{map:a,hash:s,transfer:r})}get print(){fi("Should not call PrintAnnotationStorage.print")}get serializable(){return y(this,Rx)}get modifiedIds(){return vn(this,"modifiedIds",{ids:new Set,hash:""})}}Rx=new WeakMap;var zv;class fEe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){G(this,zv,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),y(this,zv).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||y(this,zv).has(e.loadedName))){if(Ss(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=e,l=new FontFace(s,r,a);this.addNativeFontFace(l);try{await l.load(),y(this,zv).add(s),i==null||i(e)}catch{Jt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}fi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Jt(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return vn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return vn(this,"isSyncFontLoadingSupported",ga||Ir.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ss(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return vn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(z,V){return z.charCodeAt(V)<<24|z.charCodeAt(V+1)<<16|z.charCodeAt(V+2)<<8|z.charCodeAt(V+3)&255}function s(z,V,H,B){const j=z.substring(0,V),q=z.substring(V+H);return j+B+q}let r,a;const l=this._document.createElement("canvas");l.width=1,l.height=1;const c=l.getContext("2d");let h=0;function f(z,V){if(++h>30){Jt("Load test font never loaded."),V();return}if(c.font="30px "+z,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){V();return}setTimeout(f.bind(null,z,V))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=s(v,976,p.length,p);const E=16,S=1482184792;let C=i(v,E);for(r=0,a=p.length-3;r<a;r+=4)C=C-S+i(p,r)|0;r<p.length&&(C=C-S+i(p+"XXX",r)|0),v=s(v,E,4,Xxe(C));const k=`url(data:font/opentype;base64,${btoa(v)});`,N=`@font-face {font-family:"${p}";src:${k}}`;this.insertRule(N);const I=this._document.createElement("div");I.style.visibility="hidden",I.style.width=I.style.height="10px",I.style.position="absolute",I.style.top=I.style.left="0px";for(const z of[e.loadedName,p]){const V=this._document.createElement("span");V.textContent="Hi",V.style.fontFamily=z,I.append(V)}this._document.body.append(I),f(p,()=>{I.remove(),t.complete()})}}zv=new WeakMap;class mEe{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this._inspectFont=t}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${AW(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let s;try{s=e.get(i)}catch(a){Jt(`getPathGenerator - ignoring character: "${a}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=r}}function pEe(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(ga)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function gEe(n){if(ga&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return cA(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $1(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const OI=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,yEe=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",vEe=nEe.bind(null,OI,yEe);var ph,bC;class _Ee{constructor(){G(this,ph,new Map);G(this,bC,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};y(this,bC).then(()=>{for(const[s]of y(this,ph))s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Jt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}y(this,ph).set(t,s)}removeEventListener(e,t){const i=y(this,ph).get(t);i==null||i(),y(this,ph).delete(t)}terminate(){for(const[,e]of y(this,ph))e==null||e();y(this,ph).clear()}}ph=new WeakMap,bC=new WeakMap;const q1={DATA:1,ERROR:2},_s={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _z(){}function Pa(n){if(n instanceof vm||n instanceof gI||n instanceof pz||n instanceof QS||n instanceof jM)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||fi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new vm(n.message);case"InvalidPDFException":return new gI(n.message);case"PasswordException":return new pz(n.message,n.code);case"ResponseException":return new QS(n.message,n.status,n.missing);case"UnknownErrorException":return new jM(n.message,n.details)}return new jM(n.message,n.toString())}var Uv,pl,sK,rK,aK,PT;class Wb{constructor(e,t,i){G(this,pl);G(this,Uv,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",W(this,pl,sK).bind(this),{signal:y(this,Uv).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,i,s){const r=this.streamId++,a=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:l,action:e,streamId:r,data:t,desiredSize:h.desiredSize},s),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,c.postMessage({sourceName:a,targetName:l,stream:_s.PULL,streamId:r,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Ss(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:a,targetName:l,stream:_s.CANCEL,streamId:r,reason:Pa(h)}),f.promise}},i)}destroy(){var e;(e=y(this,Uv))==null||e.abort(),O(this,Uv,null)}}Uv=new WeakMap,pl=new WeakSet,sK=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){W(this,pl,aK).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===q1.DATA)s.resolve(e.data);else if(e.callback===q1.ERROR)s.reject(Pa(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(a){r.postMessage({sourceName:i,targetName:s,callback:q1.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:i,targetName:s,callback:q1.ERROR,callbackId:e.callbackId,reason:Pa(a)})});return}if(e.streamId){W(this,pl,rK).call(this,e);return}t(e.data)},rK=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this,l=this.actionHandler[e.action],c={enqueue(h,f=1,p){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=f,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:_s.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:_s.CLOSE,streamId:t}),delete a.streamSinks[t])},error(h){Ss(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:_s.ERROR,streamId:t,reason:Pa(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(l,e.data,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:_s.START_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:i,targetName:s,stream:_s.START_COMPLETE,streamId:t,reason:Pa(h)})})},aK=function(e){const t=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this.streamControllers[t],l=this.streamSinks[t];switch(e.stream){case _s.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Pa(e.reason));break;case _s.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Pa(e.reason));break;case _s.PULL:if(!l){r.postMessage({sourceName:i,targetName:s,stream:_s.PULL_COMPLETE,streamId:t,success:!0});break}l.desiredSize<=0&&e.desiredSize>0&&l.sinkCapability.resolve(),l.desiredSize=e.desiredSize,Promise.try(l.onPull||_z).then(function(){r.postMessage({sourceName:i,targetName:s,stream:_s.PULL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:i,targetName:s,stream:_s.PULL_COMPLETE,streamId:t,reason:Pa(h)})});break;case _s.ENQUEUE:if(Ss(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case _s.CLOSE:if(Ss(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),W(this,pl,PT).call(this,a,t);break;case _s.ERROR:Ss(a,"error should have stream controller"),a.controller.error(Pa(e.reason)),W(this,pl,PT).call(this,a,t);break;case _s.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Pa(e.reason)),W(this,pl,PT).call(this,a,t);break;case _s.CANCEL:if(!l)break;const c=Pa(e.reason);Promise.try(l.onCancel||_z,c).then(function(){r.postMessage({sourceName:i,targetName:s,stream:_s.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:i,targetName:s,stream:_s.CANCEL_COMPLETE,streamId:t,reason:Pa(h)})}),l.sinkCapability.reject(c),l.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},PT=async function(e,t){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[t]};var kx;class oK{constructor({enableHWA:e=!1}){G(this,kx,!1);O(this,kx,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!y(this,kx)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){fi("Abstract method `_createCanvas` called.")}}kx=new WeakMap;class bEe extends oK{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class lK{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){fi("Abstract method `_fetch` called.")}}class bz extends lK{async _fetch(e){const t=await uA(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):cA(t)}}class cK{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,r){return"none"}destroy(e=!1){}}var Up,Hv,gh,yh,qr,Hp,$p,ut,Hr,Kb,Zy,IT,Xy,uK,jI,Qy,Yb,Zb,FI,Xb;class wEe extends cK{constructor({docId:t,ownerDocument:i=globalThis.document}){super();G(this,ut);G(this,Up);G(this,Hv);G(this,gh);G(this,yh);G(this,qr);G(this,Hp);G(this,$p,0);O(this,yh,t),O(this,qr,i)}addFilter(t){if(!t)return"none";let i=y(this,ut,Hr).get(t);if(i)return i;const[s,r,a]=W(this,ut,IT).call(this,t),l=t.length===1?s:`${s}${r}${a}`;if(i=y(this,ut,Hr).get(l),i)return y(this,ut,Hr).set(t,i),i;const c=`g_${y(this,yh)}_transfer_map_${ua(this,$p)._++}`,h=W(this,ut,Xy).call(this,c);y(this,ut,Hr).set(t,h),y(this,ut,Hr).set(l,h);const f=W(this,ut,Qy).call(this,c);return W(this,ut,Zb).call(this,s,r,a,f),h}addHCMFilter(t,i){var E;const s=`${t}-${i}`,r="base";let a=y(this,ut,Kb).get(r);if((a==null?void 0:a.key)===s||(a?((E=a.filter)==null||E.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},y(this,ut,Kb).set(r,a)),!t||!i))return a.url;const l=W(this,ut,Xb).call(this,t);t=Pt.makeHexColor(...l);const c=W(this,ut,Xb).call(this,i);if(i=Pt.makeHexColor(...c),y(this,ut,Zy).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const h=new Array(256);for(let S=0;S<=255;S++){const C=S/255;h[S]=C<=.03928?C/12.92:((C+.055)/1.055)**2.4}const f=h.join(","),p=`g_${y(this,yh)}_hcm_filter`,v=a.filter=W(this,ut,Qy).call(this,p);W(this,ut,Zb).call(this,f,f,f,v),W(this,ut,jI).call(this,v);const w=(S,C)=>{const k=l[S]/255,N=c[S]/255,I=new Array(C+1);for(let z=0;z<=C;z++)I[z]=k+z/C*(N-k);return I.join(",")};return W(this,ut,Zb).call(this,w(0,5),w(1,5),w(2,5),v),a.url=W(this,ut,Xy).call(this,p),a.url}addAlphaFilter(t){let i=y(this,ut,Hr).get(t);if(i)return i;const[s]=W(this,ut,IT).call(this,[t]),r=`alpha_${s}`;if(i=y(this,ut,Hr).get(r),i)return y(this,ut,Hr).set(t,i),i;const a=`g_${y(this,yh)}_alpha_map_${ua(this,$p)._++}`,l=W(this,ut,Xy).call(this,a);y(this,ut,Hr).set(t,l),y(this,ut,Hr).set(r,l);const c=W(this,ut,Qy).call(this,a);return W(this,ut,FI).call(this,s,c),l}addLuminosityFilter(t){let i=y(this,ut,Hr).get(t||"luminosity");if(i)return i;let s,r;if(t?([s]=W(this,ut,IT).call(this,[t]),r=`luminosity_${s}`):r="luminosity",i=y(this,ut,Hr).get(r),i)return y(this,ut,Hr).set(t,i),i;const a=`g_${y(this,yh)}_luminosity_map_${ua(this,$p)._++}`,l=W(this,ut,Xy).call(this,a);y(this,ut,Hr).set(t,l),y(this,ut,Hr).set(r,l);const c=W(this,ut,Qy).call(this,a);return W(this,ut,uK).call(this,c),t&&W(this,ut,FI).call(this,s,c),l}addHighlightHCMFilter(t,i,s,r,a){var N;const l=`${i}-${s}-${r}-${a}`;let c=y(this,ut,Kb).get(t);if((c==null?void 0:c.key)===l||(c?((N=c.filter)==null||N.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},y(this,ut,Kb).set(t,c)),!i||!s))return c.url;const[h,f]=[i,s].map(W(this,ut,Xb).bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),v=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[w,E]=[r,a].map(W(this,ut,Xb).bind(this));v<p&&([p,v,w,E]=[v,p,E,w]),y(this,ut,Zy).style.color="";const S=(I,z,V)=>{const H=new Array(256),B=(v-p)/V,j=I/255,q=(z-I)/(255*V);let Y=0;for(let Z=0;Z<=V;Z++){const ne=Math.round(p+Z*B),Q=j+Z*q;for(let _e=Y;_e<=ne;_e++)H[_e]=Q;Y=ne+1}for(let Z=Y;Z<256;Z++)H[Z]=H[Y-1];return H.join(",")},C=`g_${y(this,yh)}_hcm_${t}_filter`,k=c.filter=W(this,ut,Qy).call(this,C);return W(this,ut,jI).call(this,k),W(this,ut,Zb).call(this,S(w[0],E[0],5),S(w[1],E[1],5),S(w[2],E[2],5),k),c.url=W(this,ut,Xy).call(this,C),c.url}destroy(t=!1){var i,s,r,a;t&&((i=y(this,Hp))!=null&&i.size)||((s=y(this,gh))==null||s.parentNode.parentNode.remove(),O(this,gh,null),(r=y(this,Hv))==null||r.clear(),O(this,Hv,null),(a=y(this,Hp))==null||a.clear(),O(this,Hp,null),O(this,$p,0))}}Up=new WeakMap,Hv=new WeakMap,gh=new WeakMap,yh=new WeakMap,qr=new WeakMap,Hp=new WeakMap,$p=new WeakMap,ut=new WeakSet,Hr=function(){return y(this,Hv)||O(this,Hv,new Map)},Kb=function(){return y(this,Hp)||O(this,Hp,new Map)},Zy=function(){if(!y(this,gh)){const t=y(this,qr).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=y(this,qr).createElementNS(Ju,"svg");s.setAttribute("width",0),s.setAttribute("height",0),O(this,gh,y(this,qr).createElementNS(Ju,"defs")),t.append(s),s.append(y(this,gh)),y(this,qr).body.append(t)}return y(this,gh)},IT=function(t){if(t.length===1){const h=t[0],f=new Array(256);for(let v=0;v<256;v++)f[v]=h[v]/255;const p=f.join(",");return[p,p,p]}const[i,s,r]=t,a=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)a[h]=i[h]/255,l[h]=s[h]/255,c[h]=r[h]/255;return[a.join(","),l.join(","),c.join(",")]},Xy=function(t){if(y(this,Up)===void 0){O(this,Up,"");const i=y(this,qr).URL;i!==y(this,qr).baseURI&&(ZR(i)?Jt('#createUrl: ignore "data:"-URL for performance reasons.'):O(this,Up,wW(i,"")))}return`url(${y(this,Up)}#${t})`},uK=function(t){const i=y(this,qr).createElementNS(Ju,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},jI=function(t){const i=y(this,qr).createElementNS(Ju,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Qy=function(t){const i=y(this,qr).createElementNS(Ju,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),y(this,ut,Zy).append(i),i},Yb=function(t,i,s){const r=y(this,qr).createElementNS(Ju,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),t.append(r)},Zb=function(t,i,s,r){const a=y(this,qr).createElementNS(Ju,"feComponentTransfer");r.append(a),W(this,ut,Yb).call(this,a,"feFuncR",t),W(this,ut,Yb).call(this,a,"feFuncG",i),W(this,ut,Yb).call(this,a,"feFuncB",s)},FI=function(t,i){const s=y(this,qr).createElementNS(Ju,"feComponentTransfer");i.append(s),W(this,ut,Yb).call(this,s,"feFuncA",t)},Xb=function(t){return y(this,ut,Zy).style.color=t,XR(getComputedStyle(y(this,ut,Zy)).getPropertyValue("color"))};class hK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){fi("Abstract method `_fetch` called.")}}class wz extends hK{async _fetch(e){const t=await uA(e,"arraybuffer");return new Uint8Array(t)}}class dK{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){fi("Abstract method `_fetch` called.")}}class xz extends dK{async _fetch(e){const t=await uA(e,"arraybuffer");return new Uint8Array(t)}}ga&&Jt("Please use the `legacy` build in Node.js environments.");async function NO(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class xEe extends cK{}class EEe extends oK{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class AEe extends lK{async _fetch(e){return NO(e)}}class TEe extends hK{async _fetch(e){return NO(e)}}class SEe extends dK{async _fetch(e){return NO(e)}}const Rr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function VI(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}class LO{isModifyingCurrentTransform(){return!1}getPattern(){fi("Abstract method `getPattern` called.")}}class CEe extends LO{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let r;if(s===Rr.STROKE||s===Rr.FILL){const a=t.current.getClippedPathBoundingBox(s,ji(e))||[0,0,0,0],l=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,h=t.cachedCanvases.getCanvas("pattern",l,c),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),i=Pt.transform(i,[1,0,0,1,a[0],a[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),VI(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(i);r.setTransform(p)}else VI(e,this._bbox),r=this._createGradient(e);return r}}function BM(n,e,t,i,s,r,a,l){const c=e.coords,h=e.colors,f=n.data,p=n.width*4;let v;c[t+1]>c[i+1]&&(v=t,t=i,i=v,v=r,r=a,a=v),c[i+1]>c[s+1]&&(v=i,i=s,s=v,v=a,a=l,l=v),c[t+1]>c[i+1]&&(v=t,t=i,i=v,v=r,r=a,a=v);const w=(c[t]+e.offsetX)*e.scaleX,E=(c[t+1]+e.offsetY)*e.scaleY,S=(c[i]+e.offsetX)*e.scaleX,C=(c[i+1]+e.offsetY)*e.scaleY,k=(c[s]+e.offsetX)*e.scaleX,N=(c[s+1]+e.offsetY)*e.scaleY;if(E>=N)return;const I=h[r],z=h[r+1],V=h[r+2],H=h[a],B=h[a+1],j=h[a+2],q=h[l],Y=h[l+1],Z=h[l+2],ne=Math.round(E),Q=Math.round(N);let _e,Le,ee,se,ie,Te,J,ce;for(let ge=ne;ge<=Q;ge++){if(ge<C){const We=ge<E?0:(E-ge)/(E-C);_e=w-(w-S)*We,Le=I-(I-H)*We,ee=z-(z-B)*We,se=V-(V-j)*We}else{let We;ge>N?We=1:C===N?We=0:We=(C-ge)/(C-N),_e=S-(S-k)*We,Le=H-(H-q)*We,ee=B-(B-Y)*We,se=j-(j-Z)*We}let ue;ge<E?ue=0:ge>N?ue=1:ue=(E-ge)/(E-N),ie=w-(w-k)*ue,Te=I-(I-q)*ue,J=z-(z-Y)*ue,ce=V-(V-Z)*ue;const De=Math.round(Math.min(_e,ie)),$e=Math.round(Math.max(_e,ie));let Pe=p*ge+De*4;for(let We=De;We<=$e;We++)ue=(_e-We)/(_e-ie),ue<0?ue=0:ue>1&&(ue=1),f[Pe++]=Le-(Le-Te)*ue|0,f[Pe++]=ee-(ee-J)*ue|0,f[Pe++]=se-(se-ce)*ue|0,f[Pe++]=255}}function REe(n,e,t){const i=e.coords,s=e.colors;let r,a;switch(e.type){case"lattice":const l=e.verticesPerRow,c=Math.floor(i.length/l)-1,h=l-1;for(r=0;r<c;r++){let f=r*l;for(let p=0;p<h;p++,f++)BM(n,t,i[f],i[f+1],i[f+l],s[f],s[f+1],s[f+l]),BM(n,t,i[f+l+1],i[f+1],i[f+l],s[f+l+1],s[f+1],s[f+l])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)BM(n,t,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class kEe extends LO{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const l=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-l,f=Math.ceil(this._bounds[3])-c,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),w=h/p,E=f/v,S={coords:this._coords,colors:this._colors,offsetX:-l,offsetY:-c,scaleX:1/w,scaleY:1/E},C=p+2*2,k=v+2*2,N=i.getCanvas("mesh",C,k),I=N.context,z=I.createImageData(p,v);if(t){const H=z.data;for(let B=0,j=H.length;B<j;B+=4)H[B]=t[0],H[B+1]=t[1],H[B+2]=t[2],H[B+3]=255}for(const H of this._figures)REe(z,H,S);return I.putImageData(z,2,2),{canvas:N.canvas,offsetX:l-2*w,offsetY:c-2*E,scaleX:w,scaleY:E}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,s){VI(e,this._bbox);const r=new Float32Array(2);if(s===Rr.SHADING)Pt.singularValueDecompose2dScale(ji(e),r);else if(this.matrix){Pt.singularValueDecompose2dScale(this.matrix,r);const[l,c]=r;Pt.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=l,r[1]*=c}else Pt.singularValueDecompose2dScale(t.baseTransform,r);const a=this._createMeshCanvas(r,s===Rr.SHADING?null:this._background,t.cachedCanvases);return s!==Rr.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class MEe extends LO{getPattern(){return"hotpink"}}function PEe(n){switch(n[0]){case"RadialAxial":return new CEe(n);case"Mesh":return new kEe(n);case"Dummy":return new MEe}throw new Error(`Unknown IR type: ${n[0]}`)}const Ez={COLORED:1,UNCOLORED:2},wC=class wC{constructor(e,t,i,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:i,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),YR("TilingType: "+r);const f=t[0],p=t[1],v=t[2],w=t[3],E=v-f,S=w-p,C=new Float32Array(2);Pt.singularValueDecompose2dScale(this.matrix,C);const[k,N]=C;Pt.singularValueDecompose2dScale(this.baseTransform,C);const I=k*C[0],z=N*C[1];let V=E,H=S,B=!1,j=!1;const q=Math.ceil(c*I),Y=Math.ceil(h*z),Z=Math.ceil(E*I),ne=Math.ceil(S*z);q>=Z?V=c:B=!0,Y>=ne?H=h:j=!0;const Q=this.getSizeAndScale(V,this.ctx.canvas.width,I),_e=this.getSizeAndScale(H,this.ctx.canvas.height,z),Le=e.cachedCanvases.getCanvas("pattern",Q.size,_e.size),ee=Le.context,se=l.createCanvasGraphics(ee);if(se.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(se,s,a),ee.translate(-Q.scale*f,-_e.scale*p),se.transform(Q.scale,0,0,_e.scale,0,0),ee.save(),this.clipBbox(se,f,p,v,w),se.baseTransform=ji(se.ctx),se.executeOperatorList(i),se.endDrawing(),ee.restore(),B||j){const ie=Le.canvas;B&&(V=c),j&&(H=h);const Te=this.getSizeAndScale(V,this.ctx.canvas.width,I),J=this.getSizeAndScale(H,this.ctx.canvas.height,z),ce=Te.size,ge=J.size,ue=e.cachedCanvases.getCanvas("pattern-workaround",ce,ge),De=ue.context,$e=B?Math.floor(E/c):0,Pe=j?Math.floor(S/h):0;for(let We=0;We<=$e;We++)for(let je=0;je<=Pe;je++)De.drawImage(ie,ce*We,ge*je,ce,ge,0,0,ce,ge);return{canvas:ue.canvas,scaleX:Te.scale,scaleY:J.scale,offsetX:f,offsetY:p}}return{canvas:Le.canvas,scaleX:Q.scale,scaleY:_e.scale,offsetX:f,offsetY:p}}getSizeAndScale(e,t,i){const s=Math.max(wC.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,t,i,s,r){const a=s-t,l=r-i;e.ctx.rect(t,i,a,l),Pt.axialAlignedBoundingBox([t,i,s,r],ji(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const s=e.ctx,r=e.current;switch(t){case Ez.COLORED:const{fillStyle:a,strokeStyle:l}=this.ctx;s.fillStyle=r.fillColor=a,s.strokeStyle=r.strokeColor=l;break;case Ez.UNCOLORED:s.fillStyle=s.strokeStyle=i,r.fillColor=r.strokeColor=i;break;default:throw new Zxe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,s){let r=i;s!==Rr.SHADING&&(r=Pt.transform(r,t.baseTransform),this.matrix&&(r=Pt.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let l=new DOMMatrix(r);l=l.translate(a.offsetX,a.offsetY),l=l.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(l),c}};Ye(wC,"MAX_PATTERN_SIZE",3e3);let BI=wC;function IEe({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const l=Ir.isLittleEndian?4278190080:255,[c,h]=a?[r,l]:[l,r],f=i>>3,p=i&7,v=n.length;t=new Uint32Array(t.buffer);let w=0;for(let E=0;E<s;E++){for(const C=e+f;e<C;e++){const k=e<v?n[e]:255;t[w++]=k&128?h:c,t[w++]=k&64?h:c,t[w++]=k&32?h:c,t[w++]=k&16?h:c,t[w++]=k&8?h:c,t[w++]=k&4?h:c,t[w++]=k&2?h:c,t[w++]=k&1?h:c}if(p===0)continue;const S=e<v?n[e++]:255;for(let C=0;C<p;C++)t[w++]=S&1<<7-C?h:c}return{srcPos:e,destPos:w}}const Az=16,Tz=100,DEe=15,Sz=10,Fa=16,zM=new DOMMatrix,ko=new Float32Array(2),sv=new Float32Array([1/0,1/0,-1/0,-1/0]);function NEe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,s,r,a,l){e.transform(t,i,s,r,a,l),this.__originalTransform(t,i,s,r,a,l)},n.setTransform=function(t,i,s,r,a,l){e.setTransform(t,i,s,r,a,l),this.__originalSetTransform(t,i,s,r,a,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,r,a,l){e.bezierCurveTo(t,i,s,r,a,l),this.__originalBezierCurveTo(t,i,s,r,a,l)},n.rect=function(t,i,s,r){e.rect(t,i,s,r),this.__originalRect(t,i,s,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class LEe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function G1(n,e,t,i,s,r,a,l,c,h){const[f,p,v,w,E,S]=ji(n);if(p===0&&v===0){const N=a*f+E,I=Math.round(N),z=l*w+S,V=Math.round(z),H=(a+c)*f+E,B=Math.abs(Math.round(H)-I)||1,j=(l+h)*w+S,q=Math.abs(Math.round(j)-V)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(w),I,V),n.drawImage(e,t,i,s,r,0,0,B,q),n.setTransform(f,p,v,w,E,S),[B,q]}if(f===0&&w===0){const N=l*v+E,I=Math.round(N),z=a*p+S,V=Math.round(z),H=(l+h)*v+E,B=Math.abs(Math.round(H)-I)||1,j=(a+c)*p+S,q=Math.abs(Math.round(j)-V)||1;return n.setTransform(0,Math.sign(p),Math.sign(v),0,I,V),n.drawImage(e,t,i,s,r,0,0,q,B),n.setTransform(f,p,v,w,E,S),[q,B]}n.drawImage(e,t,i,s,r,a,l,c,h);const C=Math.hypot(f,p),k=Math.hypot(v,w);return[C*c,k*h]}class Cz{constructor(e,t){Ye(this,"alphaIsShape",!1);Ye(this,"fontSize",0);Ye(this,"fontSizeScale",1);Ye(this,"textMatrix",null);Ye(this,"textMatrixScale",1);Ye(this,"fontMatrix",pI);Ye(this,"leading",0);Ye(this,"x",0);Ye(this,"y",0);Ye(this,"lineX",0);Ye(this,"lineY",0);Ye(this,"charSpacing",0);Ye(this,"wordSpacing",0);Ye(this,"textHScale",1);Ye(this,"textRenderingMode",Ur.FILL);Ye(this,"textRise",0);Ye(this,"fillColor","#000000");Ye(this,"strokeColor","#000000");Ye(this,"patternFill",!1);Ye(this,"patternStroke",!1);Ye(this,"fillAlpha",1);Ye(this,"strokeAlpha",1);Ye(this,"lineWidth",1);Ye(this,"activeSMask",null);Ye(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,e,t]),this.minMax=sv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Rr.FILL,t=null){const i=this.minMax.slice();if(e===Rr.STROKE){t||fi("Stroke bounding box must include transform."),Pt.singularValueDecompose2dScale(t,ko);const s=ko[0]*this.lineWidth/2,r=ko[1]*this.lineWidth/2;i[0]-=s,i[1]-=r,i[2]+=s,i[3]+=r}return i}updateClipFromPath(){const e=Pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(sv,0)}getClippedPathBoundingBox(e=Rr.FILL,t=null){return Pt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Rz(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,s=t%Fa,r=(t-s)/Fa,a=s===0?r:r+1,l=n.createImageData(i,Fa);let c=0,h;const f=e.data,p=l.data;let v,w,E,S;if(e.kind===ET.GRAYSCALE_1BPP){const C=f.byteLength,k=new Uint32Array(p.buffer,0,p.byteLength>>2),N=k.length,I=i+7>>3,z=4294967295,V=Ir.isLittleEndian?4278190080:255;for(v=0;v<a;v++){for(E=v<r?Fa:s,h=0,w=0;w<E;w++){const H=C-c;let B=0;const j=H>I?i:H*8-7,q=j&-8;let Y=0,Z=0;for(;B<q;B+=8)Z=f[c++],k[h++]=Z&128?z:V,k[h++]=Z&64?z:V,k[h++]=Z&32?z:V,k[h++]=Z&16?z:V,k[h++]=Z&8?z:V,k[h++]=Z&4?z:V,k[h++]=Z&2?z:V,k[h++]=Z&1?z:V;for(;B<j;B++)Y===0&&(Z=f[c++],Y=128),k[h++]=Z&Y?z:V,Y>>=1}for(;h<N;)k[h++]=0;n.putImageData(l,0,v*Fa)}}else if(e.kind===ET.RGBA_32BPP){for(w=0,S=i*Fa*4,v=0;v<r;v++)p.set(f.subarray(c,c+S)),c+=S,n.putImageData(l,0,w),w+=Fa;v<a&&(S=i*s*4,p.set(f.subarray(c,c+S)),n.putImageData(l,0,w))}else if(e.kind===ET.RGB_24BPP)for(E=Fa,S=i*E,v=0;v<a;v++){for(v>=r&&(E=s,S=i*E),h=0,w=S;w--;)p[h++]=f[c++],p[h++]=f[c++],p[h++]=f[c++],p[h++]=255;n.putImageData(l,0,v*Fa)}else throw new Error(`bad image kind: ${e.kind}`)}function kz(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,s=t%Fa,r=(t-s)/Fa,a=s===0?r:r+1,l=n.createImageData(i,Fa);let c=0;const h=e.data,f=l.data;for(let p=0;p<a;p++){const v=p<r?Fa:s;({srcPos:c}=IEe({src:h,srcPos:c,dest:f,width:i,height:v,nonBlackColor:0})),n.putImageData(l,0,p*Fa)}}function Tb(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function W1(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function Mz(n,e){if(e)return!0;Pt.singularValueDecompose2dScale(n,ko);const t=Math.fround(Su.pixelRatio*_m.PDF_TO_CSS_UNITS);return ko[0]<=t&&ko[1]<=t}const OEe=["butt","round","square"],jEe=["miter","round","bevel"],FEe={},Pz={};var fc,zI,UI,HI;const bj=class bj{constructor(e,t,i,s,r,{optionalContentConfig:a,markedContentStack:l=null},c,h){G(this,fc);this.ctx=e,this.current=new Cz(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=l||[],this.optionalContentConfig=a,this.cachedCanvases=new LEe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,l=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=l,i){const c=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...ji(this.compositeCtx))}this.ctx.save(),W1(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=ji(this.ctx)}executeOperatorList(e,t,i,s){const r=e.argsArray,a=e.fnArray;let l=t||0;const c=r.length;if(c===l)return l;const h=c-l>Sz&&typeof i=="function",f=h?Date.now()+DEe:0;let p=0;const v=this.commonObjs,w=this.objs;let E;for(;;){if(s!==void 0&&l===s.nextBreakPoint)return s.breakIt(l,i),l;if(E=a[l],E!==XS.dependency)this[E].apply(this,r[l]);else for(const S of r[l]){const C=S.startsWith("g_")?v:w;if(!C.has(S))return C.get(S,i),l}if(l++,l===c)return l;if(h&&++p>Sz){if(Date.now()>f)return i(),l;p=0}}}endDrawing(){W(this,fc,zI).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),W(this,fc,UI).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),l=i,c=s,h="prescale1",f,p;for(;r>2&&l>1||a>2&&c>1;){let v=l,w=c;r>2&&l>1&&(v=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l/2),r/=l/v),a>2&&c>1&&(w=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/w),f=this.cachedCanvases.getCanvas(h,v,w),p=f.context,p.clearRect(0,0,v,w),p.drawImage(e,0,0,l,c,0,0,v,w),e=f.canvas,l=v,c=w,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:l,paintHeight:c}}_createMaskCanvas(e){const t=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,a=this.current.patternFill,l=ji(t);let c,h,f,p;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;h=JSON.stringify(a?l:[l.slice(0,4),r]),c=this._cachedBitmapsMap.get(q),c||(c=new Map,this._cachedBitmapsMap.set(q,c));const Y=c.get(h);if(Y&&!a){const Z=Math.round(Math.min(l[0],l[2])+l[4]),ne=Math.round(Math.min(l[1],l[3])+l[5]);return{canvas:Y,offsetX:Z,offsetY:ne}}f=Y}f||(p=this.cachedCanvases.getCanvas("maskCanvas",i,s),kz(p.context,e));let v=Pt.transform(l,[1/i,0,0,-1/s,0,0]);v=Pt.transform(v,[1,0,0,1,0,-s]);const w=sv.slice();Pt.axialAlignedBoundingBox([0,0,i,s],v,w);const[E,S,C,k]=w,N=Math.round(C-E)||1,I=Math.round(k-S)||1,z=this.cachedCanvases.getCanvas("fillCanvas",N,I),V=z.context,H=E,B=S;V.translate(-H,-B),V.transform(...v),f||(f=this._scaleImage(p.canvas,Oc(V)),f=f.img,c&&a&&c.set(h,f)),V.imageSmoothingEnabled=Mz(ji(V),e.interpolate),G1(V,f,0,0,f.width,f.height,0,0,i,s),V.globalCompositeOperation="source-in";const j=Pt.transform(Oc(V),[1,0,0,1,-H,-B]);return V.fillStyle=a?r.getPattern(t,this,j,Rr.FILL):r,V.fillRect(0,0,i,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,z.canvas)),{canvas:z.canvas,offsetX:Math.round(H),offsetY:Math.round(B)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=OEe[e]}setLineJoin(e){this.ctx.lineJoin=jEe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx;const r=this.ctx=s.context;r.setTransform(this.suspendedCtx.getTransform()),Tb(this.suspendedCtx,r),NEe(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Tb(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){const r=s[0],a=s[1],l=s[2]-r,c=s[3]-a;l===0||c===0||(this.genericComposeSMask(t.context,i,l,c,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,r,a,l,c,h,f,p){let v=e.canvas,w=c-f,E=h-p;if(a)if(w<0||E<0||w+i>v.width||E+s>v.height){const C=this.cachedCanvases.getCanvas("maskExtension",i,s),k=C.context;k.drawImage(v,-w,-E),k.globalCompositeOperation="destination-atop",k.fillStyle=a,k.fillRect(0,0,i,s),k.globalCompositeOperation="source-over",v=C.canvas,w=E=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const C=new Path2D;C.rect(w,E,i,s),e.clip(C),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(w,E,i,s),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&l?t.filter=this.filterFactory.addAlphaFilter(l):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(l));const S=new Path2D;S.rect(c,h,i,s),t.clip(S),t.globalCompositeOperation="destination-in",t.drawImage(v,w,E,i,s,c,h,i,s),t.restore()}save(){this.inSMaskMode&&Tb(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Tb(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,s,r,a){this.ctx.transform(e,t,i,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){let[s]=t;if(!i){s||(s=t[0]=new Path2D),this[e](s);return}if(!(s instanceof Path2D)){const r=t[0]=new Path2D;for(let a=0,l=s.length;a<l;)switch(s[a++]){case U1.moveTo:r.moveTo(s[a++],s[a++]);break;case U1.lineTo:r.lineTo(s[a++],s[a++]);break;case U1.curveTo:r.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case U1.closePath:r.closePath();break;default:Jt(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=r}Pt.axialAlignedBoundingBox(i,ji(this.ctx),this.current.minMax),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const r=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Oc(i),Rr.STROKE),r){const a=new Path2D;a.addPath(e,i.getTransform().invertSelf().multiplySelf(r)),e=a}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Rr.STROKE,ji(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let a=!1;if(r){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=s.getPattern(i,this,Oc(i),Rr.FILL),c){const h=new Path2D;h.addPath(e,i.getTransform().invertSelf().multiplySelf(c)),e=h}a=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),a&&i.restore(),t&&this.consumePath(e,l)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=FEe}eoClip(){this.pendingClip=Pz}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const i=new Path2D,s=t.getTransform().invertSelf();for(const{transform:r,x:a,y:l,fontSize:c,path:h}of e)h&&i.addPath(h,new DOMMatrix(r).preMultiplySelf(s).translate(a,l).scale(c,-c));t.clip(i),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var f;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||pI,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Jt("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;const r=i.loadedName||"sans-serif",a=((f=i.systemFontInfo)==null?void 0:f.css)||`"${r}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let h=t;t<Az?h=Az:t>Tz&&(h=Tz),this.current.fontSizeScale=t/h,this.ctx.font=`${c} ${l} ${h}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s,r){const a=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,f=l.fontSize/l.fontSizeScale,p=h&Ur.FILL_STROKE_MASK,v=!!(h&Ur.ADD_TO_PATH_FLAG),w=l.patternFill&&!c.missingFile,E=l.patternStroke&&!c.missingFile;let S;if((c.disableFontFace||v||w||E)&&!c.missingFile&&(S=c.getPathGenerator(this.commonObjs,e)),S&&(c.disableFontFace||w||E)){a.save(),a.translate(t,i),a.scale(f,-f);let C;if((p===Ur.FILL||p===Ur.FILL_STROKE)&&(s?(C=a.getTransform(),a.setTransform(...s),a.fill(W(this,fc,HI).call(this,S,C,s))):a.fill(S)),p===Ur.STROKE||p===Ur.FILL_STROKE)if(r){C||(C=a.getTransform()),a.setTransform(...r);const{a:k,b:N,c:I,d:z}=C,V=Pt.inverseTransform(r),H=Pt.transform([k,N,I,z,0,0],V);Pt.singularValueDecompose2dScale(H,ko),a.lineWidth*=Math.max(ko[0],ko[1])/f,a.stroke(W(this,fc,HI).call(this,S,C,r))}else a.lineWidth/=f,a.stroke(S);a.restore()}else(p===Ur.FILL||p===Ur.FILL_STROKE)&&a.fillText(e,t,i),(p===Ur.STROKE||p===Ur.FILL_STROKE)&&a.strokeText(e,t,i);v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ji(a),x:t,y:i,fontSize:f,path:S})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return vn(this,"isFontSubpixelAAEnabled",i)}showText(e){const t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);const s=t.fontSize;if(s===0)return;const r=this.ctx,a=t.fontSizeScale,l=t.charSpacing,c=t.wordSpacing,h=t.fontDirection,f=t.textHScale*h,p=e.length,v=i.vertical,w=v?1:-1,E=i.defaultVMetrics,S=s*t.fontMatrix[0],C=t.textRenderingMode===Ur.FILL&&!i.disableFontFace&&!t.patternFill;r.save(),t.textMatrix&&r.transform(...t.textMatrix),r.translate(t.x,t.y+t.textRise),h>0?r.scale(f,-1):r.scale(f,1);let k,N;if(t.patternFill){r.save();const B=t.fillColor.getPattern(r,this,Oc(r),Rr.FILL);k=ji(r),r.restore(),r.fillStyle=B}if(t.patternStroke){r.save();const B=t.strokeColor.getPattern(r,this,Oc(r),Rr.STROKE);N=ji(r),r.restore(),r.strokeStyle=B}let I=t.lineWidth;const z=t.textMatrixScale;if(z===0||I===0){const B=t.textRenderingMode&Ur.FILL_STROKE_MASK;(B===Ur.STROKE||B===Ur.FILL_STROKE)&&(I=this.getSinglePixelWidth())}else I/=z;if(a!==1&&(r.scale(a,a),I/=a),r.lineWidth=I,i.isInvalidPDFjsFont){const B=[];let j=0;for(const q of e)B.push(q.unicode),j+=q.width;r.fillText(B.join(""),0,0),t.x+=j*S*f,r.restore(),this.compose();return}let V=0,H;for(H=0;H<p;++H){const B=e[H];if(typeof B=="number"){V+=w*B*s/1e3;continue}let j=!1;const q=(B.isSpace?c:0)+l,Y=B.fontChar,Z=B.accent;let ne,Q,_e=B.width;if(v){const ee=B.vmetric||E,se=-(B.vmetric?ee[1]:_e*.5)*S,ie=ee[2]*S;_e=ee?-ee[0]:_e,ne=se/a,Q=(V+ie)/a}else ne=V/a,Q=0;if(i.remeasure&&_e>0){const ee=r.measureText(Y).width*1e3/s*a;if(_e<ee&&this.isFontSubpixelAAEnabled){const se=_e/ee;j=!0,r.save(),r.scale(se,1),ne/=se}else _e!==ee&&(ne+=(_e-ee)/2e3*s/a)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(C&&!Z)r.fillText(Y,ne,Q);else if(this.paintChar(Y,ne,Q,k,N),Z){const ee=ne+s*Z.offset.x/a,se=Q-s*Z.offset.y/a;this.paintChar(Z.fontChar,ee,se,k,N)}}const Le=v?_e*S-q*h:_e*S+q*h;V+=Le,j&&r.restore()}v?t.y-=V:t.x+=V*f,r.restore(),this.compose()}showType3Text(e){const t=this.ctx,i=this.current,s=i.font,r=i.fontSize,a=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,h=i.wordSpacing,f=i.textHScale*a,p=i.fontMatrix||pI,v=e.length,w=i.textRenderingMode===Ur.INVISIBLE;let E,S,C,k;if(!(w||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),i.textMatrix&&t.transform(...i.textMatrix),t.translate(i.x,i.y+i.textRise),t.scale(f,a),E=0;E<v;++E){if(S=e[E],typeof S=="number"){k=l*S*r/1e3,this.ctx.translate(k,0),i.x+=k*f;continue}const N=(S.isSpace?h:0)+c,I=s.charProcOperatorList[S.operatorListId];I?this.contentVisible&&(this.save(),t.scale(r,r),t.transform(...p),this.executeOperatorList(I),this.restore()):Jt(`Type3 character "${S.operatorListId}" is not available.`);const z=[S.width,0];Pt.applyTransform(z,p),C=z[0]*r+N,t.translate(C,0),i.x+=C*f}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,r,a){const l=new Path2D;l.rect(i,s,r-i,a-s),this.ctx.clip(l),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const i=this.baseTransform||ji(this.ctx),s={createCanvasGraphics:r=>new bj(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new BI(e,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=PEe(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,Oc(t),Rr.SHADING);const s=Oc(t);if(s){const{width:r,height:a}=t.canvas,l=sv.slice();Pt.axialAlignedBoundingBox([0,0,r,a],s,l);const[c,h,f,p]=l;this.ctx.fillRect(c,h,f-c,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){fi("Should not call beginInlineImage")}beginImageData(){fi("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ji(this.ctx),t)){Pt.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[i,s,r,a]=t,l=new Path2D;l.rect(i,s,r-i,a-s),this.ctx.clip(l),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||YR("TODO: Support non-isolated groups."),e.knockout&&Jt("Knockout groups not supported.");const i=ji(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=sv.slice();Pt.axialAlignedBoundingBox(e.bbox,ji(t),s);const r=[0,0,t.canvas.width,t.canvas.height];s=Pt.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,h]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,c,h),v=p.context;v.translate(-a,-l),v.transform(...i);let w=new Path2D;const[E,S,C,k]=e.bbox;if(w.rect(E,S,C-E,k-S),e.matrix){const N=new Path2D;N.addPath(w,new DOMMatrix(e.matrix)),w=N}v.clip(w),e.smask?this.smaskStack.push({canvas:p.canvas,context:v,offsetX:a,offsetY:l,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,l),t.save()),Tb(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=ji(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=sv.slice();Pt.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s,r),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,t,i,s,r){if(W(this,fc,zI).call(this),W1(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],l=t[3]-t[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=l,Pt.singularValueDecompose2dScale(ji(this.ctx),ko);const{viewportScale:c}=this,h=Math.ceil(a*this.outputScaleX*c),f=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(ko[0],0,0,-ko[1],0,l*ko[1]),W1(this.ctx)}else{W1(this.ctx),this.endPath();const c=new Path2D;c.rect(t[0],t[1],a,l),this.ctx.clip(c)}}this.current=new Cz(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),W(this,fc,UI).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const i=this.ctx,s=this._createMaskCanvas(e),r=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,s.offsetX,s.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const l=this.ctx;l.save();const c=ji(l);l.transform(t,i,s,r,0,0);const h=this._createMaskCanvas(e);l.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]);for(let f=0,p=a.length;f<p;f+=2){const v=Pt.transform(c,[t,i,s,r,a[f],a[f+1]]);l.drawImage(h.canvas,v[4],v[5])}l.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of e){const{data:a,width:l,height:c,transform:h}=r,f=this.cachedCanvases.getCanvas("maskCanvas",l,c),p=f.context;p.save();const v=this.getObject(a,r);kz(p,v),p.globalCompositeOperation="source-in",p.fillStyle=s?i.getPattern(p,this,Oc(t),Rr.FILL):i,p.fillRect(0,0,l,c),p.restore(),t.save(),t.transform(...h),t.scale(1,-1),G1(t,f.canvas,0,0,l,c,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Jt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Jt("Dependent image isn't ready yet");return}const a=r.width,l=r.height,c=[];for(let h=0,f=s.length;h<f;h+=2)c.push({transform:[t,0,0,i,s[h],s[h+1]],x:0,y:0,w:a,h:l});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,i=e.height,s=this.ctx;this.save();const{filter:r}=s;r!=="none"&&r!==""&&(s.filter="none"),s.scale(1/t,-1/i);let a;if(e.bitmap)a=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)a=e;else{const h=this.cachedCanvases.getCanvas("inlineImage",t,i).context;Rz(h,e),a=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(a,Oc(s));s.imageSmoothingEnabled=Mz(ji(s),e.interpolate),G1(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const r=e.width,a=e.height,c=this.cachedCanvases.getCanvas("inlineImage",r,a).context;Rz(c,e),s=this.applyTransferMapsToCanvas(c)}for(const r of t)i.save(),i.transform(...r.transform),i.scale(1,-1),G1(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===Pz?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ji(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:s,d:r}=this.ctx.getTransform();let a,l;if(i===0&&s===0){const c=Math.abs(t),h=Math.abs(r);if(c===h)if(e===0)a=l=1/c;else{const f=c*e;a=l=f<1?1/f:1}else if(e===0)a=1/c,l=1/h;else{const f=c*e,p=h*e;a=f<1?1/f:1,l=p<1?1/p:1}}else{const c=Math.abs(t*r-i*s),h=Math.hypot(t,i),f=Math.hypot(s,r);if(e===0)a=f/c,l=h/c;else{const p=e*c;a=f>p?f/p:1,l=h>p?h/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=l}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:s}}=this,[r,a]=this.getScaleForStroking();if(r===a){i.lineWidth=(s||1)*r,i.stroke(e);return}const l=i.getLineDash();t&&i.save(),i.scale(r,a),zM.a=1/r,zM.d=1/a;const c=new Path2D;if(c.addPath(e,zM),l.length>0){const h=Math.max(r,a);i.setLineDash(l.map(f=>f/h)),i.lineDashOffset/=h}i.lineWidth=s||1,i.stroke(c),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};fc=new WeakSet,zI=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},UI=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},HI=function(e,t,i){const s=new Path2D;return s.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),s};let xv=bj;for(const n in XS)xv.prototype[n]!==void 0&&(xv.prototype[XS[n]]=xv.prototype[n]);var Mx,Px;class lu{static get workerPort(){return y(this,Mx)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");O(this,Mx,e)}static get workerSrc(){return y(this,Px)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");O(this,Px,e)}}Mx=new WeakMap,Px=new WeakMap,G(lu,Mx,null),G(lu,Px,"");var $v,Ix;class VEe{constructor({parsedData:e,rawData:t}){G(this,$v);G(this,Ix);O(this,$v,e),O(this,Ix,t)}getRaw(){return y(this,Ix)}get(e){return y(this,$v).get(e)??null}[Symbol.iterator](){return y(this,$v).entries()}}$v=new WeakMap,Ix=new WeakMap;const Jy=Symbol("INTERNAL");var Dx,Nx,Lx,qv;class BEe{constructor(e,{name:t,intent:i,usage:s,rbGroups:r}){G(this,Dx,!1);G(this,Nx,!1);G(this,Lx,!1);G(this,qv,!0);O(this,Dx,!!(e&To.DISPLAY)),O(this,Nx,!!(e&To.PRINT)),this.name=t,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(y(this,Lx))return y(this,qv);if(!y(this,qv))return!1;const{print:e,view:t}=this.usage;return y(this,Dx)?(t==null?void 0:t.viewState)!=="OFF":y(this,Nx)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Jy&&fi("Internal method `_setVisible` called."),O(this,Lx,i),O(this,qv,t)}}Dx=new WeakMap,Nx=new WeakMap,Lx=new WeakMap,qv=new WeakMap;var Tf,ui,Gv,Wv,Ox,$I;class zEe{constructor(e,t=To.DISPLAY){G(this,Ox);G(this,Tf,null);G(this,ui,new Map);G(this,Gv,null);G(this,Wv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,O(this,Wv,e.order);for(const i of e.groups)y(this,ui).set(i.id,new BEe(t,i));if(e.baseState==="OFF")for(const i of y(this,ui).values())i._setVisible(Jy,!1);for(const i of e.on)y(this,ui).get(i)._setVisible(Jy,!0);for(const i of e.off)y(this,ui).get(i)._setVisible(Jy,!1);O(this,Gv,this.getHash())}}isVisible(e){if(y(this,ui).size===0)return!0;if(!e)return YR("Optional content group not defined."),!0;if(e.type==="OCG")return y(this,ui).has(e.id)?y(this,ui).get(e.id).visible:(Jt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return W(this,Ox,$I).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!y(this,ui).has(t))return Jt(`Optional content group not found: ${t}`),!0;if(y(this,ui).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!y(this,ui).has(t))return Jt(`Optional content group not found: ${t}`),!0;if(!y(this,ui).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!y(this,ui).has(t))return Jt(`Optional content group not found: ${t}`),!0;if(!y(this,ui).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!y(this,ui).has(t))return Jt(`Optional content group not found: ${t}`),!0;if(y(this,ui).get(t).visible)return!1}return!0}return Jt(`Unknown optional content policy ${e.policy}.`),!0}return Jt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var r;const s=y(this,ui).get(e);if(!s){Jt(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(const a of s.rbGroups)for(const l of a)l!==e&&((r=y(this,ui).get(l))==null||r._setVisible(Jy,!1,!0));s._setVisible(Jy,!!t,!0),O(this,Tf,null)}setOCGState({state:e,preserveRB:t}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=y(this,ui).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!r.visible,t);break}}O(this,Tf,null)}get hasInitialVisibility(){return y(this,Gv)===null||this.getHash()===y(this,Gv)}getOrder(){return y(this,ui).size?y(this,Wv)?y(this,Wv).slice():[...y(this,ui).keys()]:null}getGroup(e){return y(this,ui).get(e)||null}getHash(){if(y(this,Tf)!==null)return y(this,Tf);const e=new tK;for(const[t,i]of y(this,ui))e.update(`${t}:${i.visible}`);return O(this,Tf,e.hexdigest())}[Symbol.iterator](){return y(this,ui).entries()}}Tf=new WeakMap,ui=new WeakMap,Gv=new WeakMap,Wv=new WeakMap,Ox=new WeakSet,$I=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let s=1;s<t;s++){const r=e[s];let a;if(Array.isArray(r))a=W(this,Ox,$I).call(this,r);else if(y(this,ui).has(r))a=y(this,ui).get(r).visible;else return Jt(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class UEe{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ss(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:l}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=l,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),e.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});Ss(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,s,r;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ss(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new HEe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new $Ee(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class HEe{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=IO(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $Ee{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function qEe(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let f=l(t);return f=unescape(f),f=c(f),f=h(f),r(f)}if(t=a(n),t){const f=h(t);return r(f)}if(t=i("filename","i").exec(n),t){t=t[1];let f=l(t);return f=h(f),r(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function s(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const v=new TextDecoder(f,{fatal:!0}),w=cA(p);p=v.decode(w),e=!1}catch{}}return p}function r(f){return e&&/[\x80-\xff]/.test(f)&&(f=s("utf-8",f),e&&(f=s("iso-8859-1",f))),f}function a(f){const p=[];let v;const w=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=w.exec(f))!==null;){let[,S,C,k]=v;if(S=parseInt(S,10),S in p){if(S===0)break;continue}p[S]=[C,k]}const E=[];for(let S=0;S<p.length&&S in p;++S){let[C,k]=p[S];k=l(k),C&&(k=unescape(k),S===0&&(k=c(k))),E.push(k)}return E.join("")}function l(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let v=0;v<p.length;++v){const w=p[v].indexOf('"');w!==-1&&(p[v]=p[v].slice(0,w),p.length=v+1),p[v]=p[v].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function c(f){const p=f.indexOf("'");if(p===-1)return f;const v=f.slice(0,p),E=f.slice(p+1).replace(/^[^']*'/,"");return s(v,E)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,v,w,E){if(w==="q"||w==="Q")return E=E.replaceAll("_"," "),E=E.replaceAll(/=([0-9a-fA-F]{2})/g,function(S,C){return String.fromCharCode(parseInt(C,16))}),s(v,E);try{E=atob(E)}catch{}return s(v,E)})}return""}function fK(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const s=e[i];s!==void 0&&t.append(i,s)}return t}function QR(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function mK({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function pK(n){const e=n.get("Content-Disposition");if(e){let t=qEe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(IO(t))return t}return null}function fA(n,e){return new QS(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function gK(n){return n===200||n===206}function yK(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function vK(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Jt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class GEe{constructor(e){Ye(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=fK(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ss(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new WEe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new KEe(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class WEe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),s=t.url;fetch(s,yK(i,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=QR(r.url),!gK(r.status))throw fA(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:l,suggestedLength:c}=mK({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=pK(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:vK(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class KEe{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${i-1}`);const a=s.url;fetch(a,yK(r,this._withCredentials,this._abortController)).then(l=>{const c=QR(l.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!gK(l.status))throw fA(l.status,a);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:vK(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const UM=200,HM=206;function YEe(n){const e=n.response;return typeof e!="string"?e:cA(e).buffer}class ZEe{constructor({url:e,httpHeaders:t,withCredentials:i}){Ye(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=fK(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=HM):s.expectedStatus=UM,t.responseType="arraybuffer",Ss(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||UM;if(!(r===UM&&i.expectedStatus===HM)&&r!==i.expectedStatus){i.onError(s.status);return}const l=YEe(s);if(r===HM){const c=s.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);h?i.onDone({begin:parseInt(h[1],10),chunk:l}):(Jt('Missing or invalid "Content-Range" header.'),i.onError(0))}else l?i.onDone({begin:0,chunk:l}):i.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class XEe{constructor(e){this._source=e,this._manager=new ZEe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ss(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new QEe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new JEe(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class QEe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=QR(t.responseURL);const i=t.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(l=>{const[c,...h]=l.split(": ");return[c,h.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=mK({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=pK(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=fA(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class JEe{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=QR((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=fA(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const eAe=/^[a-z][a-z0-9\-+.]+:/i;function tAe(n){if(eAe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class nAe{constructor(e){this.source=e,this.url=tAe(e.url),Ss(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ss(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new iAe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new sAe(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class iAe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=fA(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sAe{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Sb=Symbol("INITIAL_DATA");var fo,jx,qI;class _K{constructor(){G(this,jx);G(this,fo,Object.create(null))}get(e,t=null){if(t){const s=W(this,jx,qI).call(this,e);return s.promise.then(()=>t(s.data)),null}const i=y(this,fo)[e];if(!i||i.data===Sb)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=y(this,fo)[e];return!!t&&t.data!==Sb}delete(e){const t=y(this,fo)[e];return!t||t.data===Sb?!1:(delete y(this,fo)[e],!0)}resolve(e,t=null){const i=W(this,jx,qI).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in y(this,fo)){const{data:i}=y(this,fo)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}O(this,fo,Object.create(null))}*[Symbol.iterator](){for(const e in y(this,fo)){const{data:t}=y(this,fo)[e];t!==Sb&&(yield[e,t])}}}fo=new WeakMap,jx=new WeakSet,qI=function(e){var t;return(t=y(this,fo))[e]||(t[e]={...Promise.withResolvers(),data:Sb})};const rAe=1e5,Iz=30;var X6,Sf,Na,Fx,Vx,qp,vh,Bx,zx,Gp,Kv,Yv,Cf,Zv,Ux,Xv,Wp,Hx,$x,Qv,Kp,qx,Rf,Jv,Qh,bK,wK,GI,Lo,DT,WI,xK,EK;const js=class js{constructor({textContentSource:e,container:t,viewport:i}){G(this,Qh);G(this,Sf,Promise.withResolvers());G(this,Na,null);G(this,Fx,!1);G(this,Vx,!!((X6=globalThis.FontInspector)!=null&&X6.enabled));G(this,qp,null);G(this,vh,null);G(this,Bx,0);G(this,zx,0);G(this,Gp,null);G(this,Kv,null);G(this,Yv,0);G(this,Cf,0);G(this,Zv,Object.create(null));G(this,Ux,[]);G(this,Xv,null);G(this,Wp,[]);G(this,Hx,new WeakMap);G(this,$x,null);var c;if(e instanceof ReadableStream)O(this,Xv,e);else if(typeof e=="object")O(this,Xv,new ReadableStream({start(h){h.enqueue(e),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');O(this,Na,O(this,Kv,t)),O(this,Cf,i.scale*Su.pixelRatio),O(this,Yv,i.rotation),O(this,vh,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:l}=i.rawDims;O(this,$x,[1,0,0,-1,-a,l+r]),O(this,zx,s),O(this,Bx,r),W(c=js,Lo,xK).call(c),zg(t,i),y(this,Sf).promise.finally(()=>{y(js,Jv).delete(this),O(this,vh,null),O(this,Zv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ir.platform;return vn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{y(this,Gp).read().then(({value:t,done:i})=>{if(i){y(this,Sf).resolve();return}y(this,qp)??O(this,qp,t.lang),Object.assign(y(this,Zv),t.styles),W(this,Qh,bK).call(this,t.items),e()},y(this,Sf).reject)};return O(this,Gp,y(this,Xv).getReader()),y(js,Jv).add(this),e(),y(this,Sf).promise}update({viewport:e,onBefore:t=null}){var r;const i=e.scale*Su.pixelRatio,s=e.rotation;if(s!==y(this,Yv)&&(t==null||t(),O(this,Yv,s),zg(y(this,Kv),{rotation:s})),i!==y(this,Cf)){t==null||t(),O(this,Cf,i);const a={div:null,properties:null,ctx:W(r=js,Lo,DT).call(r,y(this,qp))};for(const l of y(this,Wp))a.properties=y(this,Hx).get(l),a.div=l,W(this,Qh,GI).call(this,a)}}cancel(){var t;const e=new vm("TextLayer task cancelled.");(t=y(this,Gp))==null||t.cancel(e).catch(()=>{}),O(this,Gp,null),y(this,Sf).reject(e)}get textDivs(){return y(this,Wp)}get textContentItemsStr(){return y(this,Ux)}static cleanup(){if(!(y(this,Jv).size>0)){y(this,Qv).clear();for(const{canvas:e}of y(this,Kp).values())e.remove();y(this,Kp).clear()}}};Sf=new WeakMap,Na=new WeakMap,Fx=new WeakMap,Vx=new WeakMap,qp=new WeakMap,vh=new WeakMap,Bx=new WeakMap,zx=new WeakMap,Gp=new WeakMap,Kv=new WeakMap,Yv=new WeakMap,Cf=new WeakMap,Zv=new WeakMap,Ux=new WeakMap,Xv=new WeakMap,Wp=new WeakMap,Hx=new WeakMap,$x=new WeakMap,Qv=new WeakMap,Kp=new WeakMap,qx=new WeakMap,Rf=new WeakMap,Jv=new WeakMap,Qh=new WeakSet,bK=function(e){var s,r;if(y(this,Fx))return;(r=y(this,vh)).ctx??(r.ctx=W(s=js,Lo,DT).call(s,y(this,qp)));const t=y(this,Wp),i=y(this,Ux);for(const a of e){if(t.length>rAe){Jt("Ignoring additional textDivs for performance reasons."),O(this,Fx,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=y(this,Na);O(this,Na,document.createElement("span")),y(this,Na).classList.add("markedContent"),a.id&&y(this,Na).setAttribute("id",`${a.id}`),l.append(y(this,Na))}else a.type==="endMarkedContent"&&O(this,Na,y(this,Na).parentNode);continue}i.push(a.str),W(this,Qh,wK).call(this,a)}},wK=function(e){var S;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};y(this,Wp).push(t);const s=Pt.transform(y(this,$x),e.transform);let r=Math.atan2(s[1],s[0]);const a=y(this,Zv)[e.fontName];a.vertical&&(r+=Math.PI/2);let l=y(this,Vx)&&a.fontSubstitution||a.fontFamily;l=js.fontFamilyMap.get(l)||l;const c=Math.hypot(s[2],s[3]),h=c*W(S=js,Lo,EK).call(S,l,a,y(this,qp));let f,p;r===0?(f=s[4],p=s[5]-h):(f=s[4]+h*Math.sin(r),p=s[5]-h*Math.cos(r));const v="calc(var(--total-scale-factor) *",w=t.style;y(this,Na)===y(this,Kv)?(w.left=`${(100*f/y(this,zx)).toFixed(2)}%`,w.top=`${(100*p/y(this,Bx)).toFixed(2)}%`):(w.left=`${v}${f.toFixed(2)}px)`,w.top=`${v}${p.toFixed(2)}px)`),w.fontSize=`${v}${(y(js,Rf)*c).toFixed(2)}px)`,w.fontFamily=l,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,y(this,Vx)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let E=!1;if(e.str.length>1)E=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const C=Math.abs(e.transform[0]),k=Math.abs(e.transform[3]);C!==k&&Math.max(C,k)/Math.min(C,k)>1.5&&(E=!0)}if(E&&(i.canvasWidth=a.vertical?e.height:e.width),y(this,Hx).set(t,i),y(this,vh).div=t,y(this,vh).properties=i,W(this,Qh,GI).call(this,y(this,vh)),i.hasText&&y(this,Na).append(t),i.hasEOL){const C=document.createElement("br");C.setAttribute("role","presentation"),y(this,Na).append(C)}},GI=function(e){var l;const{div:t,properties:i,ctx:s}=e,{style:r}=t;let a="";if(y(js,Rf)>1&&(a=`scale(${1/y(js,Rf)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=r,{canvasWidth:h,fontSize:f}=i;W(l=js,Lo,WI).call(l,s,f*y(this,Cf),c);const{width:p}=s.measureText(t.textContent);p>0&&(a=`scaleX(${h*y(this,Cf)/p}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(r.transform=a)},Lo=new WeakSet,DT=function(e=null){let t=y(this,Kp).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),y(this,Kp).set(e,t),y(this,qx).set(t,{size:0,family:""})}return t},WI=function(e,t,i){const s=y(this,qx).get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)},xK=function(){if(y(this,Rf)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),O(this,Rf,e.getBoundingClientRect().height),e.remove()},EK=function(e,t,i){const s=y(this,Qv).get(e);if(s)return s;const r=W(this,Lo,DT).call(this,i);r.canvas.width=r.canvas.height=Iz,W(this,Lo,WI).call(this,r,Iz,e);const a=r.measureText(""),l=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let h=.8;return l?h=l/(l+c):(Ir.platform.isFirefox&&Jt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),y(this,Qv).set(e,h),h},G(js,Lo),G(js,Qv,new Map),G(js,Kp,new Map),G(js,qx,new WeakMap),G(js,Rf,null),G(js,Jv,new Set);let Gw=js;class Ww{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function s(r){var c;if(!r)return;let a=null;const l=r.name;if(l==="#text")a=r.value;else if(Ww.shouldBuildText(l))(c=r==null?void 0:r.attributes)!=null&&c.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&t.push({str:a}),!!r.children)for(const h of r.children)s(h)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const aAe=100;function AK(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new KI,{docId:t}=e,i=n.url?pEe(n.url):null,s=n.data?gEe(n.data):null,r=n.httpHeaders||null,a=n.withCredentials===!0,l=n.password??null,c=n.range instanceof TK?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof Kw?n.worker:null;const p=n.verbosity,v=typeof n.docBaseUrl=="string"&&!ZR(n.docBaseUrl)?n.docBaseUrl:null,w=$1(n.cMapUrl),E=n.cMapPacked!==!1,S=n.CMapReaderFactory||(ga?AEe:bz),C=$1(n.iccUrl),k=$1(n.standardFontDataUrl),N=n.StandardFontDataFactory||(ga?TEe:wz),I=$1(n.wasmUrl),z=n.WasmFactory||(ga?SEe:xz),V=n.stopAtErrors!==!0,H=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,B=n.isEvalSupported!==!1,j=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!ga,q=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!ga&&(Ir.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,Z=typeof n.disableFontFace=="boolean"?n.disableFontFace:ga,ne=n.fontExtraProperties===!0,Q=n.enableXfa===!0,_e=n.ownerDocument||globalThis.document,Le=n.disableRange===!0,ee=n.disableStream===!0,se=n.disableAutoFetch===!0,ie=n.pdfBug===!0,Te=n.CanvasFactory||(ga?EEe:bEe),J=n.FilterFactory||(ga?xEe:wEe),ce=n.enableHWA===!0,ge=n.useWasm!==!1,ue=c?c.length:n.length??NaN,De=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!ga&&!Z,$e=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(S===bz&&N===wz&&z===xz&&w&&k&&I&&Ub(w,document.baseURI)&&Ub(k,document.baseURI)&&Ub(I,document.baseURI)),Pe=null;Wxe(p);const We={canvasFactory:new Te({ownerDocument:_e,enableHWA:ce}),filterFactory:new J({docId:t,ownerDocument:_e}),cMapReaderFactory:$e?null:new S({baseUrl:w,isCompressed:E}),standardFontDataFactory:$e?null:new N({baseUrl:k}),wasmFactory:$e?null:new z({baseUrl:I})};f||(f=Kw.create({verbosity:p,port:lu.workerPort}),e._worker=f);const je={docId:t,apiVersion:"5.4.54",data:s,password:l,disableAutoFetch:se,rangeChunkSize:h,length:ue,docBaseUrl:v,enableXfa:Q,evaluatorOptions:{maxImageSize:H,disableFontFace:Z,ignoreErrors:V,isEvalSupported:B,isOffscreenCanvasSupported:j,isImageDecoderSupported:q,canvasMaxAreaInBytes:Y,fontExtraProperties:ne,useSystemFonts:De,useWasm:ge,useWorkerFetch:$e,cMapUrl:w,iccUrl:C,standardFontDataUrl:k,wasmUrl:I}},nt={ownerDocument:_e,pdfBug:ie,styleElement:Pe,loadingParams:{disableAutoFetch:se,enableXfa:Q}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const et=f.messageHandler.sendWithPromise("GetDocRequest",je,s?[s.buffer]:null);let Ct;if(c)Ct=new UEe(c,{disableRange:Le,disableStream:ee});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Dt=Ub(i)?GEe:ga?nAe:XEe;Ct=new Dt({url:i,length:ue,httpHeaders:r,withCredentials:a,rangeChunkSize:h,disableRange:Le,disableStream:ee})}return et.then(Dt=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const cn=new Wb(t,Dt,f.port),On=new cAe(cn,e,Ct,nt,We,ce);e._transport=On,cn.send("Ready",null)})}).catch(e._capability.reject),e}var xC;const EC=class EC{constructor(){Ye(this,"_capability",Promise.withResolvers());Ye(this,"_transport",null);Ye(this,"_worker",null);Ye(this,"docId",`d${ua(EC,xC)._++}`);Ye(this,"destroyed",!1);Ye(this,"onPassword",null);Ye(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};xC=new WeakMap,G(EC,xC,0);let KI=EC;var Yp,Gx,Wx,Kx,Yx;class TK{constructor(e,t,i=!1,s=null){G(this,Yp,Promise.withResolvers());G(this,Gx,[]);G(this,Wx,[]);G(this,Kx,[]);G(this,Yx,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s}addRangeListener(e){y(this,Yx).push(e)}addProgressListener(e){y(this,Kx).push(e)}addProgressiveReadListener(e){y(this,Wx).push(e)}addProgressiveDoneListener(e){y(this,Gx).push(e)}onDataRange(e,t){for(const i of y(this,Yx))i(e,t)}onDataProgress(e,t){y(this,Yp).promise.then(()=>{for(const i of y(this,Kx))i(e,t)})}onDataProgressiveRead(e){y(this,Yp).promise.then(()=>{for(const t of y(this,Wx))t(e)})}onDataProgressiveDone(){y(this,Yp).promise.then(()=>{for(const e of y(this,Gx))e()})}transportReady(){y(this,Yp).resolve()}requestDataRange(e,t){fi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Yp=new WeakMap,Gx=new WeakMap,Wx=new WeakMap,Kx=new WeakMap,Yx=new WeakMap;class oAe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return vn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _h,Zp,Qb;class lAe{constructor(e,t,i,s=!1){G(this,Zp);G(this,_h,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new yz:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new _K,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new hA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return vn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:s="display",annotationMode:r=of.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:v=!1}){var V,H;(V=this._stats)==null||V.time("Overall");const w=this._transport.getRenderingIntent(s,r,p,v),{renderingIntent:E,cacheKey:S}=w;O(this,_h,!1),c||(c=this._transport.getOptionalContentConfig(E));let C=this._intentStates.get(S);C||(C=Object.create(null),this._intentStates.set(S,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const k=!!(E&To.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(w));const N=B=>{var j;C.renderTasks.delete(I),k&&O(this,_h,!0),W(this,Zp,Qb).call(this),B?(I.capability.reject(B),this._abortOperatorList({intentState:C,reason:B instanceof Error?B:new Error(B)})):I.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(j=globalThis.Stats)!=null&&j.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},I=new YI({callback:N,params:{canvas:t,canvasContext:e,viewport:i,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA});(C.renderTasks||(C.renderTasks=new Set)).add(I);const z=I.task;return Promise.all([C.displayReadyCapability.promise,c]).then(([B,j])=>{var q;if(this.destroyed){N();return}if((q=this._stats)==null||q.time("Rendering"),!(j.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");I.initializeGraphics({transparency:B,optionalContentConfig:j}),I.operatorListChanged()}).catch(N),z}getOperatorList({intent:e="display",annotationMode:t=of.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var h;function r(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,i,s,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Ww.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,s){function r(){a.read().then(function({value:c,done:h}){if(h){i(l);return}l.lang??(l.lang=c.lang),Object.assign(l.styles,c.styles),l.items.push(...c.items),r()},s)}const a=t.getReader(),l={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),O(this,_h,!1),Promise.all(e)}cleanup(e=!1){O(this,_h,!0);const t=W(this,Zp,Qb).call(this);return e&&t&&this._stats&&(this._stats=new yz),t}_startRenderPage(e,t){var s,r;const i=this._intentStates.get(t);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&W(this,Zp,Qb).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:a}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:s},a).getReader(),h=this._intentStates.get(t);h.streamReader=c;const f=()=>{c.read().then(({value:p,done:v})=>{if(v){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const v of h.renderTasks)v.operatorListChanged();W(this,Zp,Qb).call(this)}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof PO){let s=aAe;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new vm(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}_h=new WeakMap,Zp=new WeakSet,Qb=function(){if(!y(this,_h)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),O(this,_h,!1),!0};var kf,Hl,bh,Xp,AC,Qp,Jp,wa,NT,SK,CK,Jb,e_,LT;const ki=class ki{constructor({name:e=null,port:t=null,verbosity:i=Kxe()}={}){G(this,wa);G(this,kf,Promise.withResolvers());G(this,Hl,null);G(this,bh,null);G(this,Xp,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(y(ki,Jp).has(t))throw new Error("Cannot use more than one PDFWorker per port.");y(ki,Jp).set(t,this),W(this,wa,SK).call(this,t)}else W(this,wa,CK).call(this)}get promise(){return y(this,kf).promise}get port(){return y(this,bh)}get messageHandler(){return y(this,Hl)}destroy(){var e,t;this.destroyed=!0,(e=y(this,Xp))==null||e.terminate(),O(this,Xp,null),y(ki,Jp).delete(y(this,bh)),O(this,bh,null),(t=y(this,Hl))==null||t.destroy(),O(this,Hl,null)}static create(e){const t=y(this,Jp).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ki(e)}static get workerSrc(){if(lu.workerSrc)return lu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return vn(this,"_setupFakeWorkerGlobal",(async()=>y(this,e_,LT)?y(this,e_,LT):(await import(this.workerSrc)).WorkerMessageHandler)())}};kf=new WeakMap,Hl=new WeakMap,bh=new WeakMap,Xp=new WeakMap,AC=new WeakMap,Qp=new WeakMap,Jp=new WeakMap,wa=new WeakSet,NT=function(){y(this,kf).resolve(),y(this,Hl).send("configure",{verbosity:this.verbosity})},SK=function(e){O(this,bh,e),O(this,Hl,new Wb("main","worker",e)),y(this,Hl).on("ready",()=>{}),W(this,wa,NT).call(this)},CK=function(){if(y(ki,Qp)||y(ki,e_,LT)){W(this,wa,Jb).call(this);return}let{workerSrc:e}=ki;try{ki._isSameOrigin(window.location,e)||(e=ki._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new Wb("main","worker",t),s=()=>{r.abort(),i.destroy(),t.terminate(),this.destroyed?y(this,kf).reject(new Error("Worker was destroyed")):W(this,wa,Jb).call(this)},r=new AbortController;t.addEventListener("error",()=>{y(this,Xp)||s()},{signal:r.signal}),i.on("test",l=>{if(r.abort(),this.destroyed||!l){s();return}O(this,Hl,i),O(this,bh,t),O(this,Xp,t),W(this,wa,NT).call(this)}),i.on("ready",l=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{W(this,wa,Jb).call(this)}});const a=()=>{const l=new Uint8Array;i.send("test",l,[l.buffer])};a();return}catch{YR("The worker has been disabled.")}W(this,wa,Jb).call(this)},Jb=function(){y(ki,Qp)||(Jt("Setting up fake worker."),O(ki,Qp,!0)),ki._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){y(this,kf).reject(new Error("Worker was destroyed"));return}const t=new _Ee;O(this,bh,t);const i=`fake${ua(ki,AC)._++}`,s=new Wb(i+"_worker",i,t);e.setup(s,t),O(this,Hl,new Wb(i,i+"_worker",t)),W(this,wa,NT).call(this)}).catch(e=>{y(this,kf).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},e_=new WeakSet,LT=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},G(ki,e_),G(ki,AC,0),G(ki,Qp,!1),G(ki,Jp,new WeakMap),ga&&(O(ki,Qp,!0),lu.workerSrc||(lu.workerSrc="./pdf.worker.mjs")),ki._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(t,i);return i.origin===s.origin},ki._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ki.fromPort=e=>{if(aEe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return ki.create(e)};let Kw=ki;var wh,Zc,t_,n_,xh,eg,ew;class cAe{constructor(e,t,i,s,r,a){G(this,eg);G(this,wh,new Map);G(this,Zc,new Map);G(this,t_,new Map);G(this,n_,new Map);G(this,xh,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new _K,this.fontLoader=new fEe({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return vn(this,"annotationStorage",new DO)}getRenderingIntent(e,t=of.ENABLE,i=null,s=!1,r=!1){let a=To.DISPLAY,l=LI;switch(e){case"any":a=To.ANY;break;case"display":break;case"print":a=To.PRINT;break;default:Jt(`getRenderingIntent - invalid intent: ${e}`)}const c=a&To.PRINT&&i instanceof iK?i:this.annotationStorage;switch(t){case of.DISABLE:a+=To.ANNOTATIONS_DISABLE;break;case of.ENABLE:break;case of.ENABLE_FORMS:a+=To.ANNOTATIONS_FORMS;break;case of.ENABLE_STORAGE:a+=To.ANNOTATIONS_STORAGE,l=c.serializable;break;default:Jt(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(a+=To.IS_EDITING),r&&(a+=To.OPLIST);const{ids:h,hash:f}=c.modifiedIds,p=[a,l.hash,f];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:l,modifiedIds:h}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=y(this,xh))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of y(this,Zc).values())e.push(s._destroy());y(this,Zc).clear(),y(this,t_).clear(),y(this,n_).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),y(this,wh).clear(),this.filterFactory.destroy(),Gw.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new vm("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{Ss(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Ss(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var l;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((l=t.onProgress)==null||l.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var h;(h=t.onProgress)==null||h.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(i,s)=>{Ss(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:l}){if(l){s.close();return}Ss(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new oAe(i,this))}),e.on("DocException",i=>{t._capability.reject(Pa(i))}),e.on("PasswordRequest",i=>{O(this,xh,Promise.withResolvers());try{if(!t.onPassword)throw Pa(i);const s=r=>{r instanceof Error?y(this,xh).reject(r):y(this,xh).resolve({password:r})};t.onPassword(s,i.code)}catch(s){y(this,xh).reject(s)}return y(this,xh).promise}),e.on("DataLoaded",i=>{var s;(s=t.onProgress)==null||s.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;y(this,Zc).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const f=r.error;Jt(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,c=new mEe(r,l);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:h}=r;Ss(h,"The imageRef must be defined.");for(const f of y(this,Zc).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===h)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,a])=>{var c;if(this.destroyed)return;const l=y(this,Zc).get(s);if(!l.objs.has(i)){if(l._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(r){case"Image":case"Pattern":l.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=t.onProgress)==null||s.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Jt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=y(this,t_).get(t);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&y(this,n_).set(r.refStr,e);const a=new lAe(t,r,this,this._params.pdfBug);return y(this,Zc).set(t,a),a});return y(this,t_).set(t,s),s}getPageIndex(e){return OI(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return W(this,eg,ew).call(this,"GetFieldObjects")}hasJSActions(){return W(this,eg,ew).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return W(this,eg,ew).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return W(this,eg,ew).call(this,"GetOptionalContentConfig").then(t=>new zEe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=y(this,wh).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new VEe(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return y(this,wh).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of y(this,Zc).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),y(this,wh).clear(),this.filterFactory.destroy(!0),Gw.cleanup()}}cachedPageNumber(e){if(!OI(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return y(this,n_).get(t)??null}}wh=new WeakMap,Zc=new WeakMap,t_=new WeakMap,n_=new WeakMap,xh=new WeakMap,eg=new WeakSet,ew=function(e,t=null){const i=y(this,wh).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,t);return y(this,wh).set(e,s),s};var Mf;class uAe{constructor(e){G(this,Mf,null);Ye(this,"onContinue",null);Ye(this,"onError",null);O(this,Mf,e)}get promise(){return y(this,Mf).capability.promise}cancel(e=0){y(this,Mf).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=y(this,Mf).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=y(this,Mf);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Mf=new WeakMap;var Pf,tg;const mp=class mp{constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:l,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:v=null,enableHWA:w=!1}){G(this,Pf,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=l,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=p,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new uAe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,c;if(this.cancelled)return;if(this._canvas){if(y(mp,tg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");y(mp,tg).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:s,background:r}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new xv(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),y(this,Pf)&&(window.cancelAnimationFrame(y(this,Pf)),O(this,Pf,null)),y(mp,tg).delete(this._canvas),e||(e=new PO(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(r=(s=this.task).onError)==null||r.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?O(this,Pf,window.requestAnimationFrame(()=>{O(this,Pf,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),y(mp,tg).delete(this._canvas),this.callback())))}};Pf=new WeakMap,tg=new WeakMap,G(mp,tg,new WeakSet);let YI=mp;const hAe="5.4.54",dAe="295fb3ec4";var mo,ng,i_,Bs,Zx,s_,Eh,Xx,If,$l,Qx,di,ZI,XI,QI,lp,RK,Xd;const Ia=class Ia{constructor({editor:e=null,uiManager:t=null}){G(this,di);G(this,mo,null);G(this,ng,null);G(this,i_);G(this,Bs,null);G(this,Zx,!1);G(this,s_,!1);G(this,Eh,null);G(this,Xx);G(this,If,null);G(this,$l,null);var i,s;e?(O(this,s_,!1),O(this,Eh,e)):O(this,s_,!0),O(this,$l,(e==null?void 0:e._uiManager)||t),O(this,Xx,y(this,$l)._eventBus),O(this,i_,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((s=y(this,$l))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98"),y(Ia,Qx)||O(Ia,Qx,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return vn(this,"_keyboardManager",new dA([[["Escape","mac+Escape"],Ia.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ia.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ia.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ia.prototype._moveToPrevious],[["Home","mac+Home"],Ia.prototype._moveToBeginning],[["End","mac+End"],Ia.prototype._moveToEnd]]))}renderButton(){const e=O(this,mo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",y(this,Eh)&&(e.ariaControls=`${y(this,Eh).id}_colorpicker_dropdown`);const t=y(this,$l)._signal;e.addEventListener("click",W(this,di,lp).bind(this),{signal:t}),e.addEventListener("keydown",W(this,di,QI).bind(this),{signal:t});const i=O(this,ng,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=y(this,i_),e.append(i),e}renderMainDropdown(){const e=O(this,Bs,W(this,di,ZI).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===y(this,mo)){W(this,di,lp).call(this,e);return}const t=e.target.getAttribute("data-color");t&&W(this,di,XI).call(this,t,e)}_moveToNext(e){var t,i;if(!y(this,di,Xd)){W(this,di,lp).call(this,e);return}if(e.target===y(this,mo)){(t=y(this,Bs).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=y(this,Bs))==null?void 0:t.firstChild)||e.target===y(this,mo)){y(this,di,Xd)&&this._hideDropdownFromKeyboard();return}y(this,di,Xd)||W(this,di,lp).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!y(this,di,Xd)){W(this,di,lp).call(this,e);return}(t=y(this,Bs).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!y(this,di,Xd)){W(this,di,lp).call(this,e);return}(t=y(this,Bs).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=y(this,Bs))==null||e.classList.add("hidden"),y(this,mo).ariaExpanded="false",(t=y(this,If))==null||t.abort(),O(this,If,null)}_hideDropdownFromKeyboard(){var e;if(!y(this,s_)){if(!y(this,di,Xd)){(e=y(this,Eh))==null||e.unselect();return}this.hideDropdown(),y(this,mo).focus({preventScroll:!0,focusVisible:y(this,Zx)})}}updateColor(e){if(y(this,ng)&&(y(this,ng).style.backgroundColor=e),!y(this,Bs))return;const t=y(this,$l).highlightColors.values();for(const i of y(this,Bs).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=y(this,mo))==null||e.remove(),O(this,mo,null),O(this,ng,null),(t=y(this,Bs))==null||t.remove(),O(this,Bs,null)}};mo=new WeakMap,ng=new WeakMap,i_=new WeakMap,Bs=new WeakMap,Zx=new WeakMap,s_=new WeakMap,Eh=new WeakMap,Xx=new WeakMap,If=new WeakMap,$l=new WeakMap,Qx=new WeakMap,di=new WeakSet,ZI=function(){const e=document.createElement("div"),t=y(this,$l)._signal;e.addEventListener("contextmenu",_l,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),y(this,Eh)&&(e.id=`${y(this,Eh).id}_colorpicker_dropdown`);for(const[i,s]of y(this,$l).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",y(Ia,Qx)[i]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.ariaSelected=s===y(this,i_),r.addEventListener("click",W(this,di,XI).bind(this,s),{signal:t}),e.append(r)}return e.addEventListener("keydown",W(this,di,QI).bind(this),{signal:t}),e},XI=function(e,t){t.stopPropagation(),y(this,Xx).dispatch("switchannotationeditorparams",{source:this,type:In.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},QI=function(e){Ia._keyboardManager.exec(this,e)},lp=function(e){if(y(this,di,Xd)){this.hideDropdown();return}if(O(this,Zx,e.detail===0),y(this,If)||(O(this,If,new AbortController),window.addEventListener("pointerdown",W(this,di,RK).bind(this),{signal:y(this,$l).combinedSignal(y(this,If))})),y(this,mo).ariaExpanded="true",y(this,Bs)){y(this,Bs).classList.remove("hidden");return}const t=O(this,Bs,W(this,di,ZI).call(this));y(this,mo).append(t)},RK=function(e){var t;(t=y(this,Bs))!=null&&t.contains(e.target)||this.hideDropdown()},Xd=function(){return y(this,Bs)&&!y(this,Bs).classList.contains("hidden")},G(Ia,Qx,null);let nC=Ia;var Xc,Jx,r_,eE;const pp=class pp{constructor(e){G(this,Xc,null);G(this,Jx,null);G(this,r_,null);O(this,Jx,e),O(this,r_,e._uiManager),y(pp,eE)||O(pp,eE,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(y(this,Xc))return y(this,Xc);const{editorType:e,colorType:t,colorValue:i}=y(this,Jx),s=O(this,Xc,document.createElement("input"));return s.type="color",s.value=i||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",y(pp,eE)[e]),s.addEventListener("input",()=>{y(this,r_).updateParams(t,s.value)},{signal:y(this,r_)._signal}),s}update(e){y(this,Xc)&&(y(this,Xc).value=e)}destroy(){var e;(e=y(this,Xc))==null||e.remove(),O(this,Xc,null)}hideDropdown(){}};Xc=new WeakMap,Jx=new WeakMap,r_=new WeakMap,eE=new WeakMap,G(pp,eE,null);let iC=pp;function Dz(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Cb(n){return Math.max(0,Math.min(255,255*n))}class Nz{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Cb(e),[e,e,e]}static G_HTML([e]){const t=Dz(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Cb)}static RGB_HTML(e){return`#${e.map(Dz).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[Cb(1-Math.min(1,e+s)),Cb(1-Math.min(1,i+s)),Cb(1-Math.min(1,t+s))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const s=1-e,r=1-t,a=1-i,l=Math.min(s,r,a);return["CMYK",s,r,a,l]}}class fAe{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fi("Abstract method `_createSVG` called.")}}class sC extends fAe{_createSVG(e){return document.createElementNS(Ju,e)}}class kK{static setupStorage(e,t,i,s,r){const a=s.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",l=>{s.setValue(t,{value:l.target.checked?l.target.getAttribute("xfaOn"):l.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",l=>{s.setValue(t,{value:l.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const l of i.children)l.attributes.value===a.value?l.attributes.selected=!0:l.attributes.hasOwnProperty("selected")&&delete l.attributes.selected}e.addEventListener("input",l=>{const c=l.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;s.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:r}){const{attributes:a}=t,l=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[c,h]of Object.entries(a))if(h!=null)switch(c){case"class":h.length&&e.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!l||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,h)}l&&r.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var p,v;const t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:i});const l=r!=="richText",c=e.div;if(c.append(a),e.viewport){const w=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=w}l&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(s.children.length===0){if(s.value){const w=document.createTextNode(s.value);a.append(w),l&&Ww.shouldBuildText(s.name)&&h.push(w)}return{textDivs:h}}const f=[[s,-1,a]];for(;f.length>0;){const[w,E,S]=f.at(-1);if(E+1===w.children.length){f.pop();continue}const C=w.children[++f.at(-1)[1]];if(C===null)continue;const{name:k}=C;if(k==="#text"){const I=document.createTextNode(C.value);h.push(I),S.append(I);continue}const N=(p=C==null?void 0:C.attributes)!=null&&p.xmlns?document.createElementNS(C.attributes.xmlns,k):document.createElement(k);if(S.append(N),C.attributes&&this.setAttributes({html:N,element:C,storage:t,intent:r,linkService:i}),((v=C.children)==null?void 0:v.length)>0)f.push([C,-1,N]);else if(C.value){const I=document.createTextNode(C.value);l&&Ww.shouldBuildText(k)&&h.push(I),N.append(I)}}for(const w of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const mAe=9,Hg=new WeakSet,pAe=new Date().getTimezoneOffset()*60*1e3;class Lz{static create(e){switch(e.data.annotationType){case bs.LINK:return new OO(e);case bs.TEXT:return new gAe(e);case bs.WIDGET:switch(e.data.fieldType){case"Tx":return new yAe(e);case"Btn":return e.data.radioButton?new IK(e):e.data.checkBox?new _Ae(e):new bAe(e);case"Ch":return new wAe(e);case"Sig":return new vAe(e)}return new ty(e);case bs.POPUP:return new eD(e);case bs.FREETEXT:return new jK(e);case bs.LINE:return new EAe(e);case bs.SQUARE:return new AAe(e);case bs.CIRCLE:return new TAe(e);case bs.POLYLINE:return new FK(e);case bs.CARET:return new CAe(e);case bs.INK:return new jO(e);case bs.POLYGON:return new SAe(e);case bs.HIGHLIGHT:return new VK(e);case bs.UNDERLINE:return new RAe(e);case bs.SQUIGGLY:return new kAe(e);case bs.STRIKEOUT:return new MAe(e);case bs.STAMP:return new BK(e);case bs.FILEATTACHMENT:return new PAe(e);default:return new fs(e)}}}var ig,a_,Ah,tE,JI;const wj=class wj{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){G(this,tE);G(this,ig,null);G(this,a_,!1);G(this,Ah,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return wj._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;e.rect&&(y(this,ig)||O(this,ig,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&W(this,tE,JI).call(this,t);let s=((r=y(this,Ah))==null?void 0:r.popup)||this.popup;!s&&(i!=null&&i.text)&&(this._createPopup(i),s=y(this,Ah).popup),s&&(s.updateEdited(e),i!=null&&i.deleted&&(s.remove(),O(this,Ah,null),this.popup=null))}resetEdited(){var e;y(this,ig)&&(W(this,tE,JI).call(this,y(this,ig).rect),(e=y(this,Ah))==null||e.popup.resetEdited(),O(this,ig,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof ty)&&!(this instanceof OO)&&(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof eD){const{rotation:S}=t;return!t.hasOwnCanvas&&S!==0&&this.setRotation(S,r),r}const{width:l,height:c}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const S=t.borderStyle.horizontalCornerRadius,C=t.borderStyle.verticalCornerRadius;if(S>0||C>0){const N=`calc(${S}px * var(--total-scale-factor)) / calc(${C}px * var(--total-scale-factor))`;a.borderRadius=N}else if(this instanceof IK){const N=`calc(${l}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=N}switch(t.borderStyle.style){case Ky.SOLID:a.borderStyle="solid";break;case Ky.DASHED:a.borderStyle="dashed";break;case Ky.BEVELED:Jt("Unimplemented border style: beveled");break;case Ky.INSET:Jt("Unimplemented border style: inset");break;case Ky.UNDERLINE:a.borderBottomStyle="solid";break}const k=t.borderColor||null;k?(O(this,a_,!0),a.borderColor=Pt.makeHexColor(k[0]|0,k[1]|0,k[2]|0)):a.borderWidth=0}const h=Pt.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:v,pageY:w}=s.rawDims;a.left=`${100*(h[0]-v)/f}%`,a.top=`${100*(h[1]-w)/p}%`;const{rotation:E}=t;return t.hasOwnCanvas||E===0?(a.width=`${100*l/f}%`,a.height=`${100*c/p}%`):this.setRotation(E,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:a}=this;e%180!==0&&([r,a]=[a,r]),t.style.width=`${100*r/i}%`,t.style.height=`${100*a/s}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,s)=>{const r=s.detail[t],a=r[0],l=r.slice(1);s.target.style[i]=Nz[`${a}_HTML`](l),this.annotationStorage.setValue(this.data.id,{[i]:Nz[`${a}_rgb`](l)})};return vn(this,"_commonActions",{display:t=>{const{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const s of Object.keys(t.detail)){const r=e[s]||i[s];r==null||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[s,r]of Object.entries(t)){const a=i[s];if(a){const l={detail:{[s]:r},target:e};a(l),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,s,r]=this.data.rect.map(S=>Math.fround(S));if(e.length===8){const[S,C,k,N]=e.subarray(2,6);if(s===S&&r===C&&t===k&&i===N)return}const{style:a}=this.container;let l;if(y(this,a_)){const{borderColor:S,borderWidth:C}=a;a.borderWidth=0,l=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${S}" stroke-width="${C}">`],this.container.classList.add("hasBorder")}const c=s-t,h=r-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const v=f.createElement("defs");p.append(v);const w=f.createElement("clipPath"),E=`clippath_${this.data.id}`;w.setAttribute("id",E),w.setAttribute("clipPathUnits","objectBoundingBox"),v.append(w);for(let S=2,C=e.length;S<C;S+=8){const k=e[S],N=e[S+1],I=e[S+2],z=e[S+3],V=f.createElement("rect"),H=(I-t)/c,B=(r-N)/h,j=(k-I)/c,q=(N-z)/h;V.setAttribute("x",H),V.setAttribute("y",B),V.setAttribute("width",j),V.setAttribute("height",q),w.append(V),l==null||l.push(`<rect vector-effect="non-scaling-stroke" x="${H}" y="${B}" width="${j}" height="${q}"/>`)}y(this,a_)&&(l.push("</g></svg>')"),a.backgroundImage=l.join("")),this.container.append(p),this.container.style.clipPath=`url(#${E})`}_createPopup(e=null){const{data:t}=this;let i,s;e?(i={str:e.text},s=e.date):(i=t.contentsObj,s=t.modificationDate);const r=O(this,Ah,new eD({data:{color:t.color,titleObj:t.titleObj,modificationDate:s,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}get hasPopupElement(){return!!(y(this,Ah)||this.popup||this.data.popupRef)}render(){fi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:a,exportValues:l}of s){if(r===-1||a===t)continue;const c=typeof l=="string"?l:null,h=document.querySelector(`[data-element-id="${a}"]`);if(h&&!Hg.has(h)){Jt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:h})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==t&&Hg.has(s)&&i.push({id:a,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};ig=new WeakMap,a_=new WeakMap,Ah=new WeakMap,tE=new WeakSet,JI=function(e){const{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-l)/r}%`,t.top=`${100*(a-e[3]+c)/a}%`,s===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(s)};let fs=wj;var Po,cp,MK,PK;class OO extends fs{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});G(this,Po);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",t.id);let r=!1;return t.url?(i.addLinkAttributes(s,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(s,t.action,t.overlaidText),r=!0):t.attachment?(W(this,Po,MK).call(this,s,t.attachment,t.overlaidText,t.attachmentDest),r=!0):t.setOCGState?(W(this,Po,PK).call(this,s,t.setOCGState,t.overlaidText),r=!0):t.dest?(this._bindLink(s,t.dest,t.overlaidText),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,t),r=!0),t.resetForm?(this._bindResetFormAction(s,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(t,i,s=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&W(this,Po,cp).call(this),s&&(t.title=s)}_bindNamedAction(t,i,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),s&&(t.title=s),W(this,Po,cp).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const a=s.get(r);a&&(t[a]=()=>{var l;return(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),W(this,Po,cp).call(this)}_bindResetFormAction(t,i){const s=t.onclick;if(s||(t.href=this.linkService.getAnchorUrl("")),W(this,Po,cp).call(this),!this._fieldObjects){Jt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(t.onclick=()=>!1);return}t.onclick=()=>{var p;s==null||s();const{fields:r,refs:a,include:l}=i,c=[];if(r.length!==0||a.length!==0){const v=new Set(a);for(const w of r){const E=this._fieldObjects[w]||[];for(const{id:S}of E)v.add(S)}for(const w of Object.values(this._fieldObjects))for(const E of w)v.has(E.id)===l&&c.push(E)}else for(const v of Object.values(this._fieldObjects))c.push(...v);const h=this.annotationStorage,f=[];for(const v of c){const{id:w}=v;switch(f.push(w),v.type){case"text":{const S=v.defaultValue||"";h.setValue(w,{value:S});break}case"checkbox":case"radiobutton":{const S=v.defaultValue===v.exportValues;h.setValue(w,{value:S});break}case"combobox":case"listbox":{const S=v.defaultValue||"";h.setValue(w,{value:S});break}default:continue}const E=document.querySelector(`[data-element-id="${w}"]`);if(E){if(!Hg.has(E)){Jt(`_bindResetFormAction - element not allowed: ${w}`);continue}}else continue;E.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Po=new WeakSet,cp=function(){this.container.setAttribute("data-internal-link","")},MK=function(t,i,s="",r=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:s&&(t.title=s),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,r),!1},W(this,Po,cp).call(this)},PK=function(t,i,s=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),s&&(t.title=s),W(this,Po,cp).call(this)};class gAe extends fs{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class ty extends fs{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ir.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,r){i.includes("mouse")?e.addEventListener(i,a=>{var l;(l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var l;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}r&&((l=this.linkService.eventBus)==null||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(e,t,i,s){var r,a,l;for(const[c,h]of i)(h==="Action"||(r=this.data.actions)!=null&&r[h])&&((h==="Focus"||h==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,h,s),h==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):h==="Blur"&&!((l=this.data.actions)!=null&&l.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Pt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||mAe,r=e.style;let a;const l=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l),f=Math.round(h/(OM*s))||1,p=h/f;a=Math.min(s,c(p/OM))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-l);a=Math.min(s,c(h/OM))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=Pt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class yAe extends ty{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),r.setValue(a.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let l=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let h=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const f={userValue:l,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=h??l,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",h??l),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Hg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:p,datetimeType:v,timeStep:w}=this.data,E=!!v&&this.enableScripting;p&&(i.title=p),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",C=>{e.setValue(t,{value:C.target.value}),this.setPropertyOnSiblings(i,"value",C.target.value,"value"),f.formattedValue=null}),i.addEventListener("resetform",C=>{const k=this.data.defaultFieldValue??"";i.value=f.userValue=k,f.formattedValue=null});let S=C=>{const{formattedValue:k}=f;k!=null&&(C.target.value=k),C.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",k=>{var I;if(f.focused)return;const{target:N}=k;if(E&&(N.type=v,w&&(N.step=w)),f.userValue){const z=f.userValue;if(E)if(v==="time"){const V=new Date(z),H=[V.getHours(),V.getMinutes(),V.getSeconds()];N.value=H.map(B=>B.toString().padStart(2,"0")).join(":")}else N.value=new Date(z-pAe).toISOString().split(v==="date"?"T":".",1)[0];else N.value=z}f.lastCommittedValue=N.value,f.commitKey=1,(I=this.data.actions)!=null&&I.Focus||(f.focused=!0)}),i.addEventListener("updatefromsandbox",k=>{this.showElementAndHideCanvas(k.target);const N={value(I){f.userValue=I.detail.value??"",E||e.setValue(t,{value:f.userValue.toString()}),I.target.value=f.userValue},formattedValue(I){const{formattedValue:z}=I.detail;f.formattedValue=z,z!=null&&I.target!==document.activeElement&&(I.target.value=z);const V={formattedValue:z};E&&(V.value=z),e.setValue(t,V)},selRange(I){I.target.setSelectionRange(...I.detail.selRange)},charLimit:I=>{var B;const{charLimit:z}=I.detail,{target:V}=I;if(z===0){V.removeAttribute("maxLength");return}V.setAttribute("maxLength",z);let H=f.userValue;!H||H.length<=z||(H=H.slice(0,z),V.value=f.userValue=H,e.setValue(t,{value:H}),(B=this.linkService.eventBus)==null||B.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:H,willCommit:!0,commitKey:1,selStart:V.selectionStart,selEnd:V.selectionEnd}}))}};this._dispatchEventFromSandbox(N,k)}),i.addEventListener("keydown",k=>{var z;f.commitKey=1;let N=-1;if(k.key==="Escape"?N=0:k.key==="Enter"&&!this.data.multiLine?N=2:k.key==="Tab"&&(f.commitKey=3),N===-1)return;const{value:I}=k.target;f.lastCommittedValue!==I&&(f.lastCommittedValue=I,f.userValue=I,(z=this.linkService.eventBus)==null||z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:I,willCommit:!0,commitKey:N,selStart:k.target.selectionStart,selEnd:k.target.selectionEnd}}))});const C=S;S=null,i.addEventListener("blur",k=>{var z,V;if(!f.focused||!k.relatedTarget)return;(z=this.data.actions)!=null&&z.Blur||(f.focused=!1);const{target:N}=k;let{value:I}=N;if(E){if(I&&v==="time"){const H=I.split(":").map(B=>parseInt(B,10));I=new Date(2e3,0,1,H[0],H[1],H[2]||0).valueOf(),N.step=""}else I=new Date(I).valueOf();N.type="text"}f.userValue=I,f.lastCommittedValue!==I&&((V=this.linkService.eventBus)==null||V.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:I,willCommit:!0,commitKey:f.commitKey,selStart:k.target.selectionStart,selEnd:k.target.selectionEnd}})),C(k)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",k=>{var q;f.lastCommittedValue=null;const{data:N,target:I}=k,{value:z,selectionStart:V,selectionEnd:H}=I;let B=V,j=H;switch(k.inputType){case"deleteWordBackward":{const Y=z.substring(0,V).match(/\w*[^\w]*$/);Y&&(B-=Y[0].length);break}case"deleteWordForward":{const Y=z.substring(V).match(/^[^\w]*\w*/);Y&&(j+=Y[0].length);break}case"deleteContentBackward":V===H&&(B-=1);break;case"deleteContentForward":V===H&&(j+=1);break}k.preventDefault(),(q=this.linkService.eventBus)==null||q.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:z,change:N||"",willCommit:!1,selStart:B,selEnd:j}})}),this._setEventListeners(i,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],k=>k.target.value)}if(S&&i.addEventListener("blur",S),this.data.comb){const k=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${k}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class vAe extends ty{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class _Ae extends ty{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Hg.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const h of this._getElementsByName(l,i)){const f=c&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(i,{value:c})}),r.addEventListener("resetform",a=>{const l=t.defaultFieldValue||"Off";a.target.checked=l===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const l={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class IK extends ty{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Hg.add(r),r.setAttribute("data-element-id",i),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",a=>{const{name:l,checked:c}=a.target;for(const h of this._getElementsByName(l,i))e.setValue(h.id,{value:!1});e.setValue(i,{value:c})}),r.addEventListener("resetform",a=>{const l=t.defaultFieldValue;a.target.checked=l!=null&&l===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;r.addEventListener("updatefromsandbox",l=>{const c={value:h=>{const f=a===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const v=f&&p.id===i;p.domElement&&(p.domElement.checked=v),e.setValue(p.id,{value:v})}}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class bAe extends OO{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class wAe extends ty{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");Hg.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const v of s.options)v.selected=v.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),r=!1),s.append(p)}let a=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),s.prepend(f),a=()=>{f.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const l=f=>{const p=f?"value":"textContent",{options:v,multiple:w}=s;return w?Array.prototype.filter.call(v,E=>E.selected).map(E=>E[p]):v.selectedIndex===-1?null:v[v.selectedIndex][p]};let c=l(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",f=>{const p={value(v){a==null||a();const w=v.detail.value,E=new Set(Array.isArray(w)?w:[w]);for(const S of s.options)S.selected=E.has(S.value);e.setValue(t,{value:l(!0)}),c=l(!1)},multipleSelection(v){s.multiple=!0},remove(v){const w=s.options,E=v.detail.remove;w[E].selected=!1,s.remove(E),w.length>0&&Array.prototype.findIndex.call(w,C=>C.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:l(!0),items:h(v)}),c=l(!1)},clear(v){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),c=l(!1)},insert(v){const{index:w,displayValue:E,exportValue:S}=v.detail.insert,C=s.children[w],k=document.createElement("option");k.textContent=E,k.value=S,C?C.before(k):s.append(k),e.setValue(t,{value:l(!0),items:h(v)}),c=l(!1)},items(v){const{items:w}=v.detail;for(;s.length!==0;)s.remove(0);for(const E of w){const{displayValue:S,exportValue:C}=E,k=document.createElement("option");k.textContent=S,k.value=C,s.append(k)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:l(!0),items:h(v)}),c=l(!1)},indices(v){const w=new Set(v.detail.indices);for(const E of v.target.options)E.selected=w.has(E.index);e.setValue(t,{value:l(!0)}),c=l(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(p,f)}),s.addEventListener("input",f=>{var w;const p=l(!0),v=l(!1);e.setValue(t,{value:p}),f.preventDefault(),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:v,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):s.addEventListener("input",function(f){e.setValue(t,{value:l(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class eD extends fs{constructor(e){const{data:t,elements:i}=e;super(e,{isRenderable:fs._hasPopupData(t)}),this.elements=i,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new xAe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const s of this.elements)s.popup=t,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${MO}${s}`).join(",")),this.container}}var o_,TC,SC,l_,c_,Wi,Th,Df,u_,nE,h_,Qc,po,Nf,Sh,iE,Ch,d_,sg,Lf,Wn,OT,jT,tD,DK,NK,LK,OK,FT,VT,nD;class xAe{constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:l,parent:c,rect:h,parentRect:f,open:p}){G(this,Wn);G(this,o_,W(this,Wn,LK).bind(this));G(this,TC,W(this,Wn,nD).bind(this));G(this,SC,W(this,Wn,VT).bind(this));G(this,l_,W(this,Wn,FT).bind(this));G(this,c_,null);G(this,Wi,null);G(this,Th,null);G(this,Df,null);G(this,u_,null);G(this,nE,null);G(this,h_,null);G(this,Qc,!1);G(this,po,null);G(this,Nf,null);G(this,Sh,null);G(this,iE,null);G(this,Ch,null);G(this,d_,null);G(this,sg,null);G(this,Lf,!1);O(this,Wi,e),O(this,d_,s),O(this,Th,a),O(this,Ch,l),O(this,nE,c),O(this,c_,t),O(this,iE,h),O(this,h_,f),O(this,u_,i),O(this,Df,JS.toDateObject(r)),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),W(this,Wn,OT).call(this),y(this,Wi).hidden=!0,p&&W(this,Wn,FT).call(this)}render(){var s;if(y(this,po))return;const e=O(this,po,document.createElement("div"));if(e.className="popup",y(this,c_)){const r=e.style.outlineColor=Pt.makeHexColor(...y(this,c_));e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const t=document.createElement("span");if(t.className="header",(s=y(this,d_))!=null&&s.str){const r=document.createElement("span");r.className="title",t.append(r),{dir:r.dir,str:r.textContent}=y(this,d_)}if(e.append(t),y(this,Df)){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:y(this,Df).valueOf()})),r.dateTime=y(this,Df).toISOString(),t.append(r)}const i=y(this,Wn,jT);if(i)kK.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(y(this,Th));e.append(r)}y(this,Wi).append(e)}_formatContents({str:e,dir:t}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const l=s[r];i.append(document.createTextNode(l)),r<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popup:t,deleted:i}){var s;if(i||t!=null&&t.deleted){this.remove();return}W(this,Wn,OT).call(this),y(this,sg)||O(this,sg,{contentsObj:y(this,Th),richText:y(this,Ch)}),e&&O(this,Sh,null),t&&(O(this,Ch,W(this,Wn,NK).call(this,t.text)),O(this,Df,JS.toDateObject(t.date)),O(this,Th,null)),(s=y(this,po))==null||s.remove(),O(this,po,null)}resetEdited(){var e;y(this,sg)&&({contentsObj:ua(this,Th)._,richText:ua(this,Ch)._}=y(this,sg),O(this,sg,null),(e=y(this,po))==null||e.remove(),O(this,po,null),O(this,Sh,null))}remove(){var e,t;(e=y(this,Nf))==null||e.abort(),O(this,Nf,null),(t=y(this,po))==null||t.remove(),O(this,po,null),O(this,Lf,!1),O(this,Qc,!1);for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){O(this,Lf,this.isVisible),y(this,Lf)&&(y(this,Wi).hidden=!0)}maybeShow(){W(this,Wn,OT).call(this),y(this,Lf)&&(y(this,po)||W(this,Wn,VT).call(this),O(this,Lf,!1),y(this,Wi).hidden=!1)}get isVisible(){return y(this,Wi).hidden===!1}}o_=new WeakMap,TC=new WeakMap,SC=new WeakMap,l_=new WeakMap,c_=new WeakMap,Wi=new WeakMap,Th=new WeakMap,Df=new WeakMap,u_=new WeakMap,nE=new WeakMap,h_=new WeakMap,Qc=new WeakMap,po=new WeakMap,Nf=new WeakMap,Sh=new WeakMap,iE=new WeakMap,Ch=new WeakMap,d_=new WeakMap,sg=new WeakMap,Lf=new WeakMap,Wn=new WeakSet,OT=function(){var t;if(y(this,Nf))return;O(this,Nf,new AbortController);const{signal:e}=y(this,Nf);for(const i of this.trigger)i.addEventListener("click",y(this,l_),{signal:e}),i.addEventListener("mouseenter",y(this,SC),{signal:e}),i.addEventListener("mouseleave",y(this,TC),{signal:e}),i.classList.add("popupTriggerArea");for(const i of y(this,u_))(t=i.container)==null||t.addEventListener("keydown",y(this,o_),{signal:e})},jT=function(){const e=y(this,Ch),t=y(this,Th);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&y(this,Ch).html||null},tD=function(){var e,t,i;return((i=(t=(e=y(this,Wn,jT))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},DK=function(){var e,t,i;return((i=(t=(e=y(this,Wn,jT))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},NK=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:y(this,Wn,DK),fontSize:y(this,Wn,tD)?`calc(${y(this,Wn,tD)}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:s});return i},LK=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&y(this,Qc))&&W(this,Wn,FT).call(this)},OK=function(){if(y(this,Sh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:r}}}=y(this,nE);let a=!!y(this,h_),l=a?y(this,h_):y(this,iE);for(const E of y(this,u_))if(!l||Pt.intersect(E.data.rect,l)!==null){l=E.data.rect,a=!0;break}const c=Pt.normalizeRect([l[0],e[3]-l[1]+e[1],l[2],e[3]-l[3]+e[1]]),f=a?l[2]-l[0]+5:0,p=c[0]+f,v=c[1];O(this,Sh,[100*(p-s)/t,100*(v-r)/i]);const{style:w}=y(this,Wi);w.left=`${y(this,Sh)[0]}%`,w.top=`${y(this,Sh)[1]}%`},FT=function(){O(this,Qc,!y(this,Qc)),y(this,Qc)?(W(this,Wn,VT).call(this),y(this,Wi).addEventListener("click",y(this,l_)),y(this,Wi).addEventListener("keydown",y(this,o_))):(W(this,Wn,nD).call(this),y(this,Wi).removeEventListener("click",y(this,l_)),y(this,Wi).removeEventListener("keydown",y(this,o_)))},VT=function(){y(this,po)||this.render(),this.isVisible?y(this,Qc)&&y(this,Wi).classList.add("focused"):(W(this,Wn,OK).call(this),y(this,Wi).hidden=!1,y(this,Wi).style.zIndex=parseInt(y(this,Wi).style.zIndex)+1e3)},nD=function(){y(this,Wi).classList.remove("focused"),!(y(this,Qc)||!this.isVisible)&&(y(this,Wi).hidden=!0,y(this,Wi).style.zIndex=parseInt(y(this,Wi).style.zIndex)-1e3)};class jK extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Qt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var sE;class EAe extends fs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});G(this,sE,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=O(this,sE,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,sE)}addHighlightArea(){this.container.classList.add("highlightArea")}}sE=new WeakMap;var rE;class AAe extends fs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});G(this,rE,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=t.borderStyle.width,l=O(this,rE,this.svgFactory.createElement("svg:rect"));return l.setAttribute("x",a/2),l.setAttribute("y",a/2),l.setAttribute("width",i-a),l.setAttribute("height",s-a),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,rE)}addHighlightArea(){this.container.classList.add("highlightArea")}}rE=new WeakMap;var aE;class TAe extends fs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});G(this,aE,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=t.borderStyle.width,l=O(this,aE,this.svgFactory.createElement("svg:ellipse"));return l.setAttribute("cx",i/2),l.setAttribute("cy",s/2),l.setAttribute("rx",i/2-a/2),l.setAttribute("ry",s/2-a/2),l.setAttribute("stroke-width",a||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,aE)}addHighlightArea(){this.container.classList.add("highlightArea")}}aE=new WeakMap;var oE;class FK extends fs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});G(this,oE,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:s,popupRef:r},width:a,height:l}=this;if(!i)return this.container;const c=this.svgFactory.create(a,l,!0);let h=[];for(let p=0,v=i.length;p<v;p+=2){const w=i[p]-t[0],E=t[3]-i[p+1];h.push(`${w},${E}`)}h=h.join(" ");const f=O(this,oE,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",h),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),c.append(f),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return y(this,oE)}addHighlightArea(){this.container.classList.add("highlightArea")}}oE=new WeakMap;class SAe extends FK{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CAe extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var lE,rg,cE,iD;class jO extends fs{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});G(this,cE);G(this,lE,null);G(this,rg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Qt.HIGHLIGHT:Qt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:s,borderStyle:r,popupRef:a}}=this,{transform:l,width:c,height:h}=W(this,cE,iD).call(this,i,t),f=this.svgFactory.create(c,h,!0),p=O(this,lE,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let v=0,w=s.length;v<w;v++){const E=this.svgFactory.createElement(this.svgElementName);y(this,rg).push(E),E.setAttribute("points",s[v].join(",")),p.append(E)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:s,rect:r}=t,a=y(this,lE);if(i>=0&&a.setAttribute("stroke-width",i||1),s)for(let l=0,c=y(this,rg).length;l<c;l++)y(this,rg)[l].setAttribute("points",s[l].join(","));if(r){const{transform:l,width:c,height:h}=W(this,cE,iD).call(this,this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),a.setAttribute("transform",l)}}getElementsToTriggerPopup(){return y(this,rg)}addHighlightArea(){this.container.classList.add("highlightArea")}}lE=new WeakMap,rg=new WeakMap,cE=new WeakSet,iD=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class VK extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Qt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class RAe extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class kAe extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class MAe extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class BK extends fs{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Qt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var uE,hE,sD;class PAe extends fs{constructor(t){var s;super(t,{isRenderable:!0});G(this,hE);G(this,uE,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",W(this,hE,sD).bind(this)),O(this,uE,s);const{isMac:r}=Ir.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&W(this,hE,sD).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),t.append(s),t}getElementsToTriggerPopup(){return y(this,uE)}addHighlightArea(){this.container.classList.add("highlightArea")}}uE=new WeakMap,hE=new WeakSet,sD=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var dE,ag,Of,fE,Am,aD,oD;const xj=class xj{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:l}){G(this,Am);G(this,dE,null);G(this,ag,null);G(this,Of,new Map);G(this,fE,null);this.div=e,O(this,dE,t),O(this,ag,i),O(this,fE,l||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return y(this,Of).size>0}async render(e){var a;const{annotations:t}=e,i=this.div;zg(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new sC,annotationStorage:e.annotationStorage||new DO,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const c=l.annotationType===bs.POPUP;if(c){const p=s.get(l.id);if(!p)continue;r.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;r.data=l;const h=Lz.create(r);if(!h.isRenderable)continue;if(!c&&l.popupRef){const p=s.get(l.popupRef);p?p.push(h):s.set(l.popupRef,[h])}const f=h.render();l.hidden&&(f.style.visibility="hidden"),await W(this,Am,aD).call(this,f,l.id,r.elements),h._isEditable&&(y(this,Of).set(h.data.id,h),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(h))}W(this,Am,oD).call(this)}async addLinkAnnotations(e,t){const i={data:null,layer:this.div,linkService:t,svgFactory:new sC,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=xj._defaultBorderStyle),i.data=s;const r=Lz.create(i);if(!r.isRenderable)continue;const a=r.render();await W(this,Am,aD).call(this,a,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,zg(t,{rotation:e.rotation}),W(this,Am,oD).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(y(this,Of).values())}getEditableAnnotation(e){return y(this,Of).get(e)}static get _defaultBorderStyle(){return vn(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ky.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};dE=new WeakMap,ag=new WeakMap,Of=new WeakMap,fE=new WeakMap,Am=new WeakSet,aD=async function(e,t,i){var l,c;const s=e.firstChild||e,r=s.id=`${MO}${t}`,a=await((l=y(this,fE))==null?void 0:l.getAriaAttributes(r));if(a)for(const[h,f]of a)s.setAttribute(h,f);i?i.at(-1).container.after(e):(this.div.append(e),(c=y(this,dE))==null||c.moveElementInDOM(this.div,e,s,!1))},oD=function(){var t;if(!y(this,ag))return;const e=this.div;for(const[i,s]of y(this,ag)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):r.append(s);const l=y(this,Of).get(i);l&&(l._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,r.id,s),l._hasNoCanvas=!1):l.canvas=s)}y(this,ag).clear()};let rD=xj;const K1=/\r\n?|\n/g;var il,go,mE,og,yo,Rs,zK,UK,HK,BT,zh,zT,UT,$K,cD,qK;const wi=class wi extends Ei{constructor(t){super({...t,name:"freeTextEditor"});G(this,Rs);G(this,il);G(this,go,"");G(this,mE,`${this.id}-editor`);G(this,og,null);G(this,yo);Ye(this,"_colorPicker",null);O(this,il,t.color||wi._defaultColor||Ei._defaultLineColor),O(this,yo,t.fontSize||wi._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=wi.prototype,i=a=>a.isEmpty(),s=Ug.TRANSLATE_SMALL,r=Ug.TRANSLATE_BIG;return vn(this,"_keyboardManager",new dA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(t,i){Ei.initialize(t,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case In.FREETEXT_SIZE:wi._defaultFontSize=i;break;case In.FREETEXT_COLOR:wi._defaultColor=i;break}}updateParams(t,i){switch(t){case In.FREETEXT_SIZE:W(this,Rs,zK).call(this,i);break;case In.FREETEXT_COLOR:W(this,Rs,UK).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[In.FREETEXT_SIZE,wi._defaultFontSize],[In.FREETEXT_COLOR,wi._defaultColor||Ei._defaultLineColor]]}get propertiesToUpdate(){return[[In.FREETEXT_SIZE,y(this,yo)],[In.FREETEXT_COLOR,y(this,il)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iC(this)),[["colorPicker",this._colorPicker]]}get colorType(){return In.FREETEXT_COLOR}get colorValue(){return y(this,il)}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-wi._internalPadding*t,-(wi._internalPadding+y(this,yo))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),O(this,og,new AbortController);const t=this._uiManager.combinedSignal(y(this,og));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",y(this,mE)),this._isDraggable=!0,(t=y(this,og))==null||t.abort(),O(this,og,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=y(this,go),i=O(this,go,W(this,Rs,HK).call(this).trimEnd());if(t===i)return;const s=r=>{if(O(this,go,r),!r){this.remove();return}W(this,Rs,UT).call(this),this._uiManager.rebuild(this),W(this,Rs,BT).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(t)},mustExec:!1}),W(this,Rs,BT).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){wi._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",y(this,mE)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${y(this,yo)}px * var(--total-scale-factor))`,s.color=y(this,il),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[f,p]=this.pageDimensions,[v,w]=this.pageTranslation;let E,S;switch(this.rotation){case 0:E=t+(l[0]-v)/f,S=i+this.height-(l[1]-w)/p;break;case 90:E=t+(l[0]-v)/f,S=i-(l[1]-w)/p,[c,h]=[h,-c];break;case 180:E=t-this.width+(l[0]-v)/f,S=i-(l[1]-w)/p,[c,h]=[-c,-h];break;case 270:E=t+(l[0]-v-this.height*p)/f,S=i+(l[1]-w-this.width*f)/p,[c,h]=[-h,c];break}this.setAt(E*r,S*a,c,h)}else this._moveAfterPaste(t,i);W(this,Rs,UT).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var E,S,C;const i=t.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;t.preventDefault();const r=W(E=wi,zh,cD).call(E,i.getData("text")||"").replaceAll(K1,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const l=a.getRangeAt(0);if(!r.includes(`
`)){l.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:h}=l,f=[],p=[];if(c.nodeType===Node.TEXT_NODE){const k=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(K1,"")),k!==this.editorDiv){let N=f;for(const I of this.editorDiv.childNodes){if(I===k){N=p;continue}N.push(W(S=wi,zh,zT).call(S,I))}}f.push(c.nodeValue.slice(0,h).replaceAll(K1,""))}else if(c===this.editorDiv){let k=f,N=0;for(const I of this.editorDiv.childNodes)N++===h&&(k=p),k.push(W(C=wi,zh,zT).call(C,I))}O(this,go,`${f.join(`
`)}${r}${p.join(`
`)}`),W(this,Rs,UT).call(this);const v=new Range;let w=Math.sumPrecise(f.map(k=>k.length));for(const{firstChild:k}of this.editorDiv.childNodes)if(k.nodeType===Node.TEXT_NODE){const N=k.nodeValue.length;if(w<=N){v.setStart(k,w),v.setEnd(k,w);break}w-=N}a.removeAllRanges(),a.addRange(v)}get contentDiv(){return this.editorDiv}static async deserialize(t,i,s){var l;let r=null;if(t instanceof jK){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:f,rotation:p,id:v,popupRef:w,contentsObj:E},textContent:S,textPosition:C,parent:{page:{pageNumber:k}}}=t;if(!S||S.length===0)return null;r=t={annotationType:Qt.FREETEXT,color:Array.from(h),fontSize:c,value:S.join(`
`),position:C,pageIndex:k-1,rect:f.slice(0),rotation:p,annotationElementId:v,id:v,deleted:!1,popupRef:w,comment:(E==null?void 0:E.str)||null}}const a=await super.deserialize(t,i,s);return O(a,yo,t.fontSize),O(a,il,Pt.makeHexColor(...t.color)),O(a,go,W(l=wi,zh,cD).call(l,t.value)),a._initialData=r,t.comment&&a.setCommentData(t.comment),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=wi._internalPadding*this.parentScale,s=this.getRect(i,i),r=Ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:y(this,il)),a={annotationType:Qt.FREETEXT,color:r,fontSize:y(this,yo),value:W(this,Rs,$K).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(a),t?(a.isCopy=!0,a):this.annotationElementId&&!W(this,Rs,qK).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t),{style:s}=i;s.fontSize=`calc(${y(this,yo)}px * var(--total-scale-factor))`,s.color=y(this,il),i.replaceChildren();for(const l of y(this,go).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),i.append(c)}const r=wi._internalPadding*this.parentScale,a={rect:this.getRect(r,r)};return a.popup=this.hasEditedComment?this.comment:{text:y(this,go)},t.updateEdited(a),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};il=new WeakMap,go=new WeakMap,mE=new WeakMap,og=new WeakMap,yo=new WeakMap,Rs=new WeakSet,zK=function(t){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-y(this,yo))*this.parentScale),O(this,yo,r),W(this,Rs,BT).call(this)},s=y(this,yo);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},UK=function(t){const i=r=>{var a;O(this,il,this.editorDiv.style.color=r),(a=this._colorPicker)==null||a.update(r)},s=y(this,il);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},HK=function(){var s;const t=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(t.push(W(s=wi,zh,zT).call(s,r)),i=r);return t.join(`
`)},BT=function(){const[t,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,l=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=l,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/t,this.height=s.height/i):(this.width=s.height/t,this.height=s.width/i),this.fixAndSetPosition()},zh=new WeakSet,zT=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(K1,"")},UT=function(){if(this.editorDiv.replaceChildren(),!!y(this,go))for(const t of y(this,go).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},$K=function(){return y(this,go).replaceAll(" "," ")},cD=function(t){return t.replaceAll(" "," ")},qK=function(t){const{value:i,fontSize:s,color:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==s||t.color.some((l,c)=>l!==r[c])||t.pageIndex!==a},G(wi,zh),Ye(wi,"_freeTextDefaultContent",""),Ye(wi,"_internalPadding",0),Ye(wi,"_defaultColor",null),Ye(wi,"_defaultFontSize",10),Ye(wi,"_type","freetext"),Ye(wi,"_editorType",Qt.FREETEXT);let lD=wi;class dt{toSVGPath(){fi("Abstract method `toSVGPath` must be implemented.")}get box(){fi("Abstract getter `box` must be implemented.")}serialize(e,t){fi("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,s,r,a){a||(a=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)a[l]=t+e[l]*s,a[l+1]=i+e[l+1]*r;return a}static _rescaleAndSwap(e,t,i,s,r,a){a||(a=new Float32Array(e.length));for(let l=0,c=e.length;l<c;l+=2)a[l]=t+e[l+1]*s,a[l+1]=i+e[l]*r;return a}static _translate(e,t,i,s){s||(s=new Float32Array(e.length));for(let r=0,a=e.length;r<a;r+=2)s[r]=t+e[r],s[r+1]=i+e[r+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,s,r){switch(r){case 90:return[1-t/i,e/s];case 180:return[1-e/i,1-t/s];case 270:return[t/i,1-e/s];default:return[e/i,t/s]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,s,r,a){return[(e+5*i)/6,(t+5*s)/6,(5*i+r)/6,(5*s+a)/6,(i+r)/2,(s+a)/2]}}Ye(dt,"PRECISION",1e-4);var vo,ql,f_,m_,Jc,yn,lg,cg,pE,gE,p_,g_,jf,yE,CC,RC,zs,tw,GK,WK,KK,YK,ZK,XK;const ih=class ih{constructor({x:e,y:t},i,s,r,a,l=0){G(this,zs);G(this,vo);G(this,ql,[]);G(this,f_);G(this,m_);G(this,Jc,[]);G(this,yn,new Float32Array(18));G(this,lg);G(this,cg);G(this,pE);G(this,gE);G(this,p_);G(this,g_);G(this,jf,[]);O(this,vo,i),O(this,g_,r*s),O(this,m_,a),y(this,yn).set([NaN,NaN,NaN,NaN,e,t],6),O(this,f_,l),O(this,gE,y(ih,yE)*s),O(this,pE,y(ih,RC)*s),O(this,p_,s),y(this,jf).push(e,t)}isEmpty(){return isNaN(y(this,yn)[8])}add({x:e,y:t}){var q;O(this,lg,e),O(this,cg,t);const[i,s,r,a]=y(this,vo);let[l,c,h,f]=y(this,yn).subarray(8,12);const p=e-h,v=t-f,w=Math.hypot(p,v);if(w<y(this,pE))return!1;const E=w-y(this,gE),S=E/w,C=S*p,k=S*v;let N=l,I=c;l=h,c=f,h+=C,f+=k,(q=y(this,jf))==null||q.push(e,t);const z=-k/E,V=C/E,H=z*y(this,g_),B=V*y(this,g_);return y(this,yn).set(y(this,yn).subarray(2,8),0),y(this,yn).set([h+H,f+B],4),y(this,yn).set(y(this,yn).subarray(14,18),12),y(this,yn).set([h-H,f-B],16),isNaN(y(this,yn)[6])?(y(this,Jc).length===0&&(y(this,yn).set([l+H,c+B],2),y(this,Jc).push(NaN,NaN,NaN,NaN,(l+H-i)/r,(c+B-s)/a),y(this,yn).set([l-H,c-B],14),y(this,ql).push(NaN,NaN,NaN,NaN,(l-H-i)/r,(c-B-s)/a)),y(this,yn).set([N,I,l,c,h,f],6),!this.isEmpty()):(y(this,yn).set([N,I,l,c,h,f],6),Math.abs(Math.atan2(I-c,N-l)-Math.atan2(k,C))<Math.PI/2?([l,c,h,f]=y(this,yn).subarray(2,6),y(this,Jc).push(NaN,NaN,NaN,NaN,((l+h)/2-i)/r,((c+f)/2-s)/a),[l,c,N,I]=y(this,yn).subarray(14,18),y(this,ql).push(NaN,NaN,NaN,NaN,((N+l)/2-i)/r,((I+c)/2-s)/a),!0):([N,I,l,c,h,f]=y(this,yn).subarray(0,6),y(this,Jc).push(((N+5*l)/6-i)/r,((I+5*c)/6-s)/a,((5*l+h)/6-i)/r,((5*c+f)/6-s)/a,((l+h)/2-i)/r,((c+f)/2-s)/a),[h,f,l,c,N,I]=y(this,yn).subarray(12,18),y(this,ql).push(((N+5*l)/6-i)/r,((I+5*c)/6-s)/a,((5*l+h)/6-i)/r,((5*c+f)/6-s)/a,((l+h)/2-i)/r,((c+f)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=y(this,Jc),t=y(this,ql);if(isNaN(y(this,yn)[6])&&!this.isEmpty())return W(this,zs,GK).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);W(this,zs,KK).call(this,i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return W(this,zs,WK).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,s,r,a){return new QK(e,t,i,s,r,a)}getOutlines(){var p;const e=y(this,Jc),t=y(this,ql),i=y(this,yn),[s,r,a,l]=y(this,vo),c=new Float32Array((((p=y(this,jf))==null?void 0:p.length)??0)+2);for(let v=0,w=c.length-2;v<w;v+=2)c[v]=(y(this,jf)[v]-s)/a,c[v+1]=(y(this,jf)[v+1]-r)/l;if(c[c.length-2]=(y(this,lg)-s)/a,c[c.length-1]=(y(this,cg)-r)/l,isNaN(i[6])&&!this.isEmpty())return W(this,zs,YK).call(this,c);const h=new Float32Array(y(this,Jc).length+24+y(this,ql).length);let f=e.length;for(let v=0;v<f;v+=2){if(isNaN(e[v])){h[v]=h[v+1]=NaN;continue}h[v]=e[v],h[v+1]=e[v+1]}f=W(this,zs,XK).call(this,h,f);for(let v=t.length-6;v>=6;v-=6)for(let w=0;w<6;w+=2){if(isNaN(t[v+w])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[v+w],h[f+1]=t[v+w+1],f+=2}return W(this,zs,ZK).call(this,h,f),this.newFreeDrawOutline(h,c,y(this,vo),y(this,p_),y(this,f_),y(this,m_))}};vo=new WeakMap,ql=new WeakMap,f_=new WeakMap,m_=new WeakMap,Jc=new WeakMap,yn=new WeakMap,lg=new WeakMap,cg=new WeakMap,pE=new WeakMap,gE=new WeakMap,p_=new WeakMap,g_=new WeakMap,jf=new WeakMap,yE=new WeakMap,CC=new WeakMap,RC=new WeakMap,zs=new WeakSet,tw=function(){const e=y(this,yn).subarray(4,6),t=y(this,yn).subarray(16,18),[i,s,r,a]=y(this,vo);return[(y(this,lg)+(e[0]-t[0])/2-i)/r,(y(this,cg)+(e[1]-t[1])/2-s)/a,(y(this,lg)+(t[0]-e[0])/2-i)/r,(y(this,cg)+(t[1]-e[1])/2-s)/a]},GK=function(){const[e,t,i,s]=y(this,vo),[r,a,l,c]=W(this,zs,tw).call(this);return`M${(y(this,yn)[2]-e)/i} ${(y(this,yn)[3]-t)/s} L${(y(this,yn)[4]-e)/i} ${(y(this,yn)[5]-t)/s} L${r} ${a} L${l} ${c} L${(y(this,yn)[16]-e)/i} ${(y(this,yn)[17]-t)/s} L${(y(this,yn)[14]-e)/i} ${(y(this,yn)[15]-t)/s} Z`},WK=function(e){const t=y(this,ql);e.push(`L${t[4]} ${t[5]} Z`)},KK=function(e){const[t,i,s,r]=y(this,vo),a=y(this,yn).subarray(4,6),l=y(this,yn).subarray(16,18),[c,h,f,p]=W(this,zs,tw).call(this);e.push(`L${(a[0]-t)/s} ${(a[1]-i)/r} L${c} ${h} L${f} ${p} L${(l[0]-t)/s} ${(l[1]-i)/r}`)},YK=function(e){const t=y(this,yn),[i,s,r,a]=y(this,vo),[l,c,h,f]=W(this,zs,tw).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-i)/r,(t[3]-s)/a,NaN,NaN,NaN,NaN,(t[4]-i)/r,(t[5]-s)/a,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-i)/r,(t[17]-s)/a,NaN,NaN,NaN,NaN,(t[14]-i)/r,(t[15]-s)/a],0),this.newFreeDrawOutline(p,e,y(this,vo),y(this,p_),y(this,f_),y(this,m_))},ZK=function(e,t){const i=y(this,ql);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},XK=function(e,t){const i=y(this,yn).subarray(4,6),s=y(this,yn).subarray(16,18),[r,a,l,c]=y(this,vo),[h,f,p,v]=W(this,zs,tw).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-r)/l,(i[1]-a)/c,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,v,NaN,NaN,NaN,NaN,(s[0]-r)/l,(s[1]-a)/c],t),t+=24},G(ih,yE,8),G(ih,CC,2),G(ih,RC,y(ih,yE)+y(ih,CC));let rC=ih;var y_,ug,Rh,vE,_o,_E,os,kC,JK;class QK extends dt{constructor(t,i,s,r,a,l){super();G(this,kC);G(this,y_);G(this,ug,new Float32Array(4));G(this,Rh);G(this,vE);G(this,_o);G(this,_E);G(this,os);O(this,os,t),O(this,_o,i),O(this,y_,s),O(this,_E,r),O(this,Rh,a),O(this,vE,l),this.lastPoint=[NaN,NaN],W(this,kC,JK).call(this,l);const[c,h,f,p]=y(this,ug);for(let v=0,w=t.length;v<w;v+=2)t[v]=(t[v]-c)/f,t[v+1]=(t[v+1]-h)/p;for(let v=0,w=i.length;v<w;v+=2)i[v]=(i[v]-c)/f,i[v+1]=(i[v+1]-h)/p}toSVGPath(){const t=[`M${y(this,os)[4]} ${y(this,os)[5]}`];for(let i=6,s=y(this,os).length;i<s;i+=6){if(isNaN(y(this,os)[i])){t.push(`L${y(this,os)[i+4]} ${y(this,os)[i+5]}`);continue}t.push(`C${y(this,os)[i]} ${y(this,os)[i+1]} ${y(this,os)[i+2]} ${y(this,os)[i+3]} ${y(this,os)[i+4]} ${y(this,os)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,s,r],a){const l=s-t,c=r-i;let h,f;switch(a){case 0:h=dt._rescale(y(this,os),t,r,l,-c),f=dt._rescale(y(this,_o),t,r,l,-c);break;case 90:h=dt._rescaleAndSwap(y(this,os),t,i,l,c),f=dt._rescaleAndSwap(y(this,_o),t,i,l,c);break;case 180:h=dt._rescale(y(this,os),s,i,-l,c),f=dt._rescale(y(this,_o),s,i,-l,c);break;case 270:h=dt._rescaleAndSwap(y(this,os),s,r,-l,-c),f=dt._rescaleAndSwap(y(this,_o),s,r,-l,-c);break}return{outline:Array.from(h),points:[Array.from(f)]}}get box(){return y(this,ug)}newOutliner(t,i,s,r,a,l=0){return new rC(t,i,s,r,a,l)}getNewOutline(t,i){const[s,r,a,l]=y(this,ug),[c,h,f,p]=y(this,y_),v=a*f,w=l*p,E=s*f+c,S=r*p+h,C=this.newOutliner({x:y(this,_o)[0]*v+E,y:y(this,_o)[1]*w+S},y(this,y_),y(this,_E),t,y(this,vE),i??y(this,Rh));for(let k=2;k<y(this,_o).length;k+=2)C.add({x:y(this,_o)[k]*v+E,y:y(this,_o)[k+1]*w+S});return C.getOutlines()}}y_=new WeakMap,ug=new WeakMap,Rh=new WeakMap,vE=new WeakMap,_o=new WeakMap,_E=new WeakMap,os=new WeakMap,kC=new WeakSet,JK=function(t){const i=y(this,os);let s=i[4],r=i[5];const a=[s,r,s,r];let l=s,c=r;const h=t?Math.max:Math.min;for(let p=6,v=i.length;p<v;p+=6){const w=i[p+4],E=i[p+5];if(isNaN(i[p]))Pt.pointBoundingBox(w,E,a),c<E?(l=w,c=E):c===E&&(l=h(l,w));else{const S=[1/0,1/0,-1/0,-1/0];Pt.bezierBoundingBox(s,r,...i.slice(p,p+6),S),Pt.rectBoundingBox(...S,a),c<S[3]?(l=S[2],c=S[3]):c===S[3]&&(l=h(l,S[2]))}s=w,r=E}const f=y(this,ug);f[0]=a[0]-y(this,Rh),f[1]=a[1]-y(this,Rh),f[2]=a[2]-a[0]+2*y(this,Rh),f[3]=a[3]-a[1]+2*y(this,Rh),this.lastPoint=[l,c]};var bE,wE,Ff,Gl,xa,eY,HT,tY,nY,hD;class uD{constructor(e,t=0,i=0,s=!0){G(this,xa);G(this,bE);G(this,wE);G(this,Ff,[]);G(this,Gl,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:w,y:E,width:S,height:C}of e){const k=Math.floor((w-t)/a)*a,N=Math.ceil((w+S+t)/a)*a,I=Math.floor((E-t)/a)*a,z=Math.ceil((E+C+t)/a)*a,V=[k,I,z,!0],H=[N,I,z,!1];y(this,Ff).push(V,H),Pt.rectBoundingBox(k,I,N,z,r)}const l=r[2]-r[0]+2*i,c=r[3]-r[1]+2*i,h=r[0]-i,f=r[1]-i,p=y(this,Ff).at(s?-1:-2),v=[p[0],p[2]];for(const w of y(this,Ff)){const[E,S,C]=w;w[0]=(E-h)/l,w[1]=(S-f)/c,w[2]=(C-f)/c}O(this,bE,new Float32Array([h,f,l,c])),O(this,wE,v)}getOutlines(){y(this,Ff).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of y(this,Ff))t[3]?(e.push(...W(this,xa,hD).call(this,t)),W(this,xa,tY).call(this,t)):(W(this,xa,nY).call(this,t),e.push(...W(this,xa,hD).call(this,t)));return W(this,xa,eY).call(this,e)}}bE=new WeakMap,wE=new WeakMap,Ff=new WeakMap,Gl=new WeakMap,xa=new WeakSet,eY=function(e){const t=[],i=new Set;for(const a of e){const[l,c,h]=a;t.push([l,c,a],[l,h,a])}t.sort((a,l)=>a[1]-l[1]||a[0]-l[0]);for(let a=0,l=t.length;a<l;a+=2){const c=t[a][2],h=t[a+1][2];c.push(h),h.push(c),i.add(c),i.add(h)}const s=[];let r;for(;i.size>0;){const a=i.values().next().value;let[l,c,h,f,p]=a;i.delete(a);let v=l,w=c;for(r=[l,h],s.push(r);;){let E;if(i.has(f))E=f;else if(i.has(p))E=p;else break;i.delete(E),[l,c,h,f,p]=E,v!==l&&(r.push(v,w,l,w===c?c:h),v=l),w=w===c?h:c}r.push(v,w)}return new IAe(s,y(this,bE),y(this,wE))},HT=function(e){const t=y(this,Gl);let i=0,s=t.length-1;for(;i<=s;){const r=i+s>>1,a=t[r][0];if(a===e)return r;a<e?i=r+1:s=r-1}return s+1},tY=function([,e,t]){const i=W(this,xa,HT).call(this,e);y(this,Gl).splice(i,0,[e,t])},nY=function([,e,t]){const i=W(this,xa,HT).call(this,e);for(let s=i;s<y(this,Gl).length;s++){const[r,a]=y(this,Gl)[s];if(r!==e)break;if(r===e&&a===t){y(this,Gl).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,a]=y(this,Gl)[s];if(r!==e)break;if(r===e&&a===t){y(this,Gl).splice(s,1);return}}},hD=function(e){const[t,i,s]=e,r=[[t,i,s]],a=W(this,xa,HT).call(this,s);for(let l=0;l<a;l++){const[c,h]=y(this,Gl)[l];for(let f=0,p=r.length;f<p;f++){const[,v,w]=r[f];if(!(h<=v||w<=c)){if(v>=c){if(w>h)r[f][1]=h;else{if(p===1)return[];r.splice(f,1),f--,p--}continue}r[f][2]=c,w>h&&r.push([t,h,w])}}}return r};var xE,v_;class IAe extends dt{constructor(t,i,s){super();G(this,xE);G(this,v_);O(this,v_,t),O(this,xE,i),this.lastPoint=s}toSVGPath(){const t=[];for(const i of y(this,v_)){let[s,r]=i;t.push(`M${s} ${r}`);for(let a=2;a<i.length;a+=2){const l=i[a],c=i[a+1];l===s?(t.push(`V${c}`),r=c):c===r&&(t.push(`H${l}`),s=l)}t.push("Z")}return t.join(" ")}serialize([t,i,s,r],a){const l=[],c=s-t,h=r-i;for(const f of y(this,v_)){const p=new Array(f.length);for(let v=0;v<f.length;v+=2)p[v]=t+f[v]*c,p[v+1]=r-f[v+1]*h;l.push(p)}return l}get box(){return y(this,xE)}get classNamesForOutlining(){return["highlightOutline"]}}xE=new WeakMap,v_=new WeakMap;class dD extends rC{newFreeDrawOutline(e,t,i,s,r,a){return new DAe(e,t,i,s,r,a)}}class DAe extends QK{newOutliner(e,t,i,s,r,a=0){return new dD(e,t,i,s,r,a)}}var __,EE,kh,hg,AE,La,TE,SE,dg,sl,bo,Ar,b_,Mh,Gr,w_,rl,CE,an,fD,$T,iY,sY,rY,mD,up,cl,ev,aY,qT,nw,oY,lY,cY,uY,hY;const Zn=class Zn extends Ei{constructor(t){super({...t,name:"highlightEditor"});G(this,an);G(this,__,null);G(this,EE,0);G(this,kh);G(this,hg,null);G(this,AE,null);G(this,La,null);G(this,TE,null);G(this,SE,0);G(this,dg,null);G(this,sl,null);G(this,bo,null);G(this,Ar,!1);G(this,b_,null);G(this,Mh);G(this,Gr,null);G(this,w_,"");G(this,rl);G(this,CE,"");this.color=t.color||Zn._defaultColor,O(this,rl,t.thickness||Zn._defaultThickness),O(this,Mh,t.opacity||Zn._defaultOpacity),O(this,kh,t.boxes||null),O(this,CE,t.methodOfCreation||""),O(this,w_,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(O(this,Ar,!0),W(this,an,$T).call(this,t),W(this,an,up).call(this)):y(this,kh)&&(O(this,__,t.anchorNode),O(this,EE,t.anchorOffset),O(this,TE,t.focusNode),O(this,SE,t.focusOffset),W(this,an,fD).call(this),W(this,an,up).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Zn.prototype;return vn(this,"_keyboardManager",new dA([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:y(this,Ar)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:y(this,rl),methodOfCreation:y(this,CE)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var s;Ei.initialize(t,i),Zn._defaultColor||(Zn._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case In.HIGHLIGHT_COLOR:Zn._defaultColor=i;break;case In.HIGHLIGHT_THICKNESS:Zn._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return y(this,b_)}updateParams(t,i){switch(t){case In.HIGHLIGHT_COLOR:W(this,an,iY).call(this,i);break;case In.HIGHLIGHT_THICKNESS:W(this,an,sY).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[In.HIGHLIGHT_COLOR,Zn._defaultColor],[In.HIGHLIGHT_THICKNESS,Zn._defaultThickness]]}get propertiesToUpdate(){return[[In.HIGHLIGHT_COLOR,this.color||Zn._defaultColor],[In.HIGHLIGHT_THICKNESS,y(this,rl)||Zn._defaultThickness],[In.HIGHLIGHT_FREE,y(this,Ar)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",O(this,AE,new nC({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(W(this,an,nw).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,W(this,an,nw).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){W(this,an,mD).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,an,up).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?W(this,an,mD).call(this):t&&(W(this,an,up).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var r,a,l;const{drawLayer:i}=this.parent;let s;y(this,Ar)?(t=(t-this.rotation+360)%360,s=W(r=Zn,cl,ev).call(r,y(this,sl).box,t)):s=W(a=Zn,cl,ev).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(y(this,bo),{bbox:s,root:{"data-main-rotation":t}}),i.updateProperties(y(this,Gr),{bbox:W(l=Zn,cl,ev).call(l,y(this,La).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();y(this,w_)&&(t.setAttribute("aria-label",y(this,w_)),t.setAttribute("role","mark")),y(this,Ar)?t.classList.add("free"):this.div.addEventListener("keydown",W(this,an,aY).bind(this),{signal:this._uiManager._signal});const i=O(this,dg,document.createElement("div"));t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=y(this,hg);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),PW(this,y(this,dg),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(y(this,Gr),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(y(this,Gr),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:W(this,an,qT).call(this,!0);break;case 1:case 3:W(this,an,qT).call(this,!1);break}}select(){var t;super.select(),y(this,Gr)&&((t=this.parent)==null||t.drawLayer.updateProperties(y(this,Gr),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),y(this,Gr)&&((t=this.parent)==null||t.drawLayer.updateProperties(y(this,Gr),{rootClass:{selected:!1}}),y(this,Ar)||W(this,an,qT).call(this,!1))}get _mustFixPosition(){return!y(this,Ar)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(y(this,bo),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(y(this,Gr),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:s,x:r,y:a}){const{x:l,y:c,width:h,height:f}=s.getBoundingClientRect(),p=new AbortController,v=t.combinedSignal(p),w=E=>{p.abort(),W(this,cl,uY).call(this,t,E)};window.addEventListener("blur",w,{signal:v}),window.addEventListener("pointerup",w,{signal:v}),window.addEventListener("pointerdown",As,{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",_l,{signal:v}),s.addEventListener("pointermove",W(this,cl,cY).bind(this,t),{signal:v}),this._freeHighlight=new dD({x:r,y:a},[l,c,h,f],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,s){var S,C,k,N;let r=null;if(t instanceof VK){const{data:{quadPoints:I,rect:z,rotation:V,id:H,color:B,opacity:j,popupRef:q,contentsObj:Y},parent:{page:{pageNumber:Z}}}=t;r=t={annotationType:Qt.HIGHLIGHT,color:Array.from(B),opacity:j,quadPoints:I,boxes:null,pageIndex:Z-1,rect:z.slice(0),rotation:V,annotationElementId:H,id:H,deleted:!1,popupRef:q,comment:(Y==null?void 0:Y.str)||null}}else if(t instanceof jO){const{data:{inkLists:I,rect:z,rotation:V,id:H,color:B,borderStyle:{rawWidth:j},popupRef:q,contentsObj:Y},parent:{page:{pageNumber:Z}}}=t;r=t={annotationType:Qt.HIGHLIGHT,color:Array.from(B),thickness:j,inkLists:I,boxes:null,pageIndex:Z-1,rect:z.slice(0),rotation:V,annotationElementId:H,id:H,deleted:!1,popupRef:q,comment:(Y==null?void 0:Y.str)||null}}const{color:a,quadPoints:l,inkLists:c,opacity:h}=t,f=await super.deserialize(t,i,s);f.color=Pt.makeHexColor(...a),O(f,Mh,h||1),c&&O(f,rl,t.thickness),f._initialData=r,t.comment&&f.setCommentData(t.comment);const[p,v]=f.pageDimensions,[w,E]=f.pageTranslation;if(l){const I=O(f,kh,[]);for(let z=0;z<l.length;z+=8)I.push({x:(l[z]-w)/p,y:1-(l[z+1]-E)/v,width:(l[z+2]-l[z])/p,height:(l[z+1]-l[z+5])/v});W(S=f,an,fD).call(S),W(C=f,an,up).call(C),f.rotate(f.rotation)}else if(c){O(f,Ar,!0);const I=c[0],z={x:I[0]-w,y:v-(I[1]-E)},V=new dD(z,[0,0,p,v],1,y(f,rl)/2,!0,.001);for(let j=0,q=I.length;j<q;j+=2)z.x=I[j]-w,z.y=v-(I[j+1]-E),V.add(z);const{id:H,clipPathId:B}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:V.toSVGPath()}},!0,!0);W(k=f,an,$T).call(k,{highlightOutlines:V.getOutlines(),highlightId:H,clipPathId:B}),W(N=f,an,up).call(N),f.rotate(f.parentRotation)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=Ei._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r={annotationType:Qt.HIGHLIGHT,color:s,opacity:y(this,Mh),thickness:y(this,rl),quadPoints:W(this,an,oY).call(this),outlines:W(this,an,lY).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:W(this,an,nw).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(r),this.annotationElementId&&!W(this,an,hY).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}static canCreateNewEmptyEditor(){return!1}};__=new WeakMap,EE=new WeakMap,kh=new WeakMap,hg=new WeakMap,AE=new WeakMap,La=new WeakMap,TE=new WeakMap,SE=new WeakMap,dg=new WeakMap,sl=new WeakMap,bo=new WeakMap,Ar=new WeakMap,b_=new WeakMap,Mh=new WeakMap,Gr=new WeakMap,w_=new WeakMap,rl=new WeakMap,CE=new WeakMap,an=new WeakSet,fD=function(){const t=new uD(y(this,kh),.001);O(this,sl,t.getOutlines()),[this.x,this.y,this.width,this.height]=y(this,sl).box;const i=new uD(y(this,kh),.0025,.001,this._uiManager.direction==="ltr");O(this,La,i.getOutlines());const{lastPoint:s}=y(this,La);O(this,b_,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},$T=function({highlightOutlines:t,highlightId:i,clipPathId:s}){var p,v;if(O(this,sl,t),O(this,La,t.getNewOutline(y(this,rl)/2+1.5,.0025)),i>=0)O(this,bo,i),O(this,hg,s),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),O(this,Gr,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:y(this,La).box,path:{d:y(this,La).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(y(this,bo),{bbox:W(p=Zn,cl,ev).call(p,y(this,sl).box,(w-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(y(this,Gr),{bbox:W(v=Zn,cl,ev).call(v,y(this,La).box,w),path:{d:y(this,La).toSVGPath()}})}const[a,l,c,h]=t.box;switch(this.rotation){case 0:this.x=a,this.y=l,this.width=c,this.height=h;break;case 90:{const[w,E]=this.parentDimensions;this.x=l,this.y=1-a,this.width=c*E/w,this.height=h*w/E;break}case 180:this.x=1-a,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[w,E]=this.parentDimensions;this.x=1-l,this.y=a,this.width=c*E/w,this.height=h*w/E;break}}const{lastPoint:f}=y(this,La);O(this,b_,[(f[0]-a)/c,(f[1]-l)/h])},iY=function(t){const i=(a,l)=>{var c,h;this.color=a,O(this,Mh,l),(c=this.parent)==null||c.drawLayer.updateProperties(y(this,bo),{root:{fill:a,"fill-opacity":l}}),(h=y(this,AE))==null||h.updateColor(a)},s=this.color,r=y(this,Mh);this.addCommands({cmd:i.bind(this,t,Zn._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},sY=function(t){const i=y(this,rl),s=r=>{O(this,rl,r),W(this,an,rY).call(this,r)};this.addCommands({cmd:s.bind(this,t),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},rY=function(t){if(!y(this,Ar))return;W(this,an,$T).call(this,{highlightOutlines:y(this,sl).getNewOutline(t/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},mD=function(){y(this,bo)===null||!this.parent||(this.parent.drawLayer.remove(y(this,bo)),O(this,bo,null),this.parent.drawLayer.remove(y(this,Gr)),O(this,Gr,null))},up=function(t=this.parent){y(this,bo)===null&&({id:ua(this,bo)._,clipPathId:ua(this,hg)._}=t.drawLayer.draw({bbox:y(this,sl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":y(this,Mh)},rootClass:{highlight:!0,free:y(this,Ar)},path:{d:y(this,sl).toSVGPath()}},!1,!0),O(this,Gr,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:y(this,Ar)},bbox:y(this,La).box,path:{d:y(this,La).toSVGPath()}},y(this,Ar))),y(this,dg)&&(y(this,dg).style.clipPath=y(this,hg)))},cl=new WeakSet,ev=function([t,i,s,r],a){switch(a){case 90:return[1-i-r,t,r,s];case 180:return[1-t-s,1-i-r,s,r];case 270:return[i,1-t-s,r,s]}return[t,i,s,r]},aY=function(t){Zn._keyboardManager.exec(this,t)},qT=function(t){if(!y(this,__))return;const i=window.getSelection();t?i.setPosition(y(this,__),y(this,EE)):i.setPosition(y(this,TE),y(this,SE))},nw=function(){return y(this,Ar)?this.rotation:0},oY=function(){if(y(this,Ar))return null;const[t,i]=this.pageDimensions,[s,r]=this.pageTranslation,a=y(this,kh),l=new Float32Array(a.length*8);let c=0;for(const{x:h,y:f,width:p,height:v}of a){const w=h*t+s,E=(1-f)*i+r;l[c]=l[c+4]=w,l[c+1]=l[c+3]=E,l[c+2]=l[c+6]=w+p*t,l[c+5]=l[c+7]=E-v*i,c+=8}return l},lY=function(t){return y(this,sl).serialize(t,W(this,an,nw).call(this))},cY=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},uY=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},hY=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((s,r)=>s!==i[r])},G(Zn,cl),Ye(Zn,"_defaultColor",null),Ye(Zn,"_defaultOpacity",1),Ye(Zn,"_defaultThickness",12),Ye(Zn,"_type","highlight"),Ye(Zn,"_editorType",Qt.HIGHLIGHT),Ye(Zn,"_freeHighlightId",-1),Ye(Zn,"_freeHighlight",null),Ye(Zn,"_freeHighlightClipId","");let aC=Zn;var fg;class dY{constructor(){G(this,fg,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){y(this,fg)[e]=t}toSVGProperties(){const e=y(this,fg);return O(this,fg,Object.create(null)),{root:e}}reset(){O(this,fg,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){fi("Not implemented")}}fg=new WeakMap;var wo,x_,tr,mg,pg,Vf,Bf,zf,gg,Bn,pD,gD,yD,iw,fY,GT,sw,tv;const yt=class yt extends Ei{constructor(t){super(t);G(this,Bn);G(this,wo,null);G(this,x_);Ye(this,"_colorPicker",null);Ye(this,"_drawId",null);O(this,x_,t.mustBeCommitted||!1),this._addOutlines(t)}_addOutlines(t){t.drawOutlines&&(W(this,Bn,pD).call(this,t),W(this,Bn,iw).call(this))}static _mergeSVGProperties(t,i){const s=new Set(Object.keys(t));for(const[r,a]of Object.entries(i))s.has(r)?Object.assign(t[r],a):t[r]=a;return t}static getDefaultDrawingOptions(t){fi("Not implemented")}static get typesMap(){fi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const s=this.typesMap.get(t);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(y(yt,tr).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const s=this.constructor.typesMap.get(t);s&&this._updateProperty(t,s,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)t.push([s,i[r]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)t.push([s,i[r]]);return t}_updateProperty(t,i,s){const r=this._drawingOptions,a=r[i],l=c=>{var f,p;r.updateProperty(i,c);const h=y(this,wo).updateProperty(i,c);h&&W(this,Bn,sw).call(this,h),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),t===this.colorType&&((p=this._colorPicker)==null||p.update(c))};this.addCommands({cmd:l.bind(this,s),undo:l.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(y(this,wo).getPathResizingSVGProperties(W(this,Bn,GT).call(this)),{bbox:W(this,Bn,tv).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(y(this,wo).getPathResizedSVGProperties(W(this,Bn,GT).call(this)),{bbox:W(this,Bn,tv).call(this)}))}_onTranslating(t,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:W(this,Bn,tv).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(y(this,wo).getPathTranslatedSVGProperties(W(this,Bn,GT).call(this),this.parentDimensions),{bbox:W(this,Bn,tv).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,y(this,x_)&&(O(this,x_,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){W(this,Bn,yD).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(W(this,Bn,iw).call(this),W(this,Bn,sw).call(this,y(this,wo).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var s;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),W(this,Bn,yD).call(this)):t&&(this._uiManager.addShouldRescale(this),W(this,Bn,iw).call(this,t),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:W(this,Bn,tv).call(this)},y(this,wo).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&W(this,Bn,sw).call(this,y(this,wo).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[a,l]=this.parentDimensions;return this.setDims(this.width*a,this.height*l),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),s}static createDrawerInstance(t,i,s,r,a){fi("Not implemented")}static startDrawing(t,i,s,r){var C;const{target:a,offsetX:l,offsetY:c,pointerId:h,pointerType:f}=r;if(y(yt,Bf)&&y(yt,Bf)!==f)return;const{viewport:{rotation:p}}=t,{width:v,height:w}=a.getBoundingClientRect(),E=O(yt,mg,new AbortController),S=t.combinedSignal(E);if(y(yt,Vf)||O(yt,Vf,h),y(yt,Bf)??O(yt,Bf,f),window.addEventListener("pointerup",k=>{var N;y(yt,Vf)===k.pointerId?this._endDraw(k):(N=y(yt,zf))==null||N.delete(k.pointerId)},{signal:S}),window.addEventListener("pointercancel",k=>{var N;y(yt,Vf)===k.pointerId?this._currentParent.endDrawingSession():(N=y(yt,zf))==null||N.delete(k.pointerId)},{signal:S}),window.addEventListener("pointerdown",k=>{y(yt,Bf)===k.pointerType&&((y(yt,zf)||O(yt,zf,new Set)).add(k.pointerId),y(yt,tr).isCancellable()&&(y(yt,tr).removeLastElement(),y(yt,tr).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:S}),window.addEventListener("contextmenu",_l,{signal:S}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:S}),a.addEventListener("touchmove",k=>{k.timeStamp===y(yt,gg)&&As(k)},{signal:S}),t.toggleDrawing(),(C=i._editorUndoBar)==null||C.hide(),y(yt,tr)){t.drawLayer.updateProperties(this._currentDrawId,y(yt,tr).startNew(l,c,v,w,p));return}i.updateUIForDefaultProperties(this),O(yt,tr,this.createDrawerInstance(l,c,v,w,p)),O(yt,pg,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(y(yt,pg).toSVGProperties(),y(yt,tr).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(O(yt,gg,-1),!y(yt,tr))return;const{offsetX:i,offsetY:s,pointerId:r}=t;if(y(yt,Vf)===r){if(((a=y(yt,zf))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,y(yt,tr).add(i,s)),O(yt,gg,t.timeStamp),As(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,O(yt,tr,null),O(yt,pg,null),O(yt,Bf,null),O(yt,gg,NaN)),y(yt,mg)&&(y(yt,mg).abort(),O(yt,mg,null),O(yt,Vf,NaN),O(yt,zf,null))}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,y(yt,tr).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const s=y(yt,tr),r=this._currentDrawId,a=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:In.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(In.DRAW_STEP),!y(yt,tr).isEmpty()){const{pageDimensions:[s,r],scale:a}=i,l=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:y(yt,tr).getOutlines(s*a,r*a,a,this._INNER_MARGIN),drawingOptions:y(yt,pg),mustBeCommitted:!t});return this._cleanup(!0),l}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,s,r,a,l){fi("Not implemented")}static async deserialize(t,i,s){var p,v;const{rawDims:{pageWidth:r,pageHeight:a,pageX:l,pageY:c}}=i.viewport,h=this.deserializeDraw(l,c,r,a,this._INNER_MARGIN,t),f=await super.deserialize(t,i,s);return f.createDrawingOptions(t),W(p=f,Bn,pD).call(p,{drawOutlines:h}),W(v=f,Bn,iw).call(v),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[i,s]=this.pageTranslation,[r,a]=this.pageDimensions;return y(this,wo).serialize([i,s,r,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};wo=new WeakMap,x_=new WeakMap,tr=new WeakMap,mg=new WeakMap,pg=new WeakMap,Vf=new WeakMap,Bf=new WeakMap,zf=new WeakMap,gg=new WeakMap,Bn=new WeakSet,pD=function({drawOutlines:t,drawId:i,drawingOptions:s}){O(this,wo,t),this._drawingOptions||(this._drawingOptions=s),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=W(this,Bn,gD).call(this,t,this.parent),W(this,Bn,sw).call(this,t.box)},gD=function(t,i){const{id:s}=i.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return s},yD=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},iw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=W(this,Bn,gD).call(this,y(this,wo),t)}},fY=function([t,i,s,r]){const{parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[i,1-t,s*(l/a),r*(a/l)];case 180:return[1-t,1-i,s,r];case 270:return[1-i,t,s*(l/a),r*(a/l)];default:return[t,i,s,r]}},GT=function(){const{x:t,y:i,width:s,height:r,parentDimensions:[a,l],rotation:c}=this;switch(c){case 90:return[1-i,t,s*(a/l),r*(l/a)];case 180:return[1-t,1-i,s,r];case 270:return[i,1-t,s*(a/l),r*(l/a)];default:return[t,i,s,r]}},sw=function(t){if([this.x,this.y,this.width,this.height]=W(this,Bn,fY).call(this,t),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},tv=function(){const{x:t,y:i,width:s,height:r,rotation:a,parentRotation:l,parentDimensions:[c,h]}=this;switch((a*4+l)/90){case 1:return[1-i-r,t,r,s];case 2:return[1-t-s,1-i-r,s,r];case 3:return[i,1-t-s,r,s];case 4:return[t,i-s*(c/h),r*(h/c),s*(c/h)];case 5:return[1-i,t,s*(c/h),r*(h/c)];case 6:return[1-t-r*(h/c),1-i,r*(h/c),s*(c/h)];case 7:return[i-s*(c/h),1-t-r*(h/c),s*(c/h),r*(h/c)];case 8:return[t-s,i-r,s,r];case 9:return[1-i,t-s,r,s];case 10:return[1-t,1-i,s,r];case 11:return[i-r,1-t,r,s];case 12:return[t-r*(h/c),i,r*(h/c),s*(c/h)];case 13:return[1-i-s*(c/h),t-r*(h/c),s*(c/h),r*(h/c)];case 14:return[1-t,1-i-s*(c/h),r*(h/c),s*(c/h)];case 15:return[i,1-t,s*(c/h),r*(h/c)];default:return[t,i,s,r]}},Ye(yt,"_currentDrawId",-1),Ye(yt,"_currentParent",null),G(yt,tr,null),G(yt,mg,null),G(yt,pg,null),G(yt,Vf,NaN),G(yt,Bf,null),G(yt,zf,null),G(yt,gg,NaN),Ye(yt,"_INNER_MARGIN",3);let oC=yt;var eu,nr,ir,yg,E_,fa,Tr,al,vg,_g,bg,A_,WT;class NAe{constructor(e,t,i,s,r,a){G(this,A_);G(this,eu,new Float64Array(6));G(this,nr);G(this,ir);G(this,yg);G(this,E_);G(this,fa);G(this,Tr,"");G(this,al,0);G(this,vg,new mA);G(this,_g);G(this,bg);O(this,_g,i),O(this,bg,s),O(this,yg,r),O(this,E_,a),[e,t]=W(this,A_,WT).call(this,e,t);const l=O(this,nr,[NaN,NaN,NaN,NaN,e,t]);O(this,fa,[e,t]),O(this,ir,[{line:l,points:y(this,fa)}]),y(this,eu).set(l,0)}updateProperty(e,t){e==="stroke-width"&&O(this,E_,t)}isEmpty(){return!y(this,ir)||y(this,ir).length===0}isCancellable(){return y(this,fa).length<=10}add(e,t){[e,t]=W(this,A_,WT).call(this,e,t);const[i,s,r,a]=y(this,eu).subarray(2,6),l=e-r,c=t-a;return Math.hypot(y(this,_g)*l,y(this,bg)*c)<=2?null:(y(this,fa).push(e,t),isNaN(i)?(y(this,eu).set([r,a,e,t],2),y(this,nr).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(y(this,eu)[0])&&y(this,nr).splice(6,6),y(this,eu).set([i,s,r,a,e,t],0),y(this,nr).push(...dt.createBezierPoints(i,s,r,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(y(this,fa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,s,r){O(this,_g,i),O(this,bg,s),O(this,yg,r),[e,t]=W(this,A_,WT).call(this,e,t);const a=O(this,nr,[NaN,NaN,NaN,NaN,e,t]);O(this,fa,[e,t]);const l=y(this,ir).at(-1);return l&&(l.line=new Float32Array(l.line),l.points=new Float32Array(l.points)),y(this,ir).push({line:a,points:y(this,fa)}),y(this,eu).set(a,0),O(this,al,0),this.toSVGPath(),null}getLastElement(){return y(this,ir).at(-1)}setLastElement(e){return y(this,ir)?(y(this,ir).push(e),O(this,nr,e.line),O(this,fa,e.points),O(this,al,0),{path:{d:this.toSVGPath()}}):y(this,vg).setLastElement(e)}removeLastElement(){if(!y(this,ir))return y(this,vg).removeLastElement();y(this,ir).pop(),O(this,Tr,"");for(let e=0,t=y(this,ir).length;e<t;e++){const{line:i,points:s}=y(this,ir)[e];O(this,nr,i),O(this,fa,s),O(this,al,0),this.toSVGPath()}return{path:{d:y(this,Tr)}}}toSVGPath(){const e=dt.svgRound(y(this,nr)[4]),t=dt.svgRound(y(this,nr)[5]);if(y(this,fa).length===2)return O(this,Tr,`${y(this,Tr)} M ${e} ${t} Z`),y(this,Tr);if(y(this,fa).length<=6){const s=y(this,Tr).lastIndexOf("M");O(this,Tr,`${y(this,Tr).slice(0,s)} M ${e} ${t}`),O(this,al,6)}if(y(this,fa).length===4){const s=dt.svgRound(y(this,nr)[10]),r=dt.svgRound(y(this,nr)[11]);return O(this,Tr,`${y(this,Tr)} L ${s} ${r}`),O(this,al,12),y(this,Tr)}const i=[];y(this,al)===0&&(i.push(`M ${e} ${t}`),O(this,al,6));for(let s=y(this,al),r=y(this,nr).length;s<r;s+=6){const[a,l,c,h,f,p]=y(this,nr).slice(s,s+6).map(dt.svgRound);i.push(`C${a} ${l} ${c} ${h} ${f} ${p}`)}return O(this,Tr,y(this,Tr)+i.join(" ")),O(this,al,y(this,nr).length),y(this,Tr)}getOutlines(e,t,i,s){const r=y(this,ir).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),y(this,vg).build(y(this,ir),e,t,i,y(this,yg),y(this,E_),s),O(this,eu,null),O(this,nr,null),O(this,ir,null),O(this,Tr,null),y(this,vg)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}eu=new WeakMap,nr=new WeakMap,ir=new WeakMap,yg=new WeakMap,E_=new WeakMap,fa=new WeakMap,Tr=new WeakMap,al=new WeakMap,vg=new WeakMap,_g=new WeakMap,bg=new WeakMap,A_=new WeakSet,WT=function(e,t){return dt._normalizePoint(e,t,y(this,_g),y(this,bg),y(this,yg))};var ma,RE,kE,xo,tu,nu,T_,S_,wg,kr,th,mY,pY,gY;class mA extends dt{constructor(){super(...arguments);G(this,kr);G(this,ma);G(this,RE,0);G(this,kE);G(this,xo);G(this,tu);G(this,nu);G(this,T_);G(this,S_);G(this,wg)}build(t,i,s,r,a,l,c){O(this,tu,i),O(this,nu,s),O(this,T_,r),O(this,S_,a),O(this,wg,l),O(this,kE,c??0),O(this,xo,t),W(this,kr,pY).call(this)}get thickness(){return y(this,wg)}setLastElement(t){return y(this,xo).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return y(this,xo).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of y(this,xo)){if(t.push(`M${dt.svgRound(i[4])} ${dt.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${dt.svgRound(i[10])} ${dt.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[a,l,c,h,f,p]=i.subarray(s,s+6).map(dt.svgRound);t.push(`C${a} ${l} ${c} ${h} ${f} ${p}`)}}return t.join("")}serialize([t,i,s,r],a){const l=[],c=[],[h,f,p,v]=W(this,kr,mY).call(this);let w,E,S,C,k,N,I,z,V;switch(y(this,S_)){case 0:V=dt._rescale,w=t,E=i+r,S=s,C=-r,k=t+h*s,N=i+(1-f-v)*r,I=t+(h+p)*s,z=i+(1-f)*r;break;case 90:V=dt._rescaleAndSwap,w=t,E=i,S=s,C=r,k=t+f*s,N=i+h*r,I=t+(f+v)*s,z=i+(h+p)*r;break;case 180:V=dt._rescale,w=t+s,E=i,S=-s,C=r,k=t+(1-h-p)*s,N=i+f*r,I=t+(1-h)*s,z=i+(f+v)*r;break;case 270:V=dt._rescaleAndSwap,w=t+s,E=i+r,S=-s,C=-r,k=t+(1-f-v)*s,N=i+(1-h-p)*r,I=t+(1-f)*s,z=i+(1-h)*r;break}for(const{line:H,points:B}of y(this,xo))l.push(V(H,w,E,S,C,a?new Array(H.length):null)),c.push(V(B,w,E,S,C,a?new Array(B.length):null));return{lines:l,points:c,rect:[k,N,I,z]}}static deserialize(t,i,s,r,a,{paths:{lines:l,points:c},rotation:h,thickness:f}){const p=[];let v,w,E,S,C;switch(h){case 0:C=dt._rescale,v=-t/s,w=i/r+1,E=1/s,S=-1/r;break;case 90:C=dt._rescaleAndSwap,v=-i/r,w=-t/s,E=1/r,S=1/s;break;case 180:C=dt._rescale,v=t/s+1,w=-i/r,E=-1/s,S=1/r;break;case 270:C=dt._rescaleAndSwap,v=i/r+1,w=t/s+1,E=-1/r,S=-1/s;break}if(!l){l=[];for(const N of c){const I=N.length;if(I===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1]]));continue}if(I===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,N[0],N[1],NaN,NaN,NaN,NaN,N[2],N[3]]));continue}const z=new Float32Array(3*(I-2));l.push(z);let[V,H,B,j]=N.subarray(0,4);z.set([NaN,NaN,NaN,NaN,V,H],0);for(let q=4;q<I;q+=2){const Y=N[q],Z=N[q+1];z.set(dt.createBezierPoints(V,H,B,j,Y,Z),(q-2)*3),[V,H,B,j]=[B,j,Y,Z]}}}for(let N=0,I=l.length;N<I;N++)p.push({line:C(l[N].map(z=>z??NaN),v,w,E,S),points:C(c[N].map(z=>z??NaN),v,w,E,S)});const k=new this.prototype.constructor;return k.build(p,s,r,1,h,f,a),k}get box(){return y(this,ma)}updateProperty(t,i){return t==="stroke-width"?W(this,kr,gY).call(this,i):null}updateParentDimensions([t,i],s){const[r,a]=W(this,kr,th).call(this);O(this,tu,t),O(this,nu,i),O(this,T_,s);const[l,c]=W(this,kr,th).call(this),h=l-r,f=c-a,p=y(this,ma);return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(t){return O(this,RE,t),{path:{transform:this.rotationTransform}}}get viewBox(){return y(this,ma).map(dt.svgRound).join(" ")}get defaultProperties(){const[t,i]=y(this,ma);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=y(this,ma);let s=0,r=0,a=0,l=0,c=0,h=0;switch(y(this,RE)){case 90:r=i/t,a=-t/i,c=t;break;case 180:s=-1,l=-1,c=t,h=i;break;case 270:r=-i/t,a=t/i,h=i;break;default:return""}return`matrix(${s} ${r} ${a} ${l} ${dt.svgRound(c)} ${dt.svgRound(h)})`}getPathResizingSVGProperties([t,i,s,r]){const[a,l]=W(this,kr,th).call(this),[c,h,f,p]=y(this,ma);if(Math.abs(f-a)<=dt.PRECISION||Math.abs(p-l)<=dt.PRECISION){const C=t+s/2-(c+f/2),k=i+r/2-(h+p/2);return{path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${C} ${k})`}}}const v=(s-2*a)/(f-2*a),w=(r-2*l)/(p-2*l),E=f/s,S=p/r;return{path:{"transform-origin":`${dt.svgRound(c)} ${dt.svgRound(h)}`,transform:`${this.rotationTransform} scale(${E} ${S}) translate(${dt.svgRound(a)} ${dt.svgRound(l)}) scale(${v} ${w}) translate(${dt.svgRound(-a)} ${dt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,i,s,r]){const[a,l]=W(this,kr,th).call(this),c=y(this,ma),[h,f,p,v]=c;if(c[0]=t,c[1]=i,c[2]=s,c[3]=r,Math.abs(p-a)<=dt.PRECISION||Math.abs(v-l)<=dt.PRECISION){const k=t+s/2-(h+p/2),N=i+r/2-(f+v/2);for(const{line:I,points:z}of y(this,xo))dt._translate(I,k,N,I),dt._translate(z,k,N,z);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const w=(s-2*a)/(p-2*a),E=(r-2*l)/(v-2*l),S=-w*(h+a)+t+a,C=-E*(f+l)+i+l;if(w!==1||E!==1||S!==0||C!==0)for(const{line:k,points:N}of y(this,xo))dt._rescale(k,S,C,w,E,k),dt._rescale(N,S,C,w,E,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],s){const[r,a]=s,l=y(this,ma),c=t-l[0],h=i-l[1];if(y(this,tu)===r&&y(this,nu)===a)for(const{line:f,points:p}of y(this,xo))dt._translate(f,c,h,f),dt._translate(p,c,h,p);else{const f=y(this,tu)/r,p=y(this,nu)/a;O(this,tu,r),O(this,nu,a);for(const{line:v,points:w}of y(this,xo))dt._rescale(v,c,h,f,p,v),dt._rescale(w,c,h,f,p,w);l[2]*=f,l[3]*=p}return l[0]=t,l[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t)} ${dt.svgRound(i)}`}}}get defaultSVGProperties(){const t=y(this,ma);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${dt.svgRound(t[0])} ${dt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}ma=new WeakMap,RE=new WeakMap,kE=new WeakMap,xo=new WeakMap,tu=new WeakMap,nu=new WeakMap,T_=new WeakMap,S_=new WeakMap,wg=new WeakMap,kr=new WeakSet,th=function(t=y(this,wg)){const i=y(this,kE)+t/2*y(this,T_);return y(this,S_)%180===0?[i/y(this,tu),i/y(this,nu)]:[i/y(this,nu),i/y(this,tu)]},mY=function(){const[t,i,s,r]=y(this,ma),[a,l]=W(this,kr,th).call(this,0);return[t+a,i+l,s-2*a,r-2*l]},pY=function(){const t=O(this,ma,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of y(this,xo)){if(r.length<=12){for(let c=4,h=r.length;c<h;c+=6)Pt.pointBoundingBox(r[c],r[c+1],t);continue}let a=r[4],l=r[5];for(let c=6,h=r.length;c<h;c+=6){const[f,p,v,w,E,S]=r.subarray(c,c+6);Pt.bezierBoundingBox(a,l,f,p,v,w,E,S,t),a=E,l=S}}const[i,s]=W(this,kr,th).call(this);t[0]=ya(t[0]-i,0,1),t[1]=ya(t[1]-s,0,1),t[2]=ya(t[2]+i,0,1),t[3]=ya(t[3]+s,0,1),t[2]-=t[0],t[3]-=t[1]},gY=function(t){const[i,s]=W(this,kr,th).call(this);O(this,wg,t);const[r,a]=W(this,kr,th).call(this),[l,c]=[r-i,a-s],h=y(this,ma);return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h};class JR extends dY{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new JR(this._viewParameters);return e.updateAll(this),e}}var MC,yY;const hv=class hv extends oC{constructor(t){super({...t,name:"inkEditor"});G(this,MC);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Ei.initialize(t,i),this._defaultDrawingOptions=new JR(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return vn(this,"typesMap",new Map([[In.INK_THICKNESS,"stroke-width"],[In.INK_COLOR,"stroke"],[In.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,s,r,a){return new NAe(t,i,s,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,s,r,a,l){return mA.deserialize(t,i,s,r,a,l)}static async deserialize(t,i,s){let r=null;if(t instanceof jO){const{data:{inkLists:l,rect:c,rotation:h,id:f,color:p,opacity:v,borderStyle:{rawWidth:w},popupRef:E,contentsObj:S},parent:{page:{pageNumber:C}}}=t;r=t={annotationType:Qt.INK,color:Array.from(p),thickness:w,opacity:v,paths:{points:l},boxes:null,pageIndex:C-1,rect:c.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:E,comment:(S==null?void 0:S.str)||null}}const a=await super.deserialize(t,i,s);return a._initialData=r,t.comment&&a.setCommentData(t.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new iC(this)),[["colorPicker",this._colorPicker]]}get colorType(){return In.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:s}){this._drawingOptions=hv.getDefaultDrawingOptions({stroke:Pt.makeHexColor(...t),"stroke-width":i,"stroke-opacity":s})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:r}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":l,"stroke-width":c}}=this,h={annotationType:Qt.INK,color:Ei._colorManager.convert(a),opacity:l,thickness:c,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(h),t?(h.isCopy=!0,h):this.annotationElementId&&!W(this,MC,yY).call(this,h)?null:(h.id=this.annotationElementId,h)}renderAnnotationElement(t){const{points:i,rect:s}=this.serializeDraw(!1),r={rect:s,thickness:this._drawingOptions["stroke-width"],points:i};return this.hasEditedComment&&(r.popup=this.comment),t.updateEdited(r),null}};MC=new WeakSet,yY=function(t){const{color:i,thickness:s,opacity:r,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==i[c])||t.thickness!==s||t.opacity!==r||t.pageIndex!==a},Ye(hv,"_type","ink"),Ye(hv,"_editorType",Qt.INK),Ye(hv,"_defaultDrawingOptions",null);let vD=hv;class _D extends mA{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Y1=8,Rb=3;var xg,ei,bD,Wl,vY,_Y,wD,KT,bY,wY,xY,xD,ED,EY;class Oh{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:s},r,a,l,c){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,v=f.font=`${i} ${s} ${p}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:E,actualBoundingBoxAscent:S,actualBoundingBoxDescent:C,fontBoundingBoxAscent:k,fontBoundingBoxDescent:N,width:I}=f.measureText(e),z=1.5,V=Math.ceil(Math.max(Math.abs(w)+Math.abs(E)||0,I)*z),H=Math.ceil(Math.max(Math.abs(S)+Math.abs(C)||p,Math.abs(k)+Math.abs(N)||p)*z);h=new OffscreenCanvas(V,H),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=v,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,V,H),f.fillStyle="black",f.fillText(e,V*(z-1)/2,H*(3-z)/2);const B=W(this,ei,xD).call(this,f.getImageData(0,0,V,H).data),j=W(this,ei,xY).call(this,B),q=W(this,ei,ED).call(this,j),Y=W(this,ei,wD).call(this,B,V,H,q);return this.processDrawnLines({lines:{curves:Y,width:V,height:H},pageWidth:r,pageHeight:a,rotation:l,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,i,s,r){const[a,l,c]=W(this,ei,EY).call(this,e),[h,f]=W(this,ei,wY).call(this,a,l,c,Math.hypot(l,c)*y(this,xg).sigmaSFactor,y(this,xg).sigmaR,y(this,xg).kernelSize),p=W(this,ei,ED).call(this,f),v=W(this,ei,wD).call(this,h,l,c,p);return this.processDrawnLines({lines:{curves:v,width:l,height:c},pageWidth:t,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:a,areContours:l}){s%180!==0&&([t,i]=[i,t]);const{curves:c,width:h,height:f}=e,p=e.thickness??0,v=[],w=Math.min(t/h,i/f),E=w/t,S=w/i,C=[];for(const{points:N}of c){const I=a?W(this,ei,bY).call(this,N):N;if(!I)continue;C.push(I);const z=I.length,V=new Float32Array(z),H=new Float32Array(3*(z===2?2:z-2));if(v.push({line:H,points:V}),z===2){V[0]=I[0]*E,V[1]=I[1]*S,H.set([NaN,NaN,NaN,NaN,V[0],V[1]],0);continue}let[B,j,q,Y]=I;B*=E,j*=S,q*=E,Y*=S,V.set([B,j,q,Y],0),H.set([NaN,NaN,NaN,NaN,B,j],0);for(let Z=4;Z<z;Z+=2){const ne=V[Z]=I[Z]*E,Q=V[Z+1]=I[Z+1]*S;H.set(dt.createBezierPoints(B,j,q,Y,ne,Q),(Z-2)*3),[B,j,q,Y]=[q,Y,ne,Q]}}if(v.length===0)return null;const k=l?new _D:new mA;return k.build(v,t,i,1,s,l?0:p,r),{outline:k,newCurves:C,areContours:l,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:s,height:r}){let a=1/0,l=-1/0,c=0;for(const I of e){c+=I.length;for(let z=2,V=I.length;z<V;z++){const H=I[z]-I[z-2];a=Math.min(a,H),l=Math.max(l,H)}}let h;a>=-128&&l<=127?h=Int8Array:a>=-32768&&l<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=Y1+Rb*f,v=new Uint32Array(p);let w=0;v[w++]=p*Uint32Array.BYTES_PER_ELEMENT+(c-2*f)*h.BYTES_PER_ELEMENT,v[w++]=0,v[w++]=s,v[w++]=r,v[w++]=t?0:1,v[w++]=Math.max(0,Math.floor(i??0)),v[w++]=f,v[w++]=h.BYTES_PER_ELEMENT;for(const I of e)v[w++]=I.length-2,v[w++]=I[0],v[w++]=I[1];const E=new CompressionStream("deflate-raw"),S=E.writable.getWriter();await S.ready,S.write(v);const C=h.prototype.constructor;for(const I of e){const z=new C(I.length-2);for(let V=2,H=I.length;V<H;V++)z[V-2]=I[V]-I[V-2];S.write(z)}S.close();const k=await new Response(E.readable).arrayBuffer(),N=new Uint8Array(k);return AW(N)}static async decompressSignature(e){try{const t=iEe(e),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let a=null,l=0;for await(const I of i)a||(a=new Uint8Array(new Uint32Array(I.buffer,0,4)[0])),a.set(I,l),l+=I.length;const c=new Uint32Array(a.buffer,0,a.length>>2),h=c[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=c[2],p=c[3],v=c[4]===0,w=c[5],E=c[6],S=c[7],C=[],k=(Y1+Rb*E)*Uint32Array.BYTES_PER_ELEMENT;let N;switch(S){case Int8Array.BYTES_PER_ELEMENT:N=new Int8Array(a.buffer,k);break;case Int16Array.BYTES_PER_ELEMENT:N=new Int16Array(a.buffer,k);break;case Int32Array.BYTES_PER_ELEMENT:N=new Int32Array(a.buffer,k);break}l=0;for(let I=0;I<E;I++){const z=c[Rb*I+Y1],V=new Float32Array(z+2);C.push(V);for(let H=0;H<Rb-1;H++)V[H]=c[Rb*I+Y1+H+1];for(let H=0;H<z;H++)V[H+2]=V[H]+N[l++]}return{areContours:v,thickness:w,outlines:C,width:f,height:p}}catch(t){return Jt(`decompressSignature: ${t}`),null}}}xg=new WeakMap,ei=new WeakSet,bD=function(e,t,i,s){return i-=e,s-=t,i===0?s>0?0:4:i===1?s+6:2-s},Wl=new WeakMap,vY=function(e,t,i,s,r,a,l){const c=W(this,ei,bD).call(this,i,s,r,a);for(let h=0;h<8;h++){const f=(-h+c-l+16)%8,p=y(this,Wl)[2*f],v=y(this,Wl)[2*f+1];if(e[(i+p)*t+(s+v)]!==0)return f}return-1},_Y=function(e,t,i,s,r,a,l){const c=W(this,ei,bD).call(this,i,s,r,a);for(let h=0;h<8;h++){const f=(h+c+l+16)%8,p=y(this,Wl)[2*f],v=y(this,Wl)[2*f+1];if(e[(i+p)*t+(s+v)]!==0)return f}return-1},wD=function(e,t,i,s){const r=e.length,a=new Int32Array(r);for(let f=0;f<r;f++)a[f]=e[f]<=s?1:0;for(let f=1;f<i-1;f++)a[f*t]=a[f*t+t-1]=0;for(let f=0;f<t;f++)a[f]=a[t*i-1-f]=0;let l=1,c;const h=[];for(let f=1;f<i-1;f++){c=1;for(let p=1;p<t-1;p++){const v=f*t+p,w=a[v];if(w===0)continue;let E=f,S=p;if(w===1&&a[v-1]===0)l+=1,S-=1;else if(w>=1&&a[v+1]===0)l+=1,S+=1,w>1&&(c=w);else{w!==1&&(c=Math.abs(w));continue}const C=[p,f],k=S===p+1,N={isHole:k,points:C,id:l,parent:0};h.push(N);let I;for(const Z of h)if(Z.id===c){I=Z;break}I?I.isHole?N.parent=k?I.parent:c:N.parent=k?c:I.parent:N.parent=k?c:0;const z=W(this,ei,vY).call(this,a,t,f,p,E,S,0);if(z===-1){a[v]=-l,a[v]!==1&&(c=Math.abs(a[v]));continue}let V=y(this,Wl)[2*z],H=y(this,Wl)[2*z+1];const B=f+V,j=p+H;E=B,S=j;let q=f,Y=p;for(;;){const Z=W(this,ei,_Y).call(this,a,t,q,Y,E,S,1);V=y(this,Wl)[2*Z],H=y(this,Wl)[2*Z+1];const ne=q+V,Q=Y+H;C.push(Q,ne);const _e=q*t+Y;if(a[_e+1]===0?a[_e]=-l:a[_e]===1&&(a[_e]=l),ne===f&&Q===p&&q===B&&Y===j){a[v]!==1&&(c=Math.abs(a[v]));break}else E=q,S=Y,q=ne,Y=Q}}}return h},KT=function(e,t,i,s){if(i-t<=4){for(let B=t;B<i-2;B+=2)s.push(e[B],e[B+1]);return}const r=e[t],a=e[t+1],l=e[i-4]-r,c=e[i-3]-a,h=Math.hypot(l,c),f=l/h,p=c/h,v=f*a-p*r,w=c/l,E=1/h,S=Math.atan(w),C=Math.cos(S),k=Math.sin(S),N=E*(Math.abs(C)+Math.abs(k)),I=E*(1-N+N**2),z=Math.max(Math.atan(Math.abs(k+C)*I),Math.atan(Math.abs(k-C)*I));let V=0,H=t;for(let B=t+2;B<i-2;B+=2){const j=Math.abs(v-f*e[B+1]+p*e[B]);j>V&&(H=B,V=j)}V>(h*z)**2?(W(this,ei,KT).call(this,e,t,H+2,s),W(this,ei,KT).call(this,e,H,i,s)):s.push(r,a)},bY=function(e){const t=[],i=e.length;return W(this,ei,KT).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},wY=function(e,t,i,s,r,a){const l=new Float32Array(a**2),c=-2*s**2,h=a>>1;for(let S=0;S<a;S++){const C=(S-h)**2;for(let k=0;k<a;k++)l[S*a+k]=Math.exp((C+(k-h)**2)/c)}const f=new Float32Array(256),p=-2*r**2;for(let S=0;S<256;S++)f[S]=Math.exp(S**2/p);const v=e.length,w=new Uint8Array(v),E=new Uint32Array(256);for(let S=0;S<i;S++)for(let C=0;C<t;C++){const k=S*t+C,N=e[k];let I=0,z=0;for(let H=0;H<a;H++){const B=S+H-h;if(!(B<0||B>=i))for(let j=0;j<a;j++){const q=C+j-h;if(q<0||q>=t)continue;const Y=e[B*t+q],Z=l[H*a+j]*f[Math.abs(Y-N)];I+=Y*Z,z+=Z}}const V=w[k]=Math.round(I/z);E[V]++}return[w,E]},xY=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},xD=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let s=-1/0,r=1/0;for(let l=0,c=i.length;l<c;l++){const h=i[l]=e[l<<2];s=Math.max(s,h),r=Math.min(r,h)}const a=255/(s-r);for(let l=0,c=i.length;l<c;l++)i[l]=(i[l]-r)*a;return i},ED=function(e){let t,i=-1/0,s=-1/0;const r=e.findIndex(c=>c!==0);let a=r,l=r;for(t=r;t<256;t++){const c=e[t];c>i&&(t-a>s&&(s=t-a,l=t-1),i=c,a=t)}for(t=l-1;t>=0&&!(e[t]>e[t+1]);t--);return t},EY=function(e){const t=e,{width:i,height:s}=e,{maxDim:r}=y(this,xg);let a=i,l=s;if(i>r||s>r){let v=i,w=s,E=Math.log2(Math.max(i,s)/r);const S=Math.floor(E);E=E===S?S-1:S;for(let k=0;k<E;k++){a=Math.ceil(v/2),l=Math.ceil(w/2);const N=new OffscreenCanvas(a,l);N.getContext("2d").drawImage(e,0,0,v,w,0,0,a,l),v=a,w=l,e!==t&&e.close(),e=N.transferToImageBitmap()}const C=Math.min(r/a,r/l);a=Math.round(a*C),l=Math.round(l*C)}const h=new OffscreenCanvas(a,l).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,a,l),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,a,l);const f=h.getImageData(0,0,a,l).data;return[W(this,ei,xD).call(this,f),a,l]},G(Oh,ei),G(Oh,xg,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),G(Oh,Wl,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class FO extends dY{constructor(){super(),super.updateProperties({fill:Ei._defaultLineColor,"stroke-width":0})}clone(){const e=new FO;return e.updateAll(this),e}}class VO extends JR{constructor(e){super(e),super.updateProperties({stroke:Ei._defaultLineColor,"stroke-width":1})}clone(){const e=new VO(this._viewParameters);return e.updateAll(this),e}}var Uf,iu,Hf,Eg;const lo=class lo extends oC{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});G(this,Uf,!1);G(this,iu,null);G(this,Hf,null);G(this,Eg,null);this._willKeepAspectRatio=!0,O(this,Hf,t.signatureData||null),O(this,iu,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Ei.initialize(t,i),this._defaultDrawingOptions=new FO,this._defaultDrawnSignatureOptions=new VO(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return vn(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!y(this,iu)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(y(this,Hf)){const{lines:r,mustSmooth:a,areContours:l,description:c,uuid:h,heightInPage:f}=y(this,Hf),{rawDims:{pageWidth:p,pageHeight:v},rotation:w}=this.parent.viewport,E=Oh.processDrawnLines({lines:r,pageWidth:p,pageHeight:v,rotation:w,innerMargin:lo._INNER_MARGIN,mustSmooth:a,areContours:l});this.addSignature(E,f,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:y(this,iu)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){O(this,Eg,t),this.addEditToolbar()}getUuid(){return y(this,Eg)}get description(){return y(this,iu)}set description(t){O(this,iu,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:s,width:r,height:a}=y(this,Hf),l=Math.max(r,a),c=Oh.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:s,width:r,height:a},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,s,r){const{x:a,y:l}=this,{outline:c}=O(this,Hf,t);O(this,Uf,c instanceof _D),this.description=s;let h;y(this,Uf)?h=lo.getDefaultDrawingOptions():(h=lo._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[f,p]=this.parentDimensions,[,v]=this.pageDimensions;let w=i/v;w=w>=1?.5:w,this.width*=w/this.height,this.width>=1&&(w*=.9/this.width,this.width=.9),this.height=w,this.setDims(f*this.width,p*this.height),this.x=a,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Oh.process(t,i,s,r,lo._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:a}=this.parent.viewport;return Oh.extractContoursFromText(t,i,s,r,a,lo._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Oh.processDrawnLines({lines:t,pageWidth:i,pageHeight:s,rotation:r,innerMargin:lo._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=lo.getDefaultDrawingOptions():(this._drawingOptions=lo._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":a}}=this,l={annotationType:Qt.SIGNATURE,isSignature:!0,areContours:y(this,Uf),color:[0,0,0],thickness:y(this,Uf)?0:a,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(l),t?(l.paths={lines:i,points:s},l.uuid=y(this,Eg),l.isCopy=!0):l.lines=i,y(this,iu)&&(l.accessibilityData={type:"Figure",alt:y(this,iu)}),l}static deserializeDraw(t,i,s,r,a,l){return l.areContours?_D.deserialize(t,i,s,r,a,l):mA.deserialize(t,i,s,r,a,l)}static async deserialize(t,i,s){var a;const r=await super.deserialize(t,i,s);return O(r,Uf,t.areContours),r.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",O(r,Eg,t.uuid),r}};Uf=new WeakMap,iu=new WeakMap,Hf=new WeakMap,Eg=new WeakMap,Ye(lo,"_type","signature"),Ye(lo,"_editorType",Qt.SIGNATURE),Ye(lo,"_defaultDrawingOptions",null);let AD=lo;var Pi,sr,$f,Ph,qf,C_,Ih,Ag,su,Eo,R_,zn,rw,aw,YT,ZT,XT,SD,QT,AY;class TD extends Ei{constructor(t){super({...t,name:"stampEditor"});G(this,zn);G(this,Pi,null);G(this,sr,null);G(this,$f,null);G(this,Ph,null);G(this,qf,null);G(this,C_,"");G(this,Ih,null);G(this,Ag,!1);G(this,su,null);G(this,Eo,!1);G(this,R_,!1);O(this,Ph,t.bitmapUrl),O(this,qf,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Ei.initialize(t,i)}static isHandlingMimeForPasting(t){return vI.includes(t)}static paste(t,i){i.pasteEditor({mode:Qt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:r,width:a,height:l,channels:r.length/(a*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),i&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}remove(){var t;y(this,sr)&&(O(this,Pi,null),this._uiManager.imageManager.deleteId(y(this,sr)),(t=y(this,Ih))==null||t.remove(),O(this,Ih,null),y(this,su)&&(clearTimeout(y(this,su)),O(this,su,null))),super.remove()}rebuild(){if(!this.parent){y(this,sr)&&W(this,zn,YT).call(this);return}super.rebuild(),this.div!==null&&(y(this,sr)&&y(this,Ih)===null&&W(this,zn,YT).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(y(this,$f)||y(this,Pi)||y(this,Ph)||y(this,qf)||y(this,sr)||y(this,Ag))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),y(this,Ag)||(y(this,Pi)?W(this,zn,ZT).call(this):W(this,zn,YT).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(O(this,sr,s),r&&O(this,Pi,r),O(this,Ag,!1),W(this,zn,ZT).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;y(this,su)!==null&&clearTimeout(y(this,su)),O(this,su,setTimeout(()=>{O(this,su,null),W(this,zn,SD).call(this)},200))}copyCanvas(t,i,s=!1){var w;t||(t=224);const{width:r,height:a}=y(this,Pi),l=new Su;let c=y(this,Pi),h=r,f=a,p=null;if(i){if(r>i||a>i){const j=Math.min(i/r,i/a);h=Math.floor(r*j),f=Math.floor(a*j)}p=document.createElement("canvas");const E=p.width=Math.ceil(h*l.sx),S=p.height=Math.ceil(f*l.sy);y(this,Eo)||(c=W(this,zn,XT).call(this,E,S));const C=p.getContext("2d");C.filter=this._uiManager.hcmFilter;let k="white",N="#cfcfd8";this._uiManager.hcmFilter!=="none"?N="black":(w=window.matchMedia)!=null&&w.call(window,"(prefers-color-scheme: dark)").matches&&(k="#8f8f9d",N="#42414d");const I=15,z=I*l.sx,V=I*l.sy,H=new OffscreenCanvas(z*2,V*2),B=H.getContext("2d");B.fillStyle=k,B.fillRect(0,0,z*2,V*2),B.fillStyle=N,B.fillRect(0,0,z,V),B.fillRect(z,V,z,V),C.fillStyle=C.createPattern(H,"repeat"),C.fillRect(0,0,E,S),C.drawImage(c,0,0,c.width,c.height,0,0,E,S)}let v=null;if(s){let E,S;if(l.symmetric&&c.width<t&&c.height<t)E=c.width,S=c.height;else if(c=y(this,Pi),r>t||a>t){const N=Math.min(t/r,t/a);E=Math.floor(r*N),S=Math.floor(a*N),y(this,Eo)||(c=W(this,zn,XT).call(this,E,S))}const k=new OffscreenCanvas(E,S).getContext("2d",{willReadFrequently:!0});k.drawImage(c,0,0,c.width,c.height,0,0,E,S),v={width:E,height:S,data:k.getImageData(0,0,E,S).data}}return{canvas:p,width:h,height:f,imageData:v}}static async deserialize(t,i,s){var C;let r=null,a=!1;if(t instanceof BK){const{data:{rect:k,rotation:N,id:I,structParent:z,popupRef:V,contentsObj:H},container:B,parent:{page:{pageNumber:j}},canvas:q}=t;let Y,Z;q?(delete t.canvas,{id:Y,bitmap:Z}=s.imageManager.getFromCanvas(B.id,q),q.remove()):(a=!0,t._hasNoCanvas=!0);const ne=((C=await i._structTree.getAriaAttributes(`${MO}${I}`))==null?void 0:C.get("aria-label"))||"";r=t={annotationType:Qt.STAMP,bitmapId:Y,bitmap:Z,pageIndex:j-1,rect:k.slice(0),rotation:N,annotationElementId:I,id:I,deleted:!1,accessibilityData:{decorative:!1,altText:ne},isSvg:!1,structParent:z,popupRef:V,comment:(H==null?void 0:H.str)||null}}const l=await super.deserialize(t,i,s),{rect:c,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:v,accessibilityData:w}=t;a?(s.addMissingCanvas(t.id,l),O(l,Ag,!0)):p&&s.imageManager.isValidId(p)?(O(l,sr,p),h&&O(l,Pi,h)):O(l,Ph,f),O(l,Eo,v);const[E,S]=l.pageDimensions;return l.width=(c[2]-c[0])/E,l.height=(c[3]-c[1])/S,w&&(l.altTextData=w),l._initialData=r,t.comment&&l.setCommentData(t.comment),O(l,R_,!!r),l}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Qt.STAMP,bitmapId:y(this,sr),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:y(this,Eo),structTreeParentId:this._structTreeParentId};if(this.addComment(s),t)return s.bitmapUrl=W(this,zn,QT).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=W(this,zn,AY).call(this,s);if(c.isSame)return null;c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const l=y(this,Eo)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(y(this,sr)))i.stamps.set(y(this,sr),{area:l,serialized:s}),s.bitmap=W(this,zn,QT).call(this,!1);else if(y(this,Eo)){const c=i.stamps.get(y(this,sr));l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=W(this,zn,QT).call(this,!1))}return s}renderAnnotationElement(t){const i={rect:this.getRect(0,0)};return this.hasEditedComment&&(i.popup=this.comment),t.updateEdited(i),null}}Pi=new WeakMap,sr=new WeakMap,$f=new WeakMap,Ph=new WeakMap,qf=new WeakMap,C_=new WeakMap,Ih=new WeakMap,Ag=new WeakMap,su=new WeakMap,Eo=new WeakMap,R_=new WeakMap,zn=new WeakSet,rw=function(t,i=!1){if(!t){this.remove();return}O(this,Pi,t.bitmap),i||(O(this,sr,t.id),O(this,Eo,t.isSvg)),t.file&&O(this,C_,t.file.name),W(this,zn,ZT).call(this)},aw=function(){if(O(this,$f,null),this._uiManager.enableWaiting(!1),!!y(this,Ih)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Pi)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&y(this,Pi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},YT=function(){if(y(this,sr)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(y(this,sr)).then(s=>W(this,zn,rw).call(this,s,!0)).finally(()=>W(this,zn,aw).call(this));return}if(y(this,Ph)){const s=y(this,Ph);O(this,Ph,null),this._uiManager.enableWaiting(!0),O(this,$f,this._uiManager.imageManager.getFromUrl(s).then(r=>W(this,zn,rw).call(this,r)).finally(()=>W(this,zn,aw).call(this)));return}if(y(this,qf)){const s=y(this,qf);O(this,qf,null),this._uiManager.enableWaiting(!0),O(this,$f,this._uiManager.imageManager.getFromFile(s).then(r=>W(this,zn,rw).call(this,r)).finally(()=>W(this,zn,aw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=vI.join(",");const i=this._uiManager._signal;O(this,$f,new Promise(s=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),W(this,zn,rw).call(this,r)}s()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>W(this,zn,aw).call(this))),t.click()},ZT=function(){var p;const{div:t}=this;let{width:i,height:s}=y(this,Pi);const[r,a]=this.pageDimensions,l=.75;if(this.width)i=this.width*r,s=this.height*a;else if(i>l*r||s>l*a){const v=Math.min(l*r/i,l*a/s);i*=v,s*=v}const[c,h]=this.parentDimensions;this.setDims(i*c/r,s*h/a),this._uiManager.enableWaiting(!1);const f=O(this,Ih,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),this.width=i/r,this.height=s/a,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),W(this,zn,SD).call(this),y(this,R_)||(this.parent.addUndoableEditor(this),O(this,R_,!0)),this._reportTelemetry({action:"inserted_image"}),y(this,C_)&&this.div.setAttribute("aria-description",y(this,C_)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},XT=function(t,i){const{width:s,height:r}=y(this,Pi);let a=s,l=r,c=y(this,Pi);for(;a>2*t||l>2*i;){const h=a,f=l;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),l>2*i&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(a,l);p.getContext("2d").drawImage(c,0,0,h,f,0,0,a,l),c=p.transferToImageBitmap()}return c},SD=function(){const[t,i]=this.parentDimensions,{width:s,height:r}=this,a=new Su,l=Math.ceil(s*t*a.sx),c=Math.ceil(r*i*a.sy),h=y(this,Ih);if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const f=y(this,Eo)?y(this,Pi):W(this,zn,XT).call(this,l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,l,c)},QT=function(t){if(t){if(y(this,Eo)){const r=this._uiManager.imageManager.getSvgUrl(y(this,sr));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=y(this,Pi),i.getContext("2d").drawImage(y(this,Pi),0,0),i.toDataURL()}if(y(this,Eo)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*_m.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*_m.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(r,a);return l.getContext("2d").drawImage(y(this,Pi),0,0,y(this,Pi).width,y(this,Pi).height,0,0,r,a),l.transferToImageBitmap()}return structuredClone(y(this,Pi))},AY=function(t){var l;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=t.pageIndex===i,a=(((l=t.accessibilityData)==null?void 0:l.alt)||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},Ye(TD,"_type","stamp"),Ye(TD,"_editorType",Qt.STAMP);var Tg,k_,ru,Gf,Dh,Ao,Wf,M_,Sg,Kl,Nh,rr,Lh,Kf,P_,St,Yf,Ii,TY,Fc,RD,kD,JT;const Fl=class Fl{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:l,textLayer:c,viewport:h,l10n:f}){G(this,Ii);G(this,Tg);G(this,k_,!1);G(this,ru,null);G(this,Gf,null);G(this,Dh,null);G(this,Ao,new Map);G(this,Wf,!1);G(this,M_,!1);G(this,Sg,!1);G(this,Kl,null);G(this,Nh,null);G(this,rr,null);G(this,Lh,null);G(this,Kf,null);G(this,P_,-1);G(this,St);const p=[...y(Fl,Yf).values()];if(!Fl._initialized){Fl._initialized=!0;for(const v of p)v.initialize(f,e)}e.registerEditorTypes(p),O(this,St,e),this.pageIndex=t,this.div=i,O(this,Tg,r),O(this,ru,a),this.viewport=h,O(this,rr,c),this.drawLayer=l,this._structTree=s,y(this,St).addLayer(this)}get isEmpty(){return y(this,Ao).size===0}get isInvisible(){return this.isEmpty&&y(this,St).getMode()===Qt.NONE}updateToolbar(e){y(this,St).updateToolbar(e)}updateMode(e=y(this,St).getMode()){switch(W(this,Ii,JT).call(this),e){case Qt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Qt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Qt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const i of y(Fl,Yf).values())t.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=y(this,rr))==null?void 0:t.div)}setEditingState(e){y(this,St).setEditingState(e)}addCommands(e){y(this,St).addCommands(e)}cleanUndoStack(e){y(this,St).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=y(this,ru))==null||t.div.classList.toggle("disabled",!e)}async enable(){var i;O(this,Sg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(i=y(this,Kf))==null||i.abort(),O(this,Kf,null);const e=new Set;for(const s of y(this,Ao).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(y(this,St).removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!y(this,ru)){O(this,Sg,!1);return}const t=y(this,ru).getEditableAnnotations();for(const s of t){if(s.hide(),y(this,St).isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const r=await this.deserialize(s);r&&(this.addOrRebuild(r),r.enableEditing())}O(this,Sg,!1)}disable(){var s;if(O(this,M_,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),y(this,rr)&&!y(this,Kf)){O(this,Kf,new AbortController);const r=y(this,St).combinedSignal(y(this,Kf));y(this,rr).div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:h,timeStamp:f}=a,p=y(this,P_);if(f-p>500){O(this,P_,f);return}O(this,P_,-1);const{classList:v}=this.div;v.toggle("getElements",!0);const w=document.elementsFromPoint(c,h);if(v.toggle("getElements",!1),!this.div.contains(w[0]))return;let E;const S=new RegExp(`^${_W}[0-9]+$`);for(const k of w)if(S.test(k.id)){E=k.id;break}if(!E)return;const C=y(this,Ao).get(E);(C==null?void 0:C.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),C.dblclick())},{signal:r,capture:!0})}const e=new Map,t=new Map;for(const r of y(this,Ao).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else t.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(y(this,ru)){const r=y(this,ru).getEditableAnnotations();for(const a of r){const{id:l}=a.data;if(y(this,St).isDeletedAnnotationElement(l)){a.updateEdited({deleted:!0});continue}let c=t.get(l);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=e.get(l),c&&(y(this,St).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}W(this,Ii,JT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of y(Fl,Yf).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),O(this,M_,!1)}getEditableAnnotation(e){var t;return((t=y(this,ru))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){y(this,St).getActive()!==e&&y(this,St).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=y(this,rr))!=null&&e.div&&!y(this,Lh)){O(this,Lh,new AbortController);const t=y(this,St).combinedSignal(y(this,Lh));y(this,rr).div.addEventListener("pointerdown",W(this,Ii,TY).bind(this),{signal:t}),y(this,rr).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=y(this,rr))!=null&&e.div&&y(this,Lh)&&(y(this,Lh).abort(),O(this,Lh,null),y(this,rr).div.classList.remove("highlighting"))}enableClick(){if(y(this,Gf))return;O(this,Gf,new AbortController);const e=y(this,St).combinedSignal(y(this,Gf));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=y(this,Gf))==null||e.abort(),O(this,Gf,null)}attach(e){y(this,Ao).set(e.id,e);const{annotationElementId:t}=e;t&&y(this,St).isDeletedAnnotationElement(t)&&y(this,St).removeDeletedAnnotationElement(e)}detach(e){var t;y(this,Ao).delete(e.id),(t=y(this,Tg))==null||t.removePointerInTextLayer(e.contentDiv),!y(this,M_)&&e.annotationElementId&&y(this,St).addDeletedAnnotationElement(e)}remove(e){this.detach(e),y(this,St).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(y(this,St).addDeletedAnnotationElement(e.annotationElementId),Ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),y(this,St).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!y(this,Sg)),y(this,St).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!y(this,Dh)&&(e._focusEventsAllowed=!1,O(this,Dh,setTimeout(()=>{O(this,Dh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:y(this,St)._signal}),t.focus())},0))),e._structTreeParentId=(i=y(this,Tg))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getNextId(){return y(this,St).getId()}combinedSignal(e){return y(this,St).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=y(this,Ii,Fc))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await y(this,St).updateMode(e.mode);const{offsetX:i,offsetY:s}=W(this,Ii,kD).call(this),r=this.getNextId(),a=W(this,Ii,RD).call(this,{parent:this,id:r,x:i,y:s,uiManager:y(this,St),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=y(Fl,Yf).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,y(this,St)))||null}createAndAddNewEditor(e,t,i={}){const s=this.getNextId(),r=W(this,Ii,RD).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:y(this,St),isCentered:t,...i});return r&&this.add(r),r}addNewEditor(e={}){this.createAndAddNewEditor(W(this,Ii,kD).call(this),!0,e)}setSelected(e){y(this,St).setSelected(e)}toggleSelected(e){y(this,St).toggleSelected(e)}unselect(e){y(this,St).unselect(e)}pointerup(e){var s;const{isMac:t}=Ir.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!y(this,Wf)||(O(this,Wf,!1),(s=y(this,Ii,Fc))!=null&&s.isDrawer&&y(this,Ii,Fc).supportMultipleDrawings))return;if(!y(this,k_)){O(this,k_,!0);return}const i=y(this,St).getMode();if(i===Qt.STAMP||i===Qt.SIGNATURE){y(this,St).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(y(this,St).getMode()===Qt.HIGHLIGHT&&this.enableTextSelection(),y(this,Wf)){O(this,Wf,!1);return}const{isMac:t}=Ir.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(O(this,Wf,!0),(s=y(this,Ii,Fc))!=null&&s.isDrawer){this.startDrawingSession(e);return}const i=y(this,St).getActive();O(this,k_,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),y(this,Kl)){y(this,Ii,Fc).startDrawing(this,y(this,St),!1,e);return}y(this,St).setCurrentDrawingSession(this),O(this,Kl,new AbortController);const t=y(this,St).combinedSignal(y(this,Kl));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(O(this,Nh,null),this.commitOrRemove())},{signal:t}),y(this,Ii,Fc).startDrawing(this,y(this,St),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&O(this,Nh,t);return}y(this,Nh)&&setTimeout(()=>{var t;(t=y(this,Nh))==null||t.focus(),O(this,Nh,null)},0)}endDrawingSession(e=!1){return y(this,Kl)?(y(this,St).setCurrentDrawingSession(null),y(this,Kl).abort(),O(this,Kl,null),O(this,Nh,null),y(this,Ii,Fc).endDrawing(e)):null}findNewParent(e,t,i){const s=y(this,St).findParent(t,i);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return y(this,Kl)?(this.endDrawingSession(),!0):!1}onScaleChanging(){y(this,Kl)&&y(this,Ii,Fc).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=y(this,St).getActive())==null?void 0:e.parent)===this&&(y(this,St).commitOrRemove(),y(this,St).setActiveEditor(null)),y(this,Dh)&&(clearTimeout(y(this,Dh)),O(this,Dh,null));for(const i of y(this,Ao).values())(t=y(this,Tg))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,y(this,Ao).clear(),y(this,St).removeLayer(this)}render({viewport:e}){this.viewport=e,zg(this.div,e);for(const t of y(this,St).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){y(this,St).commitOrRemove(),W(this,Ii,JT).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,zg(this.div,{rotation:i}),t!==i)for(const s of y(this,Ao).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return y(this,St).viewParameters.realScale}};Tg=new WeakMap,k_=new WeakMap,ru=new WeakMap,Gf=new WeakMap,Dh=new WeakMap,Ao=new WeakMap,Wf=new WeakMap,M_=new WeakMap,Sg=new WeakMap,Kl=new WeakMap,Nh=new WeakMap,rr=new WeakMap,Lh=new WeakMap,Kf=new WeakMap,P_=new WeakMap,St=new WeakMap,Yf=new WeakMap,Ii=new WeakSet,TY=function(e){y(this,St).unselectAll();const{target:t}=e;if(t===y(this,rr).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&y(this,rr).div.contains(t)){const{isMac:i}=Ir.platform;if(e.button!==0||e.ctrlKey&&i)return;y(this,St).showAllEditors("highlight",!0,!0),y(this,rr).div.classList.add("free"),this.toggleDrawing(),aC.startHighlighting(this,y(this,St).direction==="ltr",{target:y(this,rr).div,x:e.x,y:e.y}),y(this,rr).div.addEventListener("pointerup",()=>{y(this,rr).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:y(this,St)._signal}),e.preventDefault()}},Fc=function(){return y(Fl,Yf).get(y(this,St).getMode())},RD=function(e){const t=y(this,Ii,Fc);return t?new t.prototype.constructor(e):null},kD=function(){const{x:e,y:t,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),l=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+s),h=(r+l)/2-e,f=(a+c)/2-t,[p,v]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:v}},JT=function(){for(const e of y(this,Ao).values())e.isEmpty()&&e.remove()},Ye(Fl,"_initialized",!1),G(Fl,Yf,new Map([lD,vD,TD,aC,AD].map(e=>[e._editorType,e])));let CD=Fl;var Yl,pa,Cg,ME,PC,SY,Cu,PD,CY,ID;const Fs=class Fs{constructor({pageIndex:e}){G(this,Cu);G(this,Yl,null);G(this,pa,new Map);G(this,Cg,new Map);this.pageIndex=e}setParent(e){if(!y(this,Yl)){O(this,Yl,e);return}if(y(this,Yl)!==e){if(y(this,pa).size>0)for(const t of y(this,pa).values())t.remove(),e.append(t);O(this,Yl,e)}}static get _svgFactory(){return vn(this,"_svgFactory",new sC)}draw(e,t=!1,i=!1){const s=ua(Fs,ME)._++,r=W(this,Cu,PD).call(this),a=Fs._svgFactory.createElement("defs");r.append(a);const l=Fs._svgFactory.createElement("path");a.append(l);const c=`path_p${this.pageIndex}_${s}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),t&&y(this,Cg).set(s,l);const h=i?W(this,Cu,CY).call(this,a,c):null,f=Fs._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${c}`),this.updateProperties(r,e),y(this,pa).set(s,r),{id:s,clipPathId:`url(#${h})`}}drawOutline(e,t){const i=ua(Fs,ME)._++,s=W(this,Cu,PD).call(this),r=Fs._svgFactory.createElement("defs");s.append(r);const a=Fs._svgFactory.createElement("path");r.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const p=Fs._svgFactory.createElement("mask");r.append(p),c=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",c),p.setAttribute("maskUnits","objectBoundingBox");const v=Fs._svgFactory.createElement("rect");p.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const w=Fs._svgFactory.createElement("use");p.append(w),w.setAttribute("href",`#${l}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const h=Fs._svgFactory.createElement("use");s.append(h),h.setAttribute("href",`#${l}`),c&&h.setAttribute("mask",`url(#${c})`);const f=h.cloneNode();return s.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(s,e),y(this,pa).set(i,s),i}finalizeDraw(e,t){y(this,Cg).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:s,rootClass:r,path:a}=t,l=typeof e=="number"?y(this,pa).get(e):e;if(l){if(i&&W(this,Cu,ID).call(this,l,i),s&&W(c=Fs,PC,SY).call(c,l,s),r){const{classList:h}=l;for(const[f,p]of Object.entries(r))h.toggle(f,p)}if(a){const f=l.firstChild.firstChild;W(this,Cu,ID).call(this,f,a)}}}updateParent(e,t){if(t===this)return;const i=y(this,pa).get(e);i&&(y(t,Yl).append(i),y(this,pa).delete(e),y(t,pa).set(e,i))}remove(e){y(this,Cg).delete(e),y(this,Yl)!==null&&(y(this,pa).get(e).remove(),y(this,pa).delete(e))}destroy(){O(this,Yl,null);for(const e of y(this,pa).values())e.remove();y(this,pa).clear(),y(this,Cg).clear()}};Yl=new WeakMap,pa=new WeakMap,Cg=new WeakMap,ME=new WeakMap,PC=new WeakSet,SY=function(e,[t,i,s,r]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},Cu=new WeakSet,PD=function(){const e=Fs._svgFactory.create(1,1,!0);return y(this,Yl).append(e),e.setAttribute("aria-hidden",!0),e},CY=function(e,t){const i=Fs._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Fs._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),s},ID=function(e,t){for(const[i,s]of Object.entries(t))s===null?e.removeAttribute(i):e.setAttribute(i,s)},G(Fs,PC),G(Fs,ME,0);let MD=Fs;globalThis._pdfjsTestingUtils={HighlightOutliner:uD};globalThis.pdfjsLib={AbortException:vm,AnnotationEditorLayer:CD,AnnotationEditorParamsType:In,AnnotationEditorType:Qt,AnnotationEditorUIManager:Ug,AnnotationLayer:rD,AnnotationMode:of,AnnotationType:bs,build:dAe,ColorPicker:nC,createValidAbsoluteUrl:bW,DOMSVGFactory:sC,DrawLayer:MD,FeatureTest:Ir,fetchData:uA,getDocument:AK,getFilenameFromUrl:sEe,getPdfFilenameFromUrl:rEe,getRGB:XR,getUuid:EW,getXfaPageViewport:oEe,GlobalWorkerOptions:lu,ImageKind:ET,InvalidPDFException:gI,isDataScheme:ZR,isPdfFile:IO,isValidExplicitDest:vEe,MathClamp:ya,noContextMenu:_l,normalizeUnicode:tEe,OPS:XS,OutputScale:Su,PasswordResponses:Gxe,PDFDataRangeTransport:TK,PDFDateString:JS,PDFWorker:Kw,PermissionFlag:qxe,PixelsPerInch:_m,RenderingCancelledException:PO,ResponseException:QS,setLayerDimensions:zg,shadow:vn,SignatureExtractor:Oh,stopEvent:As,SupportedImageMimeTypes:vI,TextLayer:Gw,TouchManager:tC,updateUrlHash:wW,Util:Pt,VerbosityLevel:WR,version:hAe,XfaLayer:kK};const LAe="/assets/pdf.worker-DcN26wb1.mjs";lu.workerSrc=LAe;function OAe({file:n,className:e}){const[t,i]=P.useState(null),s=P.useRef(null);return P.useEffect(()=>{(async()=>{const a=new FileReader;a.onload=async function(){const l=new Uint8Array(this.result),h=await(await AK({data:l}).promise).getPage(1),f=h.getViewport({scale:1.5}),p=s.current;if(!p)return;const v=p.getContext("2d");if(!v)return;p.width=f.width,p.height=f.height,await h.render({canvas:p,canvasContext:v,viewport:f}).promise;const w=p.toDataURL();i(w)},a.readAsArrayBuffer(n)})()},[n]),t?b.jsx("img",{src:t,className:e,alt:"PDF preview"}):b.jsxs(xe.Fragment,{children:[b.jsx("canvas",{ref:s,style:{display:"none"}}),b.jsx("div",{className:"min-h-30 w-full max-w-3xs bg-muted rounded-md flex justify-center items-center",children:b.jsx(Dr,{className:"animate-spin"})})]})}function jAe({chatName:n,open:e,selectedFiles:t,setSelectedFiles:i,onSend:s}){const[r,a]=P.useState(0),l=t[r]??null,c=f=>{f||i([])},h=f=>{i(p=>{const v=[...p];return v.splice(f,1),v}),a(p=>t.length===1?0:f<p?p-1:f===p?0:p)};return P.useEffect(()=>{(t.length===0||r>=t.length)&&a(0)},[t,r]),b.jsx(LR,{open:e,onOpenChange:c,children:b.jsxs(OR,{"aria-describedby":void 0,className:"flex flex-col gap-4",children:[b.jsxs(jR,{children:["Enviar para ",n]}),l&&b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"border rounded-xl p-4 shadow-sm flex flex-col items-center gap-3",children:[b.jsx("p",{className:"text-sm font-semibold",children:l.file.name}),b.jsx(FAe,{file:l.file,className:"max-w-full max-h-50"},r),b.jsxs("p",{className:"text-xs text-muted-foreground",children:[lW(l.file.size)," —"," ",l.file.type]}),b.jsx(kO,{placeholder:"Adicionar legenda",className:"w-full resize-none rounded-md px-3 py-2 text-sm shadow-sm focus:outline-none min-h-0 max-h-[65px]",rows:2,value:l.caption||"",onChange:f=>{i(p=>{const v=[...p];return v[r]&&(v[r].caption=f.target.value),v})}})]}),b.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[b.jsx("div",{className:"flex items-center overflow-x-auto scrollbar-transparent gap-2 pt-1 pr-1",children:t.map((f,p)=>b.jsxs("div",{className:"relative",children:[b.jsx($w,{trigger:b.jsxs(mt,{className:tt("w-20 h-20 rounded-md flex flex-col items-center justify-center gap-1",p===r&&"border-2 border-primary"),variant:"secondary",onClick:()=>a(p),children:[b.jsx(VAe,{file:f.file,className:"size-8",strokeWidth:1}),b.jsx("span",{className:"text-xs max-w-[60px] overflow-hidden text-ellipsis whitespace-nowrap text-muted-foreground",children:f.file.name})]}),title:f.file.name}),b.jsx(mt,{size:"icon",variant:"outline",className:"absolute top-0 right-0 translate-x-[25%] translate-y-[-25%] size-4",onClick:()=>h(p),children:b.jsx(n0,{className:"size-2",strokeWidth:4})})]},p))}),b.jsxs(mt,{className:"size-14 rounded-full relative",onClick:s,children:[b.jsx(qw,{className:"bg-foreground text-background absolute top-0 right-0 rounded-full px-[7px]",children:t.length}),b.jsx(BU,{className:"size-5"})]})]})]})]})})}function FAe({file:n,className:e,key:t}){const[i,s]=P.useState(null);return P.useEffect(()=>{const r=URL.createObjectURL(n);return s(r),()=>URL.revokeObjectURL(r)},[n]),i?n.type.startsWith("image/")?b.jsx("img",{src:i,className:e,alt:"preview"}):n.type.startsWith("video/")?b.jsx("video",{src:i,className:e,controls:!0}):n.type==="application/pdf"?b.jsx(OAe,{file:n,className:e},t):b.jsx("p",{className:e,children:"Visualização não suportada"}):null}function VAe({file:n,className:e,size:t,strokeWidth:i}){const s=n.type,r={className:e,size:t,strokeWidth:i};return s.startsWith("image/")?b.jsx(DU,{...r}):s.startsWith("video/")?b.jsx(UU,{...r}):s.startsWith("audio/")?b.jsx(OU,{...r}):b.jsx(uN,{...r})}function BAe({selectedFiles:n,setSelectedFiles:e,submit:t}){const[i,s]=P.useState(!1),{getFallbackName:r}=Mu(),a=Qr(f=>f.currentChat?f.chats[f.currentChat]:null),l=(a==null?void 0:a.name)||r((a==null?void 0:a.id)||""),c=(f,p)=>{const v=document.createElement("input");v.type="file",v.multiple=!0,v.max="5",v.accept=p.join(","),v.click(),v.onchange=()=>{const w=v.files;if(!(w!=null&&w.length))return;const E=Array.from(w).map(S=>({file:S,type:f}));e(E),s(!0)}},h=[{icon:uN,label:"Documento",onClick:()=>c("document",["*"])},{icon:Ote,label:"Fotos e vídeos",onClick:()=>c("image-video",["image/*","video/*"])},{icon:IU,label:"Áudio",onClick:()=>c("audio",["audio/*"])}];return P.useEffect(()=>{n.length?s(!0):s(!1)},[n]),b.jsxs(xe.Fragment,{children:[b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsx(mt,{size:"icon",variant:"ghost",type:"button",className:"rounded-full",children:b.jsx(J_,{})})}),b.jsx(td,{className:"border-gray-500/10",children:h.map((f,p)=>b.jsxs(or,{onClick:f.onClick,children:[b.jsx(f.icon,{})," ",f.label]},p))})]}),b.jsx(jAe,{chatName:l,open:i,selectedFiles:n,setSelectedFiles:e,onSend:()=>{t(),s(!1)}})]})}function zAe(){const{connection:n}=P.useContext(Di),e=n.store.connectionUrl,t=`${sO}/${e}`,[i,s]=P.useState(!1),r=Qr(E=>E.currentChat),a=P.useRef(null),l=P.useRef(null),[c,h]=P.useState(""),[f,p]=P.useState([]),v=E=>{E.preventDefault(),console.log(c,f)},w=async E=>{const S=jt.info("");try{if(!r)return;const C=l.current;if(C&&C.click(),E==="text")jt.loading("Enviando mensagem",{id:S}),await Gn.post(`${t}/messages`,{type:"text",jid:r,text:c}),jt.dismiss(S);else if(E==="files"&&f.length){jt.loading("Enviando arquivos...",{id:S});for(let k=0;k<f.length;k++)try{const N=f[k],I=new FormData;I.append("file",N.file),I.append("type",N.type==="image-video"?N.file.type.startsWith("video/")?"video":"image":N.type),I.append("jid",r),I.append("caption",N.caption||""),console.log(I),jt.loading(`Enviando ${k+1} de ${f.length} (0%)`,{id:S}),await Gn.post(`${t}/messages`,I,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:z=>{const V=Math.round(z.loaded*100/(z.total||1));jt.loading(`Enviando ${k+1} de ${f.length} (${V}%)`,{id:S})}})}catch(N){console.log(N),jt.error("Falha ao enviar mensagem")}jt.dismiss(S)}h(""),p([])}catch(C){jt.error("Falha ao enviar mensagem",{id:S}),console.log(C)}};return P.useEffect(()=>{document.addEventListener("dragover",E=>{s(!0),E.preventDefault()}),document.addEventListener("drop",E=>{var C;const S=(C=E.dataTransfer)==null?void 0:C.files;if(console.log("Recebeu arquivos:",!!S),S){const k=Array.from(S).map(N=>({file:N,type:"document"}));p(k)}s(!1),E.preventDefault()})}),b.jsxs("form",{className:"flex items-center gap-2 bg-white dark:bg-input/30 rounded-3xl w-full p-1 shadow-lg relative",onSubmit:v,ref:a,children:[i&&b.jsx(Hxe,{}),b.jsx(BAe,{selectedFiles:f,setSelectedFiles:p,submit:()=>w("files")}),b.jsx($xe,{text:c,setText:h,submit:()=>w("text")}),b.jsx(mt,{size:"icon",className:"rounded-full",type:"submit",ref:l,children:b.jsx(BU,{})})]})}function UAe(){const[n,e]=P.useState("default"),[t,i]=P.useState([]),s=Qr(S=>S.currentChat),r=Qr(S=>S.setCurrentChat),a=fl(S=>S.setMessages),l=fl(S=>S.setLoadingMessages),c=Qr(S=>S.currentChat?S.chats[S.currentChat]:null),h=P.useRef(null),{connection:f,socketRef:p}=P.useContext(Di),{fetchMessages:v,updateLastView:w}=Mu(),E=()=>{if(!h.current)return;const S=h.current.querySelectorAll("input:checked"),C=Array.from(S).map(k=>k.value);i(C)};return P.useEffect(()=>{console.log(t)},[t]),P.useEffect(()=>{const S=C=>{C.code==="Escape"&&r(null)};return document.addEventListener("keyup",S,!1),()=>document.removeEventListener("keyup",S,!1)},[]),P.useEffect(()=>{s&&(l(!0),v({page:1,chatId:s,connection:f}).then(S=>{S&&(a(S),l(!1))}),w({chatId:s,attendant:f.attendant,socket:p.current}))},[s,f,p]),P.useEffect(()=>{if(!h.current)return;h.current.querySelectorAll('input[type="checkbox"]').forEach(C=>{C.checked=!1}),i([])},[n]),!s||!c?b.jsxs("div",{className:"flex-1 flex flex-col gap-4 items-center justify-center",children:[b.jsx(Jte,{size:100,className:"text-primary"}),b.jsx("p",{children:"Nenhuma conversa selecionada"})]}):b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[n==="default"?b.jsx(Bxe,{chat:c}):b.jsx(Uxe,{checked:t,onCancel:()=>e("default")}),b.jsxs("div",{className:"flex-1 flex flex-col bg-muted dark:bg-background min-h-0",children:[b.jsxs(Txe,{children:[b.jsx(Sxe,{className:"flex-1 flex min-h-0",children:b.jsx("form",{ref:h,onChange:E,className:tt("flex-1 flex",n==="selection"?"[&_.message-highlight]:group-hover:bg-black/10 [&_.message-highlight]:dark:group-hover:bg-white/10 [&_.message-highlight]:has-checked:bg-primary/30 [&_.message-highlight]:has-checked:hover:bg-primary/50 [&_.message-highlight]:dark:group-hover:has-checked:bg-primary/40":"[&_.message-checkbox]:hidden"),"data-mode":n,onReset:()=>i([]),children:b.jsx(Oxe,{})})}),b.jsx(Cxe,{children:b.jsxs(Rxe,{onClick:()=>e("selection"),children:[b.jsx(Ine,{})," Selecionar mensagens"]})})]}),b.jsx("div",{className:"p-4",children:b.jsx(zAe,{})})]})]})})}const HAe=()=>{const{connection:n}=P.useContext(Di),e=n?`users/${n.attendant.user}/stores/${n.store.id}/quick-messages`:null;return{addQuickMsg:async({shortcut:r,text:a})=>{if(!n)return jt.error("Não conectado");const l=fw(_a,e);return(await Upe(l,{shortcut:r,text:a})).id},editQuickMsg:async(r,a)=>{if(!n)return jt.error("Não conectado");const l=lc(_a,e,r);await vp(l,a)},removeQuickMsg:async r=>{if(!n)return jt.error("Não conectado");const a=lc(_a,e,r);await zpe(a)}}},$Ae=b0({shortcut:rc().min(1,"Informe o atalho"),text:rc().min(1,"Informe o texto")});function qAe({setShowForm:n}){const e=y0({resolver:_0($Ae),defaultValues:{shortcut:"",text:""}}),{addQuickMsg:t}=HAe(),[i,s]=P.useState(!1),r=async a=>{s(!0);try{await t(a),jt.success("Mensagem rápida salva!"),e.reset(),n(!1)}catch(l){jt.error("Erro ao salvar mensagem rápida"),console.error(l)}finally{s(!1)}};return b.jsx(v0,{...e,children:b.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-3",autoComplete:"off",children:[b.jsx(ec,{name:"shortcut",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Atalho"}),b.jsx(ic,{children:b.jsx(xu,{...a,disabled:i})}),b.jsx(sc,{})]})}),b.jsx(ec,{name:"text",render:({field:a})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Texto"}),b.jsx(ic,{children:b.jsx(kO,{...a,disabled:i})}),b.jsx(sc,{})]})}),b.jsxs("div",{className:"space-x-2",children:[b.jsx(mt,{type:"submit",disabled:i,children:i?"Salvando...":"Salvar"}),b.jsx(mt,{variant:"secondary",onClick:()=>{n(!1),e.reset()},disabled:i,children:"Cancelar"})]})]})})}function GAe({className:n,...e}){return b.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:b.jsx("table",{"data-slot":"table",className:tt("w-full caption-bottom text-sm",n),...e})})}function WAe({className:n,...e}){return b.jsx("thead",{"data-slot":"table-header",className:tt("[&_tr]:border-b",n),...e})}function KAe({className:n,...e}){return b.jsx("tbody",{"data-slot":"table-body",className:tt("[&_tr:last-child]:border-0",n),...e})}function Oz({className:n,...e}){return b.jsx("tr",{"data-slot":"table-row",className:tt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),...e})}function jz({className:n,...e}){return b.jsx("th",{"data-slot":"table-head",className:tt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function Fz({className:n,...e}){return b.jsx("td",{"data-slot":"table-cell",className:tt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function YAe(){const{quickMessages:n}=P.useContext(Di);return b.jsx("div",{className:"scrollbar-transparent relative w-full overflow-x-auto",children:b.jsxs(GAe,{children:[b.jsx(WAe,{children:b.jsxs(Oz,{children:[b.jsx(jz,{children:"Atalho"}),b.jsx(jz,{children:"Texto"})]})}),b.jsx(KAe,{children:n.map(e=>b.jsxs(Oz,{children:[b.jsxs(Fz,{children:["/",e.shortcut]}),b.jsx(Fz,{children:e.text})]}))})]})})}function ZAe({children:n}){const[e,t]=P.useState(!1);return b.jsxs(LR,{children:[b.jsx(Pq,{asChild:!0,children:n}),b.jsxs(OR,{className:"outline-none",children:[b.jsx(jR,{children:"Respostas rápidas"}),e?b.jsx(qAe,{setShowForm:t}):b.jsx(YAe,{}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsxs(mt,{onClick:()=>t(!0),className:tt(e?"hidden":"flex"),children:[b.jsx(J_,{})," Adicionar mensagem rápida"]})})]})]})}function XAe(){const n=[{icon:b.jsx(Xte,{}),label:"Conversas",active:!0},{icon:b.jsx(ote,{}),label:"Status"}];return b.jsx(xl,{className:"rounded-none shadow-none border-none w-fit h-full py-5 bg-muted dark:bg-background",children:b.jsxs(El,{className:"px-3 flex flex-col justify-between h-full",children:[b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("img",{src:eA,alt:"Logo",width:50,className:"mb-2"}),n.map((e,t)=>b.jsxs(Gg,{children:[b.jsx(Wg,{asChild:!0,children:b.jsx(mt,{className:"rounded-full size-10",variant:e.active?"default":"outline",children:e.icon})}),b.jsx(Kg,{children:b.jsx("p",{children:e.label})})]},t)),b.jsx(ZAe,{children:b.jsxs("div",{className:"relative",children:[b.jsx(mt,{className:"rounded-full size-10",variant:"outline",children:b.jsx(dN,{})}),b.jsx(qw,{className:"absolute top-[-4px] right-[-6px] text-[10px] p-0 px-1",children:"New"})]})})]}),b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx(mt,{asChild:!0,children:b.jsx(pS,{})}),b.jsxs($R,{className:"border w-[40px] h-[40px]",children:[b.jsx(qR,{src:"",alt:"Foto de perfil"}),b.jsx(GR,{children:"CN"})]})]})]})})}function QAe(){const{connectionStatus:n,connection:e}=P.useContext(Di),t=n==="connected",i=t?"bg-green-500":"bg-red-500",{attendant:s,store:r}=e;return b.jsxs("header",{className:"border-b text-xs px-4 py-1 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("p",{className:"text-muted-foreground",children:["Atendente:"," ",b.jsx("span",{className:"text-black dark:text-white",children:(s==null?void 0:s.name)||"Desconhecido"})]}),b.jsxs("p",{className:"text-muted-foreground",children:["Loja:"," ",b.jsx("span",{className:"text-black dark:text-white",children:(r==null?void 0:r.surname)||"Loja não encontrada"})]}),b.jsxs("div",{className:"relative flex items-center",children:[b.jsx("span",{className:`absolute inline-flex h-2 w-2 rounded-full ${i} opacity-75 animate-ping`}),b.jsx("span",{className:`relative inline-flex h-2 w-2 rounded-full mr-2 ${i}`}),b.jsxs(ed,{children:[b.jsx(Rm,{children:b.jsx(qw,{className:"py-0 px-2 bg-black dark:bg-white dark:text-black",children:t?"Conectado":"Desconectado"})}),b.jsx(td,{children:b.jsxs(or,{onClick:()=>{},children:[b.jsx(NU,{})," Sair"]})})]})]})]}),b.jsx("p",{className:"font-semibold text-zinc-700 dark:text-zinc-500 tracking-wide",children:"VAZAP - By Vansistem"}),b.jsx("p",{className:"font-mono text-zinc-500",children:"v0.1.27"})]})}function JAe(){const{connect:n}=ZG(),{connectionStatus:e,socketRef:t}=P.useContext(Di),i=qg();return P.useEffect(()=>{const s=localStorage.getItem("attendant-token");s&&e==="disconnected"?n(s).then(r=>t.current=r):s||i("/connect")},[]),b.jsxs("div",{className:"h-screen w-screen flex flex-col overflow-hidden",children:[e==="loading"&&b.jsxs("div",{className:"w-screen h-screen fixed top-0 left-0 bg-background z-100 flex flex-col gap-2 items-center justify-center",children:[b.jsx(Dr,{className:"animate-spin"}),b.jsx("h1",{children:"Tentando conectar"})]}),b.jsx(QAe,{}),b.jsxs("div",{className:"flex w-full flex-1 min-h-0 overflow-hidden",children:[b.jsx(XAe,{}),b.jsx(Ywe,{}),b.jsx(UAe,{})]})]})}const e1e=b0({token:rc()});function t1e(){const[n,e]=P.useState(!1),t=y0({resolver:_0(e1e),defaultValues:{token:""}}),{connect:i}=ZG(),{connectionStatus:s,socketRef:r}=P.useContext(Di),a=qg();P.useEffect(()=>{s==="connected"&&(e(!1),a("/conversations"))},[s]);const l=async c=>{try{e(!0);const h=await i(c.token);r.current=h}catch(h){console.error(h),jt.error("Falha ao conectar atendente")}};return b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsxs(xl,{className:"w-full max-w-md",children:[b.jsxs(j_e,{children:[b.jsx(F_e,{children:"Conectar WhatsApp"}),b.jsx(V_e,{children:"Para atender aos clientes informe a loja e o token"})]}),b.jsx(El,{children:b.jsx(v0,{...t,children:b.jsxs("form",{onSubmit:t.handleSubmit(l),className:"space-y-4",children:[b.jsx(ec,{control:t.control,name:"token",render:({field:c})=>b.jsxs(tc,{children:[b.jsx(nc,{children:"Token"}),b.jsx(ic,{children:b.jsx(xu,{...c})}),b.jsx(sc,{})]})}),b.jsxs(mt,{type:"submit",className:"w-full",disabled:n,children:[n&&b.jsx(Dr,{className:"animate-spin"}),"Conectar"]})]})})})]})})}const RY=P.createContext({});function n1e(n){const e=P.useRef(null);return e.current===null&&(e.current=n()),e.current}const BO=typeof window<"u",i1e=BO?P.useLayoutEffect:P.useEffect,zO=P.createContext(null);function UO(n,e){n.indexOf(e)===-1&&n.push(e)}function HO(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zh=(n,e,t)=>t>e?e:t<n?n:t;let $O=()=>{};const Xh={},kY=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function MY(n){return typeof n=="object"&&n!==null}const PY=n=>/^0[^.\s]+$/u.test(n);function qO(n){let e;return()=>(e===void 0&&(e=n()),e)}const ml=n=>n,s1e=(n,e)=>t=>e(n(t)),pA=(...n)=>n.reduce(s1e),Yw=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class GO{constructor(){this.subscriptions=[]}add(e){return UO(this.subscriptions,e),()=>HO(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let r=0;r<s;r++){const a=this.subscriptions[r];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _u=n=>n*1e3,bu=n=>n/1e3;function IY(n,e){return e?n*(1e3/e):0}const DY=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,r1e=1e-7,a1e=12;function o1e(n,e,t,i,s){let r,a,l=0;do a=e+(t-e)/2,r=DY(a,i,s)-n,r>0?t=a:e=a;while(Math.abs(r)>r1e&&++l<a1e);return a}function gA(n,e,t,i){if(n===e&&t===i)return ml;const s=r=>o1e(r,0,1,n,t);return r=>r===0||r===1?r:DY(s(r),e,i)}const NY=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,LY=n=>e=>1-n(1-e),OY=gA(.33,1.53,.69,.99),WO=LY(OY),jY=NY(WO),FY=n=>(n*=2)<1?.5*WO(n):.5*(2-Math.pow(2,-10*(n-1))),KO=n=>1-Math.sin(Math.acos(n)),VY=LY(KO),BY=NY(KO),l1e=gA(.42,0,1,1),c1e=gA(0,0,.58,1),zY=gA(.42,0,.58,1),u1e=n=>Array.isArray(n)&&typeof n[0]!="number",UY=n=>Array.isArray(n)&&typeof n[0]=="number",h1e={linear:ml,easeIn:l1e,easeInOut:zY,easeOut:c1e,circIn:KO,circInOut:BY,circOut:VY,backIn:WO,backInOut:jY,backOut:OY,anticipate:FY},d1e=n=>typeof n=="string",Vz=n=>{if(UY(n)){$O(n.length===4);const[e,t,i,s]=n;return gA(e,t,i,s)}else if(d1e(n))return h1e[n];return n},Z1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Bz={value:null};function f1e(n,e){let t=new Set,i=new Set,s=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function h(p){a.has(p)&&(f.schedule(p),n()),c++,p(l)}const f={schedule:(p,v=!1,w=!1)=>{const S=w&&s?t:i;return v&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{i.delete(p),a.delete(p)},process:p=>{if(l=p,s){r=!0;return}s=!0,[t,i]=[i,t],t.forEach(h),e&&Bz.value&&Bz.value.frameloop[e].push(c),c=0,t.clear(),s=!1,r&&(r=!1,f.process(p))}};return f}const m1e=40;function HY(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,a=Z1.reduce((I,z)=>(I[z]=f1e(r,e?z:void 0),I),{}),{setup:l,read:c,resolveKeyframes:h,preUpdate:f,update:p,preRender:v,render:w,postRender:E}=a,S=()=>{const I=Xh.useManualTiming?s.timestamp:performance.now();t=!1,Xh.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(I-s.timestamp,m1e),1)),s.timestamp=I,s.isProcessing=!0,l.process(s),c.process(s),h.process(s),f.process(s),p.process(s),v.process(s),w.process(s),E.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(S))},C=()=>{t=!0,i=!0,s.isProcessing||n(S)};return{schedule:Z1.reduce((I,z)=>{const V=a[z];return I[z]=(H,B=!1,j=!1)=>(t||C(),V.schedule(H,B,j)),I},{}),cancel:I=>{for(let z=0;z<Z1.length;z++)a[Z1[z]].cancel(I)},state:s,steps:a}}const{schedule:Vi,cancel:bm,state:Sr,steps:$M}=HY(typeof requestAnimationFrame<"u"?requestAnimationFrame:ml,!0);let eS;function p1e(){eS=void 0}const za={now:()=>(eS===void 0&&za.set(Sr.isProcessing||Xh.useManualTiming?Sr.timestamp:performance.now()),eS),set:n=>{eS=n,queueMicrotask(p1e)}},$Y=n=>e=>typeof e=="string"&&e.startsWith(n),YO=$Y("--"),g1e=$Y("var(--"),ZO=n=>g1e(n)?y1e.test(n.split("/*")[0].trim()):!1,y1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,E0={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zw={...E0,transform:n=>Zh(0,1,n)},X1={...E0,default:1},yw=n=>Math.round(n*1e5)/1e5,XO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function v1e(n){return n==null}const _1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,QO=(n,e)=>t=>!!(typeof t=="string"&&_1e.test(t)&&t.startsWith(n)||e&&!v1e(t)&&Object.prototype.hasOwnProperty.call(t,e)),qY=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,r,a,l]=i.match(XO);return{[n]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},b1e=n=>Zh(0,255,n),qM={...E0,transform:n=>Math.round(b1e(n))},wp={test:QO("rgb","red"),parse:qY("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+qM.transform(n)+", "+qM.transform(e)+", "+qM.transform(t)+", "+yw(Zw.transform(i))+")"};function w1e(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const DD={test:QO("#"),parse:w1e,transform:wp.transform},yA=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Qd=yA("deg"),wu=yA("%"),Wt=yA("px"),x1e=yA("vh"),E1e=yA("vw"),zz={...wu,parse:n=>wu.parse(n)/100,transform:n=>wu.transform(n*100)},rv={test:QO("hsl","hue"),parse:qY("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+wu.transform(yw(e))+", "+wu.transform(yw(t))+", "+yw(Zw.transform(i))+")"},Es={test:n=>wp.test(n)||DD.test(n)||rv.test(n),parse:n=>wp.test(n)?wp.parse(n):rv.test(n)?rv.parse(n):DD.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?wp.transform(n):rv.transform(n),getAnimatableNone:n=>{const e=Es.parse(n);return e.alpha=0,Es.transform(e)}},A1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T1e(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(XO))==null?void 0:e.length)||0)+(((t=n.match(A1e))==null?void 0:t.length)||0)>0}const GY="number",WY="color",S1e="var",C1e="var(",Uz="${}",R1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xw(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let r=0;const l=e.replace(R1e,c=>(Es.test(c)?(i.color.push(r),s.push(WY),t.push(Es.parse(c))):c.startsWith(C1e)?(i.var.push(r),s.push(S1e),t.push(c)):(i.number.push(r),s.push(GY),t.push(parseFloat(c))),++r,Uz)).split(Uz);return{values:t,split:l,indexes:i,types:s}}function KY(n){return Xw(n).values}function YY(n){const{split:e,types:t}=Xw(n),i=e.length;return s=>{let r="";for(let a=0;a<i;a++)if(r+=e[a],s[a]!==void 0){const l=t[a];l===GY?r+=yw(s[a]):l===WY?r+=Es.transform(s[a]):r+=s[a]}return r}}const k1e=n=>typeof n=="number"?0:Es.test(n)?Es.getAnimatableNone(n):n;function M1e(n){const e=KY(n);return YY(n)(e.map(k1e))}const wm={test:T1e,parse:KY,createTransformer:YY,getAnimatableNone:M1e};function GM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function P1e({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,r=0,a=0;if(!e)s=r=a=t;else{const l=t<.5?t*(1+e):t+e-t*e,c=2*t-l;s=GM(c,l,n+1/3),r=GM(c,l,n),a=GM(c,l,n-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:i}}function lC(n,e){return t=>t>0?e:n}const Fi=(n,e,t)=>n+(e-n)*t,WM=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},I1e=[DD,wp,rv],D1e=n=>I1e.find(e=>e.test(n));function Hz(n){const e=D1e(n);if(!e)return!1;let t=e.parse(n);return e===rv&&(t=P1e(t)),t}const $z=(n,e)=>{const t=Hz(n),i=Hz(e);if(!t||!i)return lC(n,e);const s={...t};return r=>(s.red=WM(t.red,i.red,r),s.green=WM(t.green,i.green,r),s.blue=WM(t.blue,i.blue,r),s.alpha=Fi(t.alpha,i.alpha,r),wp.transform(s))},ND=new Set(["none","hidden"]);function N1e(n,e){return ND.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function L1e(n,e){return t=>Fi(n,e,t)}function JO(n){return typeof n=="number"?L1e:typeof n=="string"?ZO(n)?lC:Es.test(n)?$z:F1e:Array.isArray(n)?ZY:typeof n=="object"?Es.test(n)?$z:O1e:lC}function ZY(n,e){const t=[...n],i=t.length,s=n.map((r,a)=>JO(r)(r,e[a]));return r=>{for(let a=0;a<i;a++)t[a]=s[a](r);return t}}function O1e(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=JO(n[s])(n[s],e[s]));return s=>{for(const r in i)t[r]=i[r](s);return t}}function j1e(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],a=n.indexes[r][i[r]],l=n.values[a]??0;t[s]=l,i[r]++}return t}const F1e=(n,e)=>{const t=wm.createTransformer(e),i=Xw(n),s=Xw(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?ND.has(n)&&!s.values.length||ND.has(e)&&!i.values.length?N1e(n,e):pA(ZY(j1e(i,s),s.values),t):lC(n,e)};function XY(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Fi(n,e,t):JO(n)(n,e)}const V1e=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Vi.update(e,t),stop:()=>bm(e),now:()=>Sr.isProcessing?Sr.timestamp:za.now()}},QY=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)i+=Math.round(n(r/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},cC=2e4;function ej(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<cC;)e+=t,i=n.next(e);return e>=cC?1/0:e}function B1e(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(ej(i),cC);return{type:"keyframes",ease:r=>i.next(s*r).value/e,duration:bu(s)}}const z1e=5;function JY(n,e,t){const i=Math.max(e-z1e,0);return IY(t-n(i),e-i)}const Ki={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},KM=.001;function U1e({duration:n=Ki.duration,bounce:e=Ki.bounce,velocity:t=Ki.velocity,mass:i=Ki.mass}){let s,r,a=1-e;a=Zh(Ki.minDamping,Ki.maxDamping,a),n=Zh(Ki.minDuration,Ki.maxDuration,bu(n)),a<1?(s=h=>{const f=h*a,p=f*n,v=f-t,w=LD(h,a),E=Math.exp(-p);return KM-v/w*E},r=h=>{const p=h*a*n,v=p*t+t,w=Math.pow(a,2)*Math.pow(h,2)*n,E=Math.exp(-p),S=LD(Math.pow(h,2),a);return(-s(h)+KM>0?-1:1)*((v-w)*E)/S}):(s=h=>{const f=Math.exp(-h*n),p=(h-t)*n+1;return-KM+f*p},r=h=>{const f=Math.exp(-h*n),p=(t-h)*(n*n);return f*p});const l=5/n,c=$1e(s,r,l);if(n=_u(n),isNaN(c))return{stiffness:Ki.stiffness,damping:Ki.damping,duration:n};{const h=Math.pow(c,2)*i;return{stiffness:h,damping:a*2*Math.sqrt(i*h),duration:n}}}const H1e=12;function $1e(n,e,t){let i=t;for(let s=1;s<H1e;s++)i=i-n(i)/e(i);return i}function LD(n,e){return n*Math.sqrt(1-e*e)}const q1e=["duration","bounce"],G1e=["stiffness","damping","mass"];function qz(n,e){return e.some(t=>n[t]!==void 0)}function W1e(n){let e={velocity:Ki.velocity,stiffness:Ki.stiffness,damping:Ki.damping,mass:Ki.mass,isResolvedFromDuration:!1,...n};if(!qz(n,G1e)&&qz(n,q1e))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,r=2*Zh(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Ki.mass,stiffness:s,damping:r}}else{const t=U1e(n);e={...e,...t,mass:Ki.mass},e.isResolvedFromDuration=!0}return e}function uC(n=Ki.visualDuration,e=Ki.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const r=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],l={done:!1,value:r},{stiffness:c,damping:h,mass:f,duration:p,velocity:v,isResolvedFromDuration:w}=W1e({...t,velocity:-bu(t.velocity||0)}),E=v||0,S=h/(2*Math.sqrt(c*f)),C=a-r,k=bu(Math.sqrt(c/f)),N=Math.abs(C)<5;i||(i=N?Ki.restSpeed.granular:Ki.restSpeed.default),s||(s=N?Ki.restDelta.granular:Ki.restDelta.default);let I;if(S<1){const V=LD(k,S);I=H=>{const B=Math.exp(-S*k*H);return a-B*((E+S*k*C)/V*Math.sin(V*H)+C*Math.cos(V*H))}}else if(S===1)I=V=>a-Math.exp(-k*V)*(C+(E+k*C)*V);else{const V=k*Math.sqrt(S*S-1);I=H=>{const B=Math.exp(-S*k*H),j=Math.min(V*H,300);return a-B*((E+S*k*C)*Math.sinh(j)+V*C*Math.cosh(j))/V}}const z={calculatedDuration:w&&p||null,next:V=>{const H=I(V);if(w)l.done=V>=p;else{let B=V===0?E:0;S<1&&(B=V===0?_u(E):JY(I,V,H));const j=Math.abs(B)<=i,q=Math.abs(a-H)<=s;l.done=j&&q}return l.value=l.done?a:H,l},toString:()=>{const V=Math.min(ej(z),cC),H=QY(B=>z.next(V*B).value,V,30);return V+"ms "+H},toTransition:()=>{}};return z}uC.applyToOptions=n=>{const e=B1e(n,100,uC);return n.ease=e.ease,n.duration=_u(e.duration),n.type="keyframes",n};function OD({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:a,min:l,max:c,restDelta:h=.5,restSpeed:f}){const p=n[0],v={done:!1,value:p},w=j=>l!==void 0&&j<l||c!==void 0&&j>c,E=j=>l===void 0?c:c===void 0||Math.abs(l-j)<Math.abs(c-j)?l:c;let S=t*e;const C=p+S,k=a===void 0?C:a(C);k!==C&&(S=k-p);const N=j=>-S*Math.exp(-j/i),I=j=>k+N(j),z=j=>{const q=N(j),Y=I(j);v.done=Math.abs(q)<=h,v.value=v.done?k:Y};let V,H;const B=j=>{w(v.value)&&(V=j,H=uC({keyframes:[v.value,E(v.value)],velocity:JY(I,j,v.value),damping:s,stiffness:r,restDelta:h,restSpeed:f}))};return B(0),{calculatedDuration:null,next:j=>{let q=!1;return!H&&V===void 0&&(q=!0,z(j),B(j)),V!==void 0&&j>=V?H.next(j-V):(!q&&z(j),v)}}}function K1e(n,e,t){const i=[],s=t||Xh.mix||XY,r=n.length-1;for(let a=0;a<r;a++){let l=s(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||ml:e;l=pA(c,l)}i.push(l)}return i}function Y1e(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const r=n.length;if($O(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=K1e(e,i,s),c=l.length,h=f=>{if(a&&f<n[0])return e[0];let p=0;if(c>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const v=Yw(n[p],n[p+1],f);return l[p](v)};return t?f=>h(Zh(n[0],n[r-1],f)):h}function Z1e(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Yw(0,e,i);n.push(Fi(t,1,s))}}function X1e(n){const e=[0];return Z1e(e,n.length-1),e}function Q1e(n,e){return n.map(t=>t*e)}function J1e(n,e){return n.map(()=>e||zY).splice(0,n.length-1)}function vw({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=u1e(i)?i.map(Vz):Vz(i),r={done:!1,value:e[0]},a=Q1e(t&&t.length===e.length?t:X1e(e),n),l=Y1e(a,e,{ease:Array.isArray(s)?s:J1e(e,s)});return{calculatedDuration:n,next:c=>(r.value=l(c),r.done=c>=n,r)}}const eTe=n=>n!==null;function tj(n,{repeat:e,repeatType:t="loop"},i,s=1){const r=n.filter(eTe),l=s<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!l||i===void 0?r[l]:i}const tTe={decay:OD,inertia:OD,tween:vw,keyframes:vw,spring:uC};function eZ(n){typeof n.type=="string"&&(n.type=tTe[n.type])}class nj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const nTe=n=>n/100;class ij extends nj{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:t}=this.options;t&&t.updatedAt!==za.now()&&this.tick(za.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eZ(e);const{type:t=vw,repeat:i=0,repeatDelay:s=0,repeatType:r,velocity:a=0}=e;let{keyframes:l}=e;const c=t||vw;c!==vw&&typeof l[0]!="number"&&(this.mixKeyframes=pA(nTe,XY(l[0],l[1])),l=[0,100]);const h=c({...e,keyframes:l});r==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=ej(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:v,repeatDelay:w,type:E,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const k=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let I=this.currentTime,z=i;if(p){const j=Math.min(this.currentTime,s)/l;let q=Math.floor(j),Y=j%1;!Y&&j>=1&&(Y=1),Y===1&&q--,q=Math.min(q,p+1),!!(q%2)&&(v==="reverse"?(Y=1-Y,w&&(Y-=w/l)):v==="mirror"&&(z=a)),I=Zh(0,1,Y)*l}const V=N?{done:!1,value:f[0]}:z.next(I);r&&(V.value=r(V.value));let{done:H}=V;!N&&c!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return B&&E!==OD&&(V.value=tj(f,this.options,C,this.speed)),S&&S(V.value),B&&this.finish(),V}then(e,t){return this.finished.then(e,t)}get duration(){return bu(this.calculatedDuration)}get time(){return bu(this.currentTime)}set time(e){var t;e=_u(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(za.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=bu(this.currentTime))}play(){var s,r;if(this.isStopped)return;const{driver:e=V1e,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(r=(s=this.options).onPlay)==null||r.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(za.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function iTe(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const xp=n=>n*180/Math.PI,jD=n=>{const e=xp(Math.atan2(n[1],n[0]));return FD(e)},sTe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:jD,rotateZ:jD,skewX:n=>xp(Math.atan(n[1])),skewY:n=>xp(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},FD=n=>(n=n%360,n<0&&(n+=360),n),Gz=jD,Wz=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Kz=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),rTe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wz,scaleY:Kz,scale:n=>(Wz(n)+Kz(n))/2,rotateX:n=>FD(xp(Math.atan2(n[6],n[5]))),rotateY:n=>FD(xp(Math.atan2(-n[2],n[0]))),rotateZ:Gz,rotate:Gz,skewX:n=>xp(Math.atan(n[4])),skewY:n=>xp(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function VD(n){return n.includes("scale")?1:0}function BD(n,e){if(!n||n==="none")return VD(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=rTe,s=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=sTe,s=l}if(!s)return VD(e);const r=i[e],a=s[1].split(",").map(oTe);return typeof r=="function"?r(a):a[r]}const aTe=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return BD(t,e)};function oTe(n){return parseFloat(n.trim())}const A0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],T0=new Set(A0),Yz=n=>n===E0||n===Wt,lTe=new Set(["x","y","z"]),cTe=A0.filter(n=>!lTe.has(n));function uTe(n){const e=[];return cTe.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const kg={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>BD(e,"x"),y:(n,{transform:e})=>BD(e,"y")};kg.translateX=kg.x;kg.translateY=kg.y;const Mg=new Set;let zD=!1,UD=!1,HD=!1;function tZ(){if(UD){const n=Array.from(Mg).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=uTe(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([r,a])=>{var l;(l=i.getValue(r))==null||l.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}UD=!1,zD=!1,Mg.forEach(n=>n.complete(HD)),Mg.clear()}function nZ(){Mg.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(UD=!0)})}function hTe(){HD=!0,nZ(),tZ(),HD=!1}class sj{constructor(e,t,i,s,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Mg.add(this),zD||(zD=!0,Vi.read(nZ),Vi.resolveKeyframes(tZ))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const r=s==null?void 0:s.get(),a=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const l=i.readValue(t,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&r===void 0&&s.set(e[0])}iTe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Mg.delete(this)}cancel(){this.state==="scheduled"&&(Mg.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const dTe=n=>n.startsWith("--");function fTe(n,e,t){dTe(e)?n.style.setProperty(e,t):n.style[e]=t}const mTe=qO(()=>window.ScrollTimeline!==void 0),pTe={};function gTe(n,e){const t=qO(n);return()=>pTe[e]??t()}const iZ=gTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ow=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Zz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ow([0,.65,.55,1]),circOut:ow([.55,0,1,.45]),backIn:ow([.31,.01,.66,-.59]),backOut:ow([.33,1.53,.69,.99])};function sZ(n,e){if(n)return typeof n=="function"?iZ()?QY(n,e):"ease-out":UY(n)?ow(n):Array.isArray(n)?n.map(t=>sZ(t,e)||Zz.easeOut):Zz[n]}function yTe(n,e,t,{delay:i=0,duration:s=300,repeat:r=0,repeatType:a="loop",ease:l="easeOut",times:c}={},h=void 0){const f={[e]:t};c&&(f.offset=c);const p=sZ(l,s);Array.isArray(p)&&(f.easing=p);const v={delay:i,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),n.animate(f,v)}function rZ(n){return typeof n=="function"&&"applyToOptions"in n}function vTe({type:n,...e}){return rZ(n)&&iZ()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _Te extends nj{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=e,$O(typeof e.type!="string");const h=vTe(e);this.animation=yTe(t,i,s,h,r),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=tj(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):fTe(t,i,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return bu(Number(e))}get time(){return bu(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_u(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mTe()?(this.animation.timeline=e,ml):t(this)}}const aZ={anticipate:FY,backInOut:jY,circInOut:BY};function bTe(n){return n in aZ}function wTe(n){typeof n.ease=="string"&&bTe(n.ease)&&(n.ease=aZ[n.ease])}const Xz=10;class xTe extends _Te{constructor(e){wTe(e),eZ(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:r,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new ij({...a,autoplay:!1}),c=_u(this.finishedTime??this.time);t.setWithVelocity(l.sample(c-Xz).value,l.sample(c).value,Xz),l.stop()}}const Qz=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(wm.test(n)||n==="0")&&!n.startsWith("url("));function ETe(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function ATe(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],a=Qz(s,e),l=Qz(r,e);return!a||!l?!1:ETe(n)||(t==="spring"||rZ(t))&&i}function oZ(n){return MY(n)&&"offsetHeight"in n}const TTe=new Set(["opacity","clipPath","filter","transform"]),STe=qO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CTe(n){var h;const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:r,type:a}=n;if(!oZ((h=e==null?void 0:e.owner)==null?void 0:h.current))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return STe()&&t&&TTe.has(t)&&(t!=="transform"||!c)&&!l&&!i&&s!=="mirror"&&r!==0&&a!=="inertia"}const RTe=40;class kTe extends nj{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:a="loop",keyframes:l,name:c,motionValue:h,element:f,...p}){var E;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=za.now();const v={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:r,repeatType:a,name:c,motionValue:h,element:f,...p},w=(f==null?void 0:f.KeyframeResolver)||sj;this.keyframeResolver=new w(l,(S,C,k)=>this.onKeyframesResolved(S,C,v,!k),c,h,f),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:r,type:a,velocity:l,delay:c,isHandoff:h,onUpdate:f}=i;this.resolvedAt=za.now(),ATe(e,r,a,l)||((Xh.instantAnimations||!c)&&(f==null||f(tj(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>RTe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},w=!h&&CTe(v)?new xTe({...v,element:v.motionValue.owner.current}):new ij(v);w.finished.then(()=>this.notifyFinished()).catch(ml),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),hTe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const MTe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PTe(n){const e=MTe.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function lZ(n,e,t=1){const[i,s]=PTe(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const a=r.trim();return kY(a)?parseFloat(a):a}return ZO(s)?lZ(s,e,t+1):s}function rj(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const cZ=new Set(["width","height","top","left","right","bottom",...A0]),ITe={test:n=>n==="auto",parse:n=>n},uZ=n=>e=>e.test(n),hZ=[E0,Wt,wu,Qd,E1e,x1e,ITe],Jz=n=>hZ.find(uZ(n));function DTe(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||PY(n):!0}const NTe=new Set(["brightness","contrast","saturate","opacity"]);function LTe(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(XO)||[];if(!i)return n;const s=t.replace(i,"");let r=NTe.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+s+")"}const OTe=/\b([a-z-]*)\(.*?\)/gu,$D={...wm,getAnimatableNone:n=>{const e=n.match(OTe);return e?e.map(LTe).join(" "):n}},e6={...E0,transform:Math.round},jTe={rotate:Qd,rotateX:Qd,rotateY:Qd,rotateZ:Qd,scale:X1,scaleX:X1,scaleY:X1,scaleZ:X1,skew:Qd,skewX:Qd,skewY:Qd,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Zw,originX:zz,originY:zz,originZ:Wt},aj={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt,...jTe,zIndex:e6,fillOpacity:Zw,strokeOpacity:Zw,numOctaves:e6},FTe={...aj,color:Es,backgroundColor:Es,outlineColor:Es,fill:Es,stroke:Es,borderColor:Es,borderTopColor:Es,borderRightColor:Es,borderBottomColor:Es,borderLeftColor:Es,filter:$D,WebkitFilter:$D},dZ=n=>FTe[n];function fZ(n,e){let t=dZ(n);return t!==$D&&(t=wm),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const VTe=new Set(["auto","none","0"]);function BTe(n,e,t){let i=0,s;for(;i<n.length&&!s;){const r=n[i];typeof r=="string"&&!VTe.has(r)&&Xw(r).values.length&&(s=n[i]),i++}if(s&&t)for(const r of e)n[r]=fZ(t,s)}class zTe extends sj{constructor(e,t,i,s,r){super(e,t,i,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),ZO(h))){const f=lZ(h,t.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!cZ.has(i)||e.length!==2)return;const[s,r]=e,a=Jz(s),l=Jz(r);if(a!==l)if(Yz(a)&&Yz(l))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else kg[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||DTe(e[s]))&&i.push(s);i.length&&BTe(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kg[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=i.length-1,a=i[r];i[r]=kg[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function UTe(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(t==null?void 0:t[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const mZ=(n,e)=>e&&typeof n=="number"?e.transform(n):n,t6=30,HTe=n=>!isNaN(parseFloat(n));class $Te{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,s=!0)=>{var a,l;const r=za.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=za.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new GO);const i=this.events[e].add(t);return e==="change"?()=>{i(),Vi.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=za.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>t6)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,t6);return IY(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z_(n,e){return new $Te(n,e)}const{schedule:oj}=HY(queueMicrotask,!1),jl={x:!1,y:!1};function pZ(){return jl.x||jl.y}function qTe(n){return n==="x"||n==="y"?jl[n]?null:(jl[n]=!0,()=>{jl[n]=!1}):jl.x||jl.y?null:(jl.x=jl.y=!0,()=>{jl.x=jl.y=!1})}function gZ(n,e){const t=UTe(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function n6(n){return!(n.pointerType==="touch"||pZ())}function GTe(n,e,t={}){const[i,s,r]=gZ(n,t),a=l=>{if(!n6(l))return;const{target:c}=l,h=e(c,l);if(typeof h!="function"||!c)return;const f=p=>{n6(p)&&(h(p),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,s)};return i.forEach(l=>{l.addEventListener("pointerenter",a,s)}),r}const yZ=(n,e)=>e?n===e?!0:yZ(n,e.parentElement):!1,lj=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,WTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KTe(n){return WTe.has(n.tagName)||n.tabIndex!==-1}const tS=new WeakSet;function i6(n){return e=>{e.key==="Enter"&&n(e)}}function YM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YTe=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=i6(()=>{if(tS.has(t))return;YM(t,"down");const s=i6(()=>{YM(t,"up")}),r=()=>YM(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function s6(n){return lj(n)&&!pZ()}function ZTe(n,e,t={}){const[i,s,r]=gZ(n,t),a=l=>{const c=l.currentTarget;if(!s6(l))return;tS.add(c);const h=e(c,l),f=(w,E)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),tS.has(c)&&tS.delete(c),s6(w)&&typeof h=="function"&&h(w,{success:E})},p=w=>{f(w,c===window||c===document||t.useGlobalTarget||yZ(c,w.target))},v=w=>{f(w,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",v,s)};return i.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),oZ(l)&&(l.addEventListener("focus",h=>YTe(h,s)),!KTe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),r}function vZ(n){return MY(n)&&"ownerSVGElement"in n}function XTe(n){return vZ(n)&&n.tagName==="svg"}const Zr=n=>!!(n&&n.getVelocity),QTe=[...hZ,Es,wm],JTe=n=>QTe.find(uZ(n)),_Z=P.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function eSe(n=!0){const e=P.useContext(zO);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,r=P.useId();P.useEffect(()=>{if(n)return s(r)},[n]);const a=P.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,a]:[!0]}const bZ=P.createContext({strict:!1}),r6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},X_={};for(const n in r6)X_[n]={isEnabled:e=>r6[n].some(t=>!!e[t])};function tSe(n){for(const e in n)X_[e]={...X_[e],...n[e]}}const nSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hC(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nSe.has(n)}let wZ=n=>!hC(n);function iSe(n){typeof n=="function"&&(wZ=e=>e.startsWith("on")?!hC(e):n(e))}try{iSe(require("@emotion/is-prop-valid").default)}catch{}function sSe(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(wZ(s)||t===!0&&hC(s)||!e&&!hC(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}function rSe(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const ek=P.createContext({});function tk(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Qw(n){return typeof n=="string"||Array.isArray(n)}const cj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uj=["initial",...cj];function nk(n){return tk(n.animate)||uj.some(e=>Qw(n[e]))}function xZ(n){return!!(nk(n)||n.variants)}function aSe(n,e){if(nk(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Qw(t)?t:void 0,animate:Qw(i)?i:void 0}}return n.inherit!==!1?e:{}}function oSe(n){const{initial:e,animate:t}=aSe(n,P.useContext(ek));return P.useMemo(()=>({initial:e,animate:t}),[a6(e),a6(t)])}function a6(n){return Array.isArray(n)?n.join(" "):n}const lSe=Symbol.for("motionComponentSymbol");function av(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function cSe(n,e,t){return P.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):av(t)&&(t.current=i))},[e])}const hj=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uSe="framerAppearId",EZ="data-"+hj(uSe),AZ=P.createContext({});function hSe(n,e,t,i,s){var S,C;const{visualElement:r}=P.useContext(ek),a=P.useContext(bZ),l=P.useContext(zO),c=P.useContext(_Z).reducedMotion,h=P.useRef(null);i=i||a.renderer,!h.current&&i&&(h.current=i(n,{visualState:e,parent:r,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=h.current,p=P.useContext(AZ);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&dSe(h.current,t,s,p);const v=P.useRef(!1);P.useInsertionEffect(()=>{f&&v.current&&f.update(t,l)});const w=t[EZ],E=P.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return i1e(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),oj.render(f.render),E.current&&f.animationState&&f.animationState.animateChanges())}),P.useEffect(()=>{f&&(!E.current&&f.animationState&&f.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,w)}),E.current=!1))}),f}function dSe(n,e,t,i){const{layoutId:s,layout:r,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:h,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:TZ(n.parent)),n.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!a||l&&av(l),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:c,layoutRoot:h})}function TZ(n){if(n)return n.options.allowProjection!==!1?n.projection:TZ(n.parent)}function fSe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:s}){n&&tSe(n);function r(l,c){let h;const f={...P.useContext(_Z),...l,layoutId:mSe(l)},{isStatic:p}=f,v=oSe(l),w=i(l,p);if(!p&&BO){pSe();const E=gSe(f);h=E.MeasureLayout,v.visualElement=hSe(s,w,f,e,E.ProjectionNode)}return b.jsxs(ek.Provider,{value:v,children:[h&&v.visualElement?b.jsx(h,{visualElement:v.visualElement,...f}):null,t(s,l,cSe(w,v.visualElement,c),w,p,v.visualElement)]})}r.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=P.forwardRef(r);return a[lSe]=s,a}function mSe({layoutId:n}){const e=P.useContext(RY).id;return e&&n!==void 0?e+"-"+n:n}function pSe(n,e){P.useContext(bZ).strict}function gSe(n){const{drag:e,layout:t}=X_;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Jw={};function ySe(n){for(const e in n)Jw[e]=n[e],YO(e)&&(Jw[e].isCSSVariable=!0)}function SZ(n,{layout:e,layoutId:t}){return T0.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Jw[n]||n==="opacity")}const vSe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_Se=A0.length;function bSe(n,e,t){let i="",s=!0;for(let r=0;r<_Se;r++){const a=A0[r],l=n[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||t){const h=mZ(l,aj[a]);if(!c){s=!1;const f=vSe[a]||a;i+=`${f}(${h}) `}t&&(e[a]=h)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function dj(n,e,t){const{style:i,vars:s,transformOrigin:r}=n;let a=!1,l=!1;for(const c in e){const h=e[c];if(T0.has(c)){a=!0;continue}else if(YO(c)){s[c]=h;continue}else{const f=mZ(h,aj[c]);c.startsWith("origin")?(l=!0,r[c]=f):i[c]=f}}if(e.transform||(a||t?i.transform=bSe(e,n.transform,t):i.transform&&(i.transform="none")),l){const{originX:c="50%",originY:h="50%",originZ:f=0}=r;i.transformOrigin=`${c} ${h} ${f}`}}const fj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CZ(n,e,t){for(const i in e)!Zr(e[i])&&!SZ(i,t)&&(n[i]=e[i])}function wSe({transformTemplate:n},e){return P.useMemo(()=>{const t=fj();return dj(t,e,n),Object.assign({},t.vars,t.style)},[e])}function xSe(n,e){const t=n.style||{},i={};return CZ(i,t,n),Object.assign(i,wSe(n,e)),i}function ESe(n,e){const t={},i=xSe(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const ASe={offset:"stroke-dashoffset",array:"stroke-dasharray"},TSe={offset:"strokeDashoffset",array:"strokeDasharray"};function SSe(n,e,t=1,i=0,s=!0){n.pathLength=1;const r=s?ASe:TSe;n[r.offset]=Wt.transform(-i);const a=Wt.transform(e),l=Wt.transform(t);n[r.array]=`${a} ${l}`}function RZ(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:r=1,pathOffset:a=0,...l},c,h,f){if(dj(n,l,h),c){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:v}=n;p.transform&&(v.transform=p.transform,delete p.transform),(v.transform||p.transformOrigin)&&(v.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),v.transform&&(v.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),i!==void 0&&(p.scale=i),s!==void 0&&SSe(p,s,r,a,!1)}const kZ=()=>({...fj(),attrs:{}}),MZ=n=>typeof n=="string"&&n.toLowerCase()==="svg";function CSe(n,e,t,i){const s=P.useMemo(()=>{const r=kZ();return RZ(r,e,MZ(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};CZ(r,n.style,n),s.style={...r,...s.style}}return s}const RSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mj(n){return typeof n!="string"||n.includes("-")?!1:!!(RSe.indexOf(n)>-1||/[A-Z]/u.test(n))}function kSe(n=!1){return(t,i,s,{latestValues:r},a)=>{const c=(mj(t)?CSe:ESe)(i,r,a,t),h=sSe(i,typeof t=="string",n),f=t!==P.Fragment?{...h,...c,ref:s}:{},{children:p}=i,v=P.useMemo(()=>Zr(p)?p.get():p,[p]);return P.createElement(t,{...f,children:v})}}function o6(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function pj(n,e,t,i){if(typeof e=="function"){const[s,r]=o6(i);e=e(t!==void 0?t:n.custom,s,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,r]=o6(i);e=e(t!==void 0?t:n.custom,s,r)}return e}function nS(n){return Zr(n)?n.get():n}function MSe({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:PSe(t,i,s,n),renderState:e()}}const PZ=n=>(e,t)=>{const i=P.useContext(ek),s=P.useContext(zO),r=()=>MSe(n,e,i,s);return t?r():n1e(r)};function PSe(n,e,t,i){const s={},r=i(n,{});for(const v in r)s[v]=nS(r[v]);let{initial:a,animate:l}=n;const c=nk(n),h=xZ(n);e&&h&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=t?t.initial===!1:!1;f=f||a===!1;const p=f?l:a;if(p&&typeof p!="boolean"&&!tk(p)){const v=Array.isArray(p)?p:[p];for(let w=0;w<v.length;w++){const E=pj(n,v[w]);if(E){const{transitionEnd:S,transition:C,...k}=E;for(const N in k){let I=k[N];if(Array.isArray(I)){const z=f?I.length-1:0;I=I[z]}I!==null&&(s[N]=I)}for(const N in S)s[N]=S[N]}}}return s}function gj(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Zr(i[a])||e.style&&Zr(e.style[a])||SZ(a,n)||((r=t==null?void 0:t.getValue(a))==null?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}const ISe={useVisualState:PZ({scrapeMotionValuesFromProps:gj,createRenderState:fj})};function IZ(n,e,t){const i=gj(n,e,t);for(const s in n)if(Zr(n[s])||Zr(e[s])){const r=A0.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[r]=n[s]}return i}const DSe={useVisualState:PZ({scrapeMotionValuesFromProps:IZ,createRenderState:kZ})};function NSe(n,e){return function(i,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...mj(i)?DSe:ISe,preloadedFeatures:n,useRender:kSe(s),createVisualElement:e,Component:i};return fSe(a)}}function ex(n,e,t){const i=n.getProps();return pj(i,e,t!==void 0?t:i.custom,n)}const qD=n=>Array.isArray(n);function LSe(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Z_(t))}function OSe(n){return qD(n)?n[n.length-1]||0:n}function jSe(n,e){const t=ex(n,e);let{transitionEnd:i={},transition:s={},...r}=t||{};r={...r,...i};for(const a in r){const l=OSe(r[a]);LSe(n,a,l)}}function FSe(n){return!!(Zr(n)&&n.add)}function GD(n,e){const t=n.getValue("willChange");if(FSe(t))return t.add(e);if(!t&&Xh.WillChange){const i=new Xh.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function DZ(n){return n.props[EZ]}const VSe=n=>n!==null;function BSe(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(VSe),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[r]}const zSe={type:"spring",stiffness:500,damping:25,restSpeed:10},USe=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),HSe={type:"keyframes",duration:.8},$Se={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qSe=(n,{keyframes:e})=>e.length>2?HSe:T0.has(n)?n.startsWith("scale")?USe(e[1]):zSe:$Se;function GSe({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:r,repeatType:a,repeatDelay:l,from:c,elapsed:h,...f}){return!!Object.keys(f).length}const yj=(n,e,t,i={},s,r)=>a=>{const l=rj(i,n)||{},c=l.delay||i.delay||0;let{elapsed:h=0}=i;h=h-_u(c);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-h,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:r?void 0:s};GSe(l)||Object.assign(f,qSe(n,f)),f.duration&&(f.duration=_u(f.duration)),f.repeatDelay&&(f.repeatDelay=_u(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),(Xh.instantAnimations||Xh.skipAnimations)&&(p=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,p&&!r&&e.get()!==void 0){const v=BSe(f.keyframes,l);if(v!==void 0){Vi.update(()=>{f.onUpdate(v),f.onComplete()});return}}return l.isSync?new ij(f):new kTe(f)};function WSe({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function NZ(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(r=i);const c=[],h=s&&n.animationState&&n.animationState.getState()[s];for(const f in l){const p=n.getValue(f,n.latestValues[f]??null),v=l[f];if(v===void 0||h&&WSe(h,f))continue;const w={delay:t,...rj(r||{},f)},E=p.get();if(E!==void 0&&!p.isAnimating&&!Array.isArray(v)&&v===E&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const k=DZ(n);if(k){const N=window.MotionHandoffAnimation(k,f,Vi);N!==null&&(w.startTime=N,S=!0)}}GD(n,f),p.start(yj(f,p,v,n.shouldReduceMotion&&cZ.has(f)?{type:!1}:w,n,S));const C=p.animation;C&&c.push(C)}return a&&Promise.all(c).then(()=>{Vi.update(()=>{a&&jSe(n,a)})}),c}function WD(n,e,t={}){var c;const i=ex(n,e,t.type==="exit"?(c=n.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const r=i?()=>Promise.all(NZ(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:v}=s;return KSe(n,e,f+h,p,v,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[h,f]=l==="beforeChildren"?[r,a]:[a,r];return h().then(()=>f())}else return Promise.all([r(),a(t.delay)])}function KSe(n,e,t=0,i=0,s=1,r){const a=[],l=(n.variantChildren.size-1)*i,c=s===1?(h=0)=>h*i:(h=0)=>l-h*i;return Array.from(n.variantChildren).sort(YSe).forEach((h,f)=>{h.notify("AnimationStart",e),a.push(WD(h,e,{...r,delay:t+c(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(a)}function YSe(n,e){return n.sortNodePosition(e)}function ZSe(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(r=>WD(n,r,t));i=Promise.all(s)}else if(typeof e=="string")i=WD(n,e,t);else{const s=typeof e=="function"?ex(n,e,t.custom):e;i=Promise.all(NZ(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function LZ(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const XSe=uj.length;function OZ(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?OZ(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<XSe;t++){const i=uj[t],s=n.props[i];(Qw(s)||s===!1)&&(e[i]=s)}return e}const QSe=[...cj].reverse(),JSe=cj.length;function eCe(n){return e=>Promise.all(e.map(({animation:t,options:i})=>ZSe(n,t,i)))}function tCe(n){let e=eCe(n),t=l6(),i=!0;const s=c=>(h,f)=>{var v;const p=ex(n,f,c==="exit"?(v=n.presenceContext)==null?void 0:v.custom:void 0);if(p){const{transition:w,transitionEnd:E,...S}=p;h={...h,...S,...E}}return h};function r(c){e=c(n)}function a(c){const{props:h}=n,f=OZ(n.parent)||{},p=[],v=new Set;let w={},E=1/0;for(let C=0;C<JSe;C++){const k=QSe[C],N=t[k],I=h[k]!==void 0?h[k]:f[k],z=Qw(I),V=k===c?N.isActive:null;V===!1&&(E=C);let H=I===f[k]&&I!==h[k]&&z;if(H&&i&&n.manuallyAnimateOnMount&&(H=!1),N.protectedKeys={...w},!N.isActive&&V===null||!I&&!N.prevProp||tk(I)||typeof I=="boolean")continue;const B=nCe(N.prevProp,I);let j=B||k===c&&N.isActive&&!H&&z||C>E&&z,q=!1;const Y=Array.isArray(I)?I:[I];let Z=Y.reduce(s(k),{});V===!1&&(Z={});const{prevResolvedValues:ne={}}=N,Q={...ne,...Z},_e=se=>{j=!0,v.has(se)&&(q=!0,v.delete(se)),N.needsAnimating[se]=!0;const ie=n.getValue(se);ie&&(ie.liveStyle=!1)};for(const se in Q){const ie=Z[se],Te=ne[se];if(w.hasOwnProperty(se))continue;let J=!1;qD(ie)&&qD(Te)?J=!LZ(ie,Te):J=ie!==Te,J?ie!=null?_e(se):v.add(se):ie!==void 0&&v.has(se)?_e(se):N.protectedKeys[se]=!0}N.prevProp=I,N.prevResolvedValues=Z,N.isActive&&(w={...w,...Z}),i&&n.blockInitialAnimation&&(j=!1),j&&(!(H&&B)||q)&&p.push(...Y.map(se=>({animation:se,options:{type:k}})))}if(v.size){const C={};if(typeof h.initial!="boolean"){const k=ex(n,Array.isArray(h.initial)?h.initial[0]:h.initial);k&&k.transition&&(C.transition=k.transition)}v.forEach(k=>{const N=n.getBaseTarget(k),I=n.getValue(k);I&&(I.liveStyle=!0),C[k]=N??null}),p.push({animation:C})}let S=!!p.length;return i&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(S=!1),i=!1,S?e(p):Promise.resolve()}function l(c,h){var p;if(t[c].isActive===h)return Promise.resolve();(p=n.variantChildren)==null||p.forEach(v=>{var w;return(w=v.animationState)==null?void 0:w.setActive(c,h)}),t[c].isActive=h;const f=a(c);for(const v in t)t[v].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:r,getState:()=>t,reset:()=>{t=l6(),i=!0}}}function nCe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!LZ(e,n):!1}function ap(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l6(){return{animate:ap(!0),whileInView:ap(),whileHover:ap(),whileTap:ap(),whileDrag:ap(),whileFocus:ap(),exit:ap()}}class Im{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iCe extends Im{constructor(e){super(e),e.animationState||(e.animationState=tCe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let sCe=0;class rCe extends Im{constructor(){super(...arguments),this.id=sCe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aCe={animation:{Feature:iCe},exit:{Feature:rCe}};function tx(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function vA(n){return{point:{x:n.pageX,y:n.pageY}}}const oCe=n=>e=>lj(e)&&n(e,vA(e));function _w(n,e,t,i){return tx(n,e,oCe(t),i)}function jZ({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function lCe({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function cCe(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const FZ=1e-4,uCe=1-FZ,hCe=1+FZ,VZ=.01,dCe=0-VZ,fCe=0+VZ;function ba(n){return n.max-n.min}function mCe(n,e,t){return Math.abs(n-e)<=t}function c6(n,e,t,i=.5){n.origin=i,n.originPoint=Fi(e.min,e.max,n.origin),n.scale=ba(t)/ba(e),n.translate=Fi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=uCe&&n.scale<=hCe||isNaN(n.scale))&&(n.scale=1),(n.translate>=dCe&&n.translate<=fCe||isNaN(n.translate))&&(n.translate=0)}function bw(n,e,t,i){c6(n.x,e.x,t.x,i?i.originX:void 0),c6(n.y,e.y,t.y,i?i.originY:void 0)}function u6(n,e,t){n.min=t.min+e.min,n.max=n.min+ba(e)}function pCe(n,e,t){u6(n.x,e.x,t.x),u6(n.y,e.y,t.y)}function h6(n,e,t){n.min=e.min-t.min,n.max=n.min+ba(e)}function ww(n,e,t){h6(n.x,e.x,t.x),h6(n.y,e.y,t.y)}const d6=()=>({translate:0,scale:1,origin:0,originPoint:0}),ov=()=>({x:d6(),y:d6()}),f6=()=>({min:0,max:0}),ls=()=>({x:f6(),y:f6()});function Qo(n){return[n("x"),n("y")]}function ZM(n){return n===void 0||n===1}function KD({scale:n,scaleX:e,scaleY:t}){return!ZM(n)||!ZM(e)||!ZM(t)}function hp(n){return KD(n)||BZ(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function BZ(n){return m6(n.x)||m6(n.y)}function m6(n){return n&&n!=="0%"}function dC(n,e,t){const i=n-t,s=e*i;return t+s}function p6(n,e,t,i,s){return s!==void 0&&(n=dC(n,s,i)),dC(n,t,i)+e}function YD(n,e=0,t=1,i,s){n.min=p6(n.min,e,t,i,s),n.max=p6(n.max,e,t,i,s)}function zZ(n,{x:e,y:t}){YD(n.x,e.translate,e.scale,e.originPoint),YD(n.y,t.translate,t.scale,t.originPoint)}const g6=.999999999999,y6=1.0000000000001;function gCe(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,a;for(let l=0;l<s;l++){r=t[l],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&cv(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,zZ(n,a)),i&&hp(r.latestValues)&&cv(n,r.latestValues))}e.x<y6&&e.x>g6&&(e.x=1),e.y<y6&&e.y>g6&&(e.y=1)}function lv(n,e){n.min=n.min+e,n.max=n.max+e}function v6(n,e,t,i,s=.5){const r=Fi(n.min,n.max,s);YD(n,e,t,r,i)}function cv(n,e){v6(n.x,e.x,e.scaleX,e.scale,e.originX),v6(n.y,e.y,e.scaleY,e.scale,e.originY)}function UZ(n,e){return jZ(cCe(n.getBoundingClientRect(),e))}function yCe(n,e,t){const i=UZ(n,t),{scroll:s}=e;return s&&(lv(i.x,s.offset.x),lv(i.y,s.offset.y)),i}const HZ=({current:n})=>n?n.ownerDocument.defaultView:null,_6=(n,e)=>Math.abs(n-e);function vCe(n,e){const t=_6(n.x,e.x),i=_6(n.y,e.y);return Math.sqrt(t**2+i**2)}class $Z{constructor(e,t,{transformPagePoint:i,contextWindow:s,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=QM(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=vCe(p.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:E}=p,{timestamp:S}=Sr;this.history.push({...E,timestamp:S});const{onStart:C,onMove:k}=this.handlers;v||(C&&C(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,v)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=XM(v,this.transformPagePoint),Vi.update(this.updatePoint,!0)},this.handlePointerUp=(p,v)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=QM(p.type==="pointercancel"?this.lastMoveEventInfo:XM(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,C),E&&E(p,C)},!lj(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.contextWindow=s||window;const a=vA(e),l=XM(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Sr;this.history=[{...c,timestamp:h}];const{onSessionStart:f}=t;f&&f(e,QM(l,this.history)),this.removeListeners=pA(_w(this.contextWindow,"pointermove",this.handlePointerMove),_w(this.contextWindow,"pointerup",this.handlePointerUp),_w(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),bm(this.updatePoint)}}function XM(n,e){return e?{point:e(n.point)}:n}function b6(n,e){return{x:n.x-e.x,y:n.y-e.y}}function QM({point:n},e){return{point:n,delta:b6(n,qZ(e)),offset:b6(n,_Ce(e)),velocity:bCe(e,.1)}}function _Ce(n){return n[0]}function qZ(n){return n[n.length-1]}function bCe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=qZ(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>_u(e)));)t--;if(!i)return{x:0,y:0};const r=bu(s.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const a={x:(s.x-i.x)/r,y:(s.y-i.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function wCe(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Fi(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Fi(t,n,i.max):Math.min(n,t)),n}function w6(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function xCe(n,{top:e,left:t,bottom:i,right:s}){return{x:w6(n.x,t,s),y:w6(n.y,e,i)}}function x6(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function ECe(n,e){return{x:x6(n.x,e.x),y:x6(n.y,e.y)}}function ACe(n,e){let t=.5;const i=ba(n),s=ba(e);return s>i?t=Yw(e.min,e.max-i,n.min):i>s&&(t=Yw(n.min,n.max-s,e.min)),Zh(0,1,t)}function TCe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ZD=.35;function SCe(n=ZD){return n===!1?n=0:n===!0&&(n=ZD),{x:E6(n,"left","right"),y:E6(n,"top","bottom")}}function E6(n,e,t){return{min:A6(n,e),max:A6(n,t)}}function A6(n,e){return typeof n=="number"?n:n[e]||0}const CCe=new WeakMap;class RCe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ls(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vA(f).point)},r=(f,p)=>{const{drag:v,dragPropagation:w,onDragStart:E}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qTe(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qo(C=>{let k=this.getAxisMotionValue(C).get()||0;if(wu.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const I=N.layout.layoutBox[C];I&&(k=ba(I)*(parseFloat(k)/100))}}this.originPoint[C]=k}),E&&Vi.postRender(()=>E(f,p)),GD(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(f,p)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:E,onDrag:S}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=p;if(w&&this.currentDirection===null){this.currentDirection=kCe(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",p.point,C),this.updateAxis("y",p.point,C),this.visualElement.render(),S&&S(f,p)},l=(f,p)=>this.stop(f,p),c=()=>Qo(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new $Z(e,{onSessionStart:s,onStart:r,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:HZ(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:r}=this.getProps();r&&Vi.postRender(()=>r(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!Q1(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=wCe(a,this.constraints[e],this.elastic[e])),r.set(a)}resolveConstraints(){var r;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,s=this.constraints;e&&av(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=xCe(i.layoutBox,e):this.constraints=!1,this.elastic=SCe(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Qo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=TCe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!av(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=yCe(i,s.root,this.visualElement.getTransformPagePoint());let a=ECe(s.layout.layoutBox,r);if(t){const l=t(lCe(a));this.hasMutatedConstraints=!!l,l&&(a=jZ(l))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},h=Qo(f=>{if(!Q1(f,t,this.currentDirection))return;let p=c&&c[f]||{};a&&(p={min:0,max:0});const v=s?200:1e6,w=s?40:1e7,E={type:"inertia",velocity:i?e[f]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...r,...p};return this.startAxisValueAnimation(f,E)});return Promise.all(h).then(l)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return GD(this.visualElement,e),i.start(yj(e,i,0,t,this.visualElement,!1))}stopAnimation(){Qo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qo(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Qo(t=>{const{drag:i}=this.getProps();if(!Q1(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[t];r.set(e[t]-Fi(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!av(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Qo(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=ACe({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Qo(a=>{if(!Q1(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:h}=this.constraints[a];l.set(Fi(c,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;CCe.set(this.visualElement,this);const e=this.visualElement.current,t=_w(e,"pointerdown",c=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();av(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Vi.read(i);const a=tx(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qo(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),t(),r(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:a=ZD,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:r,dragElastic:a,dragMomentum:l}}}function Q1(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function kCe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class MCe extends Im{constructor(e){super(e),this.removeGroupControls=ml,this.removeListeners=ml,this.controls=new RCe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ml}unmount(){this.removeGroupControls(),this.removeListeners()}}const T6=n=>(e,t)=>{n&&Vi.postRender(()=>n(e,t))};class PCe extends Im{constructor(){super(...arguments),this.removePointerDownListener=ml}onPointerDown(e){this.session=new $Z(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:HZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:T6(e),onStart:T6(t),onMove:i,onEnd:(r,a)=>{delete this.session,s&&Vi.postRender(()=>s(r,a))}}}mount(){this.removePointerDownListener=_w(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const iS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S6(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const kb={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Wt.test(n))n=parseFloat(n);else return n;const t=S6(n,e.target.x),i=S6(n,e.target.y);return`${t}% ${i}%`}},ICe={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=wm.parse(n);if(s.length>5)return i;const r=wm.createTransformer(n),a=typeof s[0]!="number"?1:0,l=t.x.scale*e.x,c=t.y.scale*e.y;s[0+a]/=l,s[1+a]/=c;const h=Fi(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),r(s)}};class DCe extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:r}=e;ySe(NCe),r&&(t.group&&t.group.add(r),i&&i.register&&s&&i.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),iS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:r}=this.props,{projection:a}=i;return a&&(a.isPresent=r,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?a.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?a.promote():a.relegate()||Vi.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),oj.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GZ(n){const[e,t]=eSe(),i=P.useContext(RY);return b.jsx(DCe,{...n,layoutGroup:i,switchLayoutGroup:P.useContext(AZ),isPresent:e,safeToRemove:t})}const NCe={borderRadius:{...kb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:kb,borderTopRightRadius:kb,borderBottomLeftRadius:kb,borderBottomRightRadius:kb,boxShadow:ICe};function LCe(n,e,t){const i=Zr(n)?n:Z_(n);return i.start(yj("",i,e,t)),i.animation}const OCe=(n,e)=>n.depth-e.depth;class jCe{constructor(){this.children=[],this.isDirty=!1}add(e){UO(this.children,e),this.isDirty=!0}remove(e){HO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OCe),this.isDirty=!1,this.children.forEach(e)}}function FCe(n,e){const t=za.now(),i=({timestamp:s})=>{const r=s-t;r>=e&&(bm(i),n(r-e))};return Vi.setup(i,!0),()=>bm(i)}const WZ=["TopLeft","TopRight","BottomLeft","BottomRight"],VCe=WZ.length,C6=n=>typeof n=="string"?parseFloat(n):n,R6=n=>typeof n=="number"||Wt.test(n);function BCe(n,e,t,i,s,r){s?(n.opacity=Fi(0,t.opacity??1,zCe(i)),n.opacityExit=Fi(e.opacity??1,0,UCe(i))):r&&(n.opacity=Fi(e.opacity??1,t.opacity??1,i));for(let a=0;a<VCe;a++){const l=`border${WZ[a]}Radius`;let c=k6(e,l),h=k6(t,l);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||R6(c)===R6(h)?(n[l]=Math.max(Fi(C6(c),C6(h),i),0),(wu.test(h)||wu.test(c))&&(n[l]+="%")):n[l]=h}(e.rotate||t.rotate)&&(n.rotate=Fi(e.rotate||0,t.rotate||0,i))}function k6(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const zCe=KZ(0,.5,VY),UCe=KZ(.5,.95,ml);function KZ(n,e,t){return i=>i<n?0:i>e?1:t(Yw(n,e,i))}function M6(n,e){n.min=e.min,n.max=e.max}function Xo(n,e){M6(n.x,e.x),M6(n.y,e.y)}function P6(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function I6(n,e,t,i,s){return n-=e,n=dC(n,1/t,i),s!==void 0&&(n=dC(n,1/s,i)),n}function HCe(n,e=0,t=1,i=.5,s,r=n,a=n){if(wu.test(e)&&(e=parseFloat(e),e=Fi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Fi(r.min,r.max,i);n===r&&(l-=e),n.min=I6(n.min,e,t,l,s),n.max=I6(n.max,e,t,l,s)}function D6(n,e,[t,i,s],r,a){HCe(n,e[t],e[i],e[s],e.scale,r,a)}const $Ce=["x","scaleX","originX"],qCe=["y","scaleY","originY"];function N6(n,e,t,i){D6(n.x,e,$Ce,t?t.x:void 0,i?i.x:void 0),D6(n.y,e,qCe,t?t.y:void 0,i?i.y:void 0)}function L6(n){return n.translate===0&&n.scale===1}function YZ(n){return L6(n.x)&&L6(n.y)}function O6(n,e){return n.min===e.min&&n.max===e.max}function GCe(n,e){return O6(n.x,e.x)&&O6(n.y,e.y)}function j6(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ZZ(n,e){return j6(n.x,e.x)&&j6(n.y,e.y)}function F6(n){return ba(n.x)/ba(n.y)}function V6(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class WCe{constructor(){this.members=[]}add(e){UO(this.members,e),e.scheduleRender()}remove(e){if(HO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function KCe(n,e,t){let i="";const s=n.x.translate/e.x,r=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((s||r||a)&&(i=`translate3d(${s}px, ${r}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:v,skewX:w,skewY:E}=t;h&&(i=`perspective(${h}px) ${i}`),f&&(i+=`rotate(${f}deg) `),p&&(i+=`rotateX(${p}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),E&&(i+=`skewY(${E}deg) `)}const l=n.x.scale*e.x,c=n.y.scale*e.y;return(l!==1||c!==1)&&(i+=`scale(${l}, ${c})`),i||"none"}const JM=["","X","Y","Z"],YCe={visibility:"hidden"},ZCe=1e3;let XCe=0;function eP(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function XZ(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=DZ(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Vi,!(s||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&XZ(i)}function QZ({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(a={},l=e==null?void 0:e()){this.id=XCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eRe),this.nodes.forEach(sRe),this.nodes.forEach(rRe),this.nodes.forEach(tRe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jCe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new GO),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=vZ(a)&&!XTe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),n){let f;const p=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=FCe(p,250),iS.hasAnimatedSinceResize&&(iS.hasAnimatedSinceResize=!1,this.nodes.forEach(U6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||uRe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=h.getProps(),k=!this.targetLayout||!ZZ(this.targetLayout,w),N=!p&&v;if(this.options.layoutRoot||this.resumeFrom||N||p&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const I={...rj(E,"layout"),onPlay:S,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I),this.setAnimationOrigin(f,N)}else p||U6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),bm(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aRe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XZ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(z6);return}this.isUpdating||this.nodes.forEach(z6),this.animationCommitId=this.animationId,this.isUpdating=!1,this.nodes.forEach(iRe),this.nodes.forEach(QCe),this.nodes.forEach(JCe),this.clearAllSnapshots();const l=za.now();Sr.delta=Zh(0,1e3/60,l-Sr.timestamp),Sr.timestamp=l,Sr.isProcessing=!0,$M.update.process(Sr),$M.preRender.process(Sr),$M.render.process(Sr),Sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,oj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nRe),this.sharedNodes.forEach(oRe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ba(this.snapshot.measuredBox.x)&&!ba(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ls(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!YZ(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;a&&this.instance&&(l||hp(this.latestValues)||f)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),hRe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return ls();const l=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(dRe))){const{scroll:f}=this.root;f&&(lv(l.x,f.offset.x),lv(l.y,f.offset.y))}return l}removeElementScroll(a){var c;const l=ls();if(Xo(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:p,options:v}=f;f!==this.root&&p&&v.layoutScroll&&(p.wasRoot&&Xo(l,a),lv(l.x,p.offset.x),lv(l.y,p.offset.y))}return l}applyTransform(a,l=!1){const c=ls();Xo(c,a);for(let h=0;h<this.path.length;h++){const f=this.path[h];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&cv(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hp(f.latestValues)&&cv(c,f.latestValues)}return hp(this.latestValues)&&cv(c,this.latestValues),c}removeTransform(a){const l=ls();Xo(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!hp(h.latestValues))continue;KD(h.latestValues)&&h.updateSnapshot();const f=ls(),p=h.measurePageBox();Xo(f,p),N6(l,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return hp(this.latestValues)&&N6(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Sr.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ls(),this.relativeTargetOrigin=ls(),ww(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ls(),this.targetWithTransforms=ls()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pCe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xo(this.target,this.layout.layoutBox),zZ(this.target,this.targetDelta)):Xo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ls(),this.relativeTargetOrigin=ls(),ww(this.relativeTargetOrigin,this.target,w.target),Xo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||KD(this.parent.latestValues)||BZ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Sr.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Xo(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,v=this.treeScale.y;gCe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ls());const{target:w}=a;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P6(this.prevProjectionDelta.x,this.projectionDelta.x),P6(this.prevProjectionDelta.y,this.projectionDelta.y)),bw(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==v||!V6(this.projectionDelta.x,this.prevProjectionDelta.x)||!V6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ov(),this.projectionDelta=ov(),this.projectionDeltaWithTransform=ov()}setAnimationOrigin(a,l=!1){const c=this.snapshot,h=c?c.latestValues:{},f={...this.latestValues},p=ov();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=ls(),w=c?c.source:void 0,E=this.layout?this.layout.source:void 0,S=w!==E,C=this.getStack(),k=!C||C.members.length<=1,N=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(cRe));this.animationProgress=0;let I;this.mixTargetDelta=z=>{const V=z/1e3;H6(p.x,a.x,V),H6(p.y,a.y,V),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ww(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lRe(this.relativeTarget,this.relativeTargetOrigin,v,V),I&&GCe(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=ls()),Xo(I,this.relativeTarget)),S&&(this.animationValues=f,BCe(f,h,this.latestValues,V,N,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,h;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(),this.pendingAnimation&&(bm(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vi.update(()=>{iS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Z_(0)),this.currentAnimation=LCe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:h,latestValues:f}=a;if(!(!l||!c||!h)){if(this!==a&&this.layout&&h&&JZ(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||ls();const p=ba(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+p;const v=ba(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+v}Xo(l,c),cv(l,f),bw(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new WCe),this.sharedNodes.get(a).add(l);const h=l.options.initialPromotionConfig;l.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const h={};c.z&&eP("z",a,h,this.animationValues);for(let f=0;f<JM.length;f++)eP(`rotate${JM[f]}`,a,h,this.animationValues),eP(`skew${JM[f]}`,a,h,this.animationValues);a.render();for(const f in h)a.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return YCe;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=nS(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=nS(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!hp(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),l.transform=KCe(this.projectionDeltaWithTransform,this.treeScale,f),c&&(l.transform=c(f,l.transform));const{x:p,y:v}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,h.animationValues?l.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Jw){if(f[w]===void 0)continue;const{correct:E,applyTo:S,isCSSVariable:C}=Jw[w],k=l.transform==="none"?f[w]:E(f[w],h);if(S){const N=S.length;for(let I=0;I<N;I++)l[S[I]]=k}else C?this.options.visualElement.renderState.vars[w]=k:l[w]=k}return this.options.layoutId&&(l.pointerEvents=h===this?nS(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(B6),this.root.sharedNodes.clear()}}}function QCe(n){n.updateLayout()}function JCe(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:r}=n.options,a=e.source!==n.layout.source;r==="size"?Qo(p=>{const v=a?e.measuredBox[p]:e.layoutBox[p],w=ba(v);v.min=i[p].min,v.max=v.min+w}):JZ(r,e.layoutBox,i)&&Qo(p=>{const v=a?e.measuredBox[p]:e.layoutBox[p],w=ba(i[p]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+w)});const l=ov();bw(l,i,e.layoutBox);const c=ov();a?bw(c,n.applyTransform(s,!0),e.measuredBox):bw(c,i,e.layoutBox);const h=!YZ(l);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:v,layout:w}=p;if(v&&w){const E=ls();ww(E,e.layoutBox,v.layoutBox);const S=ls();ww(S,i,w.layoutBox),ZZ(E,S)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=E,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function eRe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function tRe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function nRe(n){n.clearSnapshot()}function B6(n){n.clearMeasurements()}function z6(n){n.isLayoutDirty=!1}function iRe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function U6(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function sRe(n){n.resolveTargetDelta()}function rRe(n){n.calcProjection()}function aRe(n){n.resetSkewAndRotation()}function oRe(n){n.removeLeadSnapshot()}function H6(n,e,t){n.translate=Fi(e.translate,0,t),n.scale=Fi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function $6(n,e,t,i){n.min=Fi(e.min,t.min,i),n.max=Fi(e.max,t.max,i)}function lRe(n,e,t,i){$6(n.x,e.x,t.x,i),$6(n.y,e.y,t.y,i)}function cRe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const uRe={duration:.45,ease:[.4,0,.1,1]},q6=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),G6=q6("applewebkit/")&&!q6("chrome/")?Math.round:ml;function W6(n){n.min=G6(n.min),n.max=G6(n.max)}function hRe(n){W6(n.x),W6(n.y)}function JZ(n,e,t){return n==="position"||n==="preserve-aspect"&&!mCe(F6(e),F6(t),.2)}function dRe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const fRe=QZ({attachResizeListener:(n,e)=>tx(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tP={current:void 0},eX=QZ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!tP.current){const n=new fRe({});n.mount(window),n.setOptions({layoutScroll:!0}),tP.current=n}return tP.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),mRe={pan:{Feature:PCe},drag:{Feature:MCe,ProjectionNode:eX,MeasureLayout:GZ}};function K6(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=i[s];r&&Vi.postRender(()=>r(e,vA(e)))}class pRe extends Im{mount(){const{current:e}=this.node;e&&(this.unmount=GTe(e,(t,i)=>(K6(this.node,i,"Start"),s=>K6(this.node,s,"End"))))}unmount(){}}class gRe extends Im{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pA(tx(this.node.current,"focus",()=>this.onFocus()),tx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Y6(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=i[s];r&&Vi.postRender(()=>r(e,vA(e)))}class yRe extends Im{mount(){const{current:e}=this.node;e&&(this.unmount=ZTe(e,(t,i)=>(Y6(this.node,i,"Start"),(s,{success:r})=>Y6(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XD=new WeakMap,nP=new WeakMap,vRe=n=>{const e=XD.get(n.target);e&&e(n)},_Re=n=>{n.forEach(vRe)};function bRe({root:n,...e}){const t=n||document;nP.has(t)||nP.set(t,{});const i=nP.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(_Re,{root:n,...e})),i[s]}function wRe(n,e,t){const i=bRe(e);return XD.set(n,t),i.observe(n),()=>{XD.delete(n),i.unobserve(n)}}const xRe={some:0,all:1};class ERe extends Im{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:r}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:xRe[s]},l=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),v=h?f:p;v&&v(c)};return wRe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(ARe(e,t))&&this.startObserver()}unmount(){}}function ARe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const TRe={inView:{Feature:ERe},tap:{Feature:yRe},focus:{Feature:gRe},hover:{Feature:pRe}},SRe={layout:{ProjectionNode:eX,MeasureLayout:GZ}},QD={current:null},tX={current:!1};function CRe(){if(tX.current=!0,!!BO)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>QD.current=n.matches;n.addListener(e),e()}else QD.current=!1}const RRe=new WeakMap;function kRe(n,e,t){for(const i in e){const s=e[i],r=t[i];if(Zr(s))n.addValue(i,s);else if(Zr(r))n.addValue(i,Z_(s,{owner:n}));else if(r!==s)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=n.getStaticValue(i);n.addValue(i,Z_(a!==void 0?a:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const Z6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MRe{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:r,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=za.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Vi.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!r,this.isControllingVariants=nk(t),this.isVariantNode=xZ(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const v in p){const w=p[v];c[v]!==void 0&&Zr(w)&&w.set(c[v],!1)}}mount(e){this.current=e,RRe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),tX.current||CRe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QD.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),bm(this.notifyUpdate),bm(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=T0.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Vi.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),r=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in X_){const t=X_[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ls()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<Z6.length;i++){const s=Z6[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,a=e[r];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=kRe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Z_(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(kY(i)||PY(i))?i=parseFloat(i):!JTe(i)&&wm.test(t)&&(i=fZ(e,t)),this.setBaseTarget(e,Zr(i)?i.get():i)),Zr(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var r;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=pj(this.props,t,(r=this.presenceContext)==null?void 0:r.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Zr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new GO),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class nX extends MRe{constructor(){super(...arguments),this.KeyframeResolver=zTe}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zr(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function iX(n,{style:e,vars:t},i,s){Object.assign(n.style,e,s&&s.getProjectionStyles(i));for(const r in t)n.style.setProperty(r,t[r])}function PRe(n){return window.getComputedStyle(n)}class IRe extends nX{constructor(){super(...arguments),this.type="html",this.renderInstance=iX}readValueFromInstance(e,t){var i;if(T0.has(t))return(i=this.projection)!=null&&i.isProjecting?VD(t):aTe(e,t);{const s=PRe(e),r=(YO(t)?s.getPropertyValue(t):s[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return UZ(e,t)}build(e,t,i){dj(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return gj(e,t,i)}}const sX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DRe(n,e,t,i){iX(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(sX.has(s)?s:hj(s),e.attrs[s])}class NRe extends nX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ls}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(T0.has(t)){const i=dZ(t);return i&&i.default||0}return t=sX.has(t)?t:hj(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return IZ(e,t,i)}build(e,t,i){RZ(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){DRe(e,t,i,s)}mount(e){this.isSVGTag=MZ(e.tagName),super.mount(e)}}const LRe=(n,e)=>mj(n)?new NRe(e):new IRe(e,{allowProjection:n!==P.Fragment}),ORe=NSe({...aCe,...TRe,...mRe,...SRe},LRe),hi=rSe(ORe);function jRe(){const n=[{link:"#solutions",text:"Soluções"},{link:"#features",text:"Recursos"},{link:"#faq",text:"FAQ"},{link:"#pricing",text:"Preço"}];return b.jsxs(hi.footer,{className:"border-t px-10 py-16",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.7,ease:"easeOut"},children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-8 mb-8",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[b.jsx("img",{src:eA,alt:"Logo",width:50}),b.jsx("p",{className:"text-2xl font-bold",children:"VAZAP"})]}),b.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg leading-relaxed max-w-md",children:"A plataforma que revoluciona o atendimento no WhatsApp, conectando equipes inteiras ao mesmo número com sincronização em tempo real."})]}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-gray-900 dark:text-white font-bold text-lg mb-2",children:"Navegação"}),n.map((e,t)=>b.jsx("p",{className:"text-gray-600 dark:text-gray-300 font-medium mb-2",children:b.jsx("a",{href:e.link,className:"hover:text-green-500 dark:hover:text-emerald-400 transition-colors duration-300",children:e.text})},t))]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsx("h1",{className:"text-gray-900 dark:text-white font-bold text-lg mb-1",children:"Contato"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(mt,{size:"icon",variant:"outline",children:b.jsx(Ute,{})}),b.jsx("a",{href:"mailto:vanortton@gmail.com",className:"hover:text-green-500 dark:hover:text-emerald-400 transition-colors duration-300",children:"vanortton@gmail.com"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(mt,{size:"icon",variant:"outline",children:b.jsx(lne,{})}),b.jsx("a",{href:"https://wa.me/5575991034695",className:"hover:text-green-500 dark:hover:text-emerald-400 transition-colors duration-300",children:"(75) 99103-4695"})]})]})]}),b.jsxs("div",{className:"pt-8 border-t border-gray-200 dark:border-gray-700 flex flex-col md:flex-row items-center justify-between gap-4 text-gray-500 dark:text-gray-400 text-sm",children:[b.jsxs("p",{children:["© ",new Date().getFullYear()," VANSISTEM - Todos os direitos reservados."]}),b.jsxs("div",{className:"flex gap-5",children:[b.jsx("a",{href:"#",className:"hover:text-green-500 dark:hover:text-emerald-400 transition-colors duration-300",children:"Política de privacidade"}),b.jsx("a",{href:"#",className:"hover:text-green-500 dark:hover:text-emerald-400 transition-colors duration-300",children:"Termos de uso"})]})]})]})}function FRe(){const n=[{link:"#solutions",text:"Soluções"},{link:"#features",text:"Recursos"},{link:"#faq",text:"FAQ"},{link:"#pricing",text:"Preço"}],[e,t]=P.useState(!1);return b.jsx("header",{className:"fixed top-0 w-full border-b backdrop-blur-lg z-50 bg-background/70 dark:bg-background/50",children:b.jsxs("div",{className:"flex items-center justify-between py-4 px-6 md:px-10",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("img",{src:eA,alt:"Logo",width:40}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("p",{className:"text-xl font-bold md:text-2xl",children:"VAZAP"}),b.jsx("span",{className:"text-xs",children:"EMPRESARIAL"})]})]}),b.jsx("nav",{className:"hidden md:flex gap-10",children:n.map(({link:i,text:s})=>b.jsx("a",{className:'relative text-base text-gray-600 dark:text-gray-300 font-medium after:content-[""] after:absolute after:left-0 after:-bottom-1 after:h-[2px] after:w-0 after:bg-emerald-500 after:transition-all after:duration-300 hover:after:w-full cursor-pointer',onClick:()=>{var r;(r=document.querySelector(i))==null||r.scrollIntoView()},children:s},s))}),b.jsxs("div",{className:"flex items-center gap-2 md:hidden",children:[b.jsx(pS,{}),b.jsxs(ed,{children:[b.jsx(Rm,{asChild:!0,children:b.jsx(mt,{variant:"outline",size:"icon",onClick:()=>t(!e),"aria-label":"Menu",children:e?b.jsx(n0,{size:24}):b.jsx(qte,{size:24})})}),b.jsxs(td,{align:"end",className:"w-40",children:[n.map(({link:i,text:s})=>b.jsx(or,{asChild:!0,onClick:()=>t(!1),children:b.jsx("a",{href:i,children:s})},s)),b.jsx(or,{asChild:!0,onClick:()=>t(!1),children:b.jsx(Zf,{to:"/auth",children:b.jsx(mt,{className:"w-full mt-2 bg-linear-45 from-green-500 to-emerald-600",children:"Login"})})}),b.jsx(or,{asChild:!0,onClick:()=>t(!1),children:b.jsx(Zf,{to:"/connect",children:b.jsx(mt,{className:"w-full",children:"Conectar"})})})]})]})]}),b.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[b.jsx(pS,{}),b.jsx(Zf,{to:"/auth",children:b.jsx(mt,{className:"bg-linear-45 from-green-500 to-emerald-600",children:"Login"})}),b.jsx(Zf,{to:"/connect",children:b.jsx(mt,{children:"Conectar"})})]})]})})}function VRe(){return b.jsxs(hi.div,{className:"px-10 py-16 flex flex-col items-center gap-10 py-24 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 text-white",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.8,ease:"easeOut"},children:[b.jsxs(hi.div,{className:"bg-gradient-to-r from-green-500/20 to-emerald-500/20 backdrop-blur-xl rounded-full px-6 py-3 border border-green-500/30 flex gap-3 items-center",animate:{opacity:[.7,1,.7]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[b.jsx(Mne,{}),"Transforme seu atendimento hoje mesmo"]}),b.jsxs(hi.h1,{className:"text-5xl sm:text-6xl font-[900] text-center",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6,ease:"easeOut"},children:["Pronto para",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"transformar o seu"}),b.jsx("br",{}),"atendimento no WhatsApp?"]}),b.jsx(hi.p,{className:"text-gray-300 text-xl md:text-2xl lg:text-3xl max-w-3xl mx-auto leading-relaxed text-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.6},children:"Junte-se as empresas que já revolucionaram seu atendimento e vendas no WhatsApp"}),b.jsx(hi.div,{initial:{scale:1},whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:b.jsx(mt,{className:"p-7 text-2xl rounded-xl ring-offset-background shadow-3xl bg-gradient-to-r from-green-500 to-emerald-600",children:"Comece agora mesmo"})})]})}function BRe(){const n=[{title:"Posso usar o mesmo número em quantos dispositivos?",answer:"Você pode conectar quantos dispositivos quiser ao mesmo número de WhatsApp, sem nenhuma limitação. Todos os membros da sua equipe podem usar o mesmo número simultaneamente, seja no computador, tablet ou celular. Isso significa que você pode ter atendentes trabalhando de casa, na loja física, ou de qualquer lugar, todos conectados ao mesmo número principal da empresa. A sincronização é instantânea e automática, garantindo que toda a equipe tenha acesso às mesmas conversas em tempo real."},{title:"Preciso de celular sempre online?",answer:'Sim, assim como o WhatsApp Web funciona, você precisa manter um celular principal conectado à internet para que o sistema funcione corretamente. Este celular funciona como o "hub" central que distribui as conexões para todos os outros dispositivos. Recomendamos deixar um celular dedicado sempre conectado na empresa para garantir o funcionamento contínuo do sistema. O VAZAP foi otimizado para usar o mínimo de bateria e dados possível, então você pode deixar o dispositivo conectado sem preocupações.'},{title:"É seguro e confiável?",answer:"Absolutamente seguro. O VAZAP utiliza a mesma tecnologia de criptografia ponta-a-ponta do WhatsApp oficial. A autenticação é feita localmente no seu dispositivo através do QR Code, e todos os dados são criptografados antes de serem transmitidos. Não armazenamos suas mensagens ou dados pessoais em nossos servidores. Sua privacidade e segurança são nossa prioridade máxima. Além disso, nosso sistema possui certificações de segurança e passa por auditorias regulares para garantir a proteção total dos seus dados."},{title:"Funciona em qualquer navegador?",answer:"Sim, o VAZAP é totalmente compatível com todos os navegadores modernos: Chrome, Firefox, Safari, Edge e Opera. Funciona perfeitamente tanto no desktop quanto no mobile, sem necessidade de downloads ou instalações especiais. A interface é responsiva e se adapta automaticamente ao tamanho da sua tela, proporcionando uma experiência otimizada em qualquer dispositivo. Recomendamos usar as versões mais recentes dos navegadores para melhor performance e segurança."},{title:"Preciso instalar algum programa?",answer:"Não é necessário instalar nenhum software adicional. O VAZAP funciona 100% no navegador web, como uma aplicação online moderna. Basta acessar nossa plataforma, fazer o login da sua conta e conectar seu WhatsApp através do QR Code. É simples, rápido e não ocupa espaço no seu dispositivo. Você pode começar a usar imediatamente após a contratação. A única coisa que você precisa é de uma conexão estável com a internet."}];return b.jsxs("div",{className:"px-10 py-16",id:"faq",children:[b.jsxs(hi.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},className:"text-5xl sm:text-6xl font-[900] text-center mb-10",children:["Perguntas",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"frequentes"})]}),b.jsx(hi.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.8,ease:"easeOut"},children:b.jsx(xl,{className:"shadow-2xl max-w-[900px] mx-auto",children:b.jsx(El,{children:b.jsx(iq,{type:"single",collapsible:!0,children:n.map((e,t)=>b.jsx(hi.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{delay:t*.1,duration:.5,ease:"easeOut"},children:b.jsxs(sq,{value:`item-${t}`,children:[b.jsx(rq,{className:"text-xl",children:e.title}),b.jsx(iO,{className:"pt-0 text-base md:text-lg text-gray-700 dark:text-gray-300 leading-relaxed pb-8",children:e.answer})]})},t))})})})})]})}function zRe(){const n=[{icon:Qne,description:"Conexão em tempo real"},{icon:mne,description:"Sincronização automática de mensagens"},{icon:t0,description:"Multiatendentes por número"},{icon:_te,description:"Histórico acessível mesmo offline"},{icon:dN,description:"Interface moderna e rápida"},{icon:dne,description:"QRCode simples para conexão"},{icon:zU,description:"Segurança de dados criptografada"},{icon:PU,description:"Atualizações automáticas"},{icon:Sne,description:"Compatível com WhatsApp Business e comum"}];return b.jsxs("div",{className:"flex flex-col lg:flex-row gap-10 px-10 py-16",id:"features",children:[b.jsxs(hi.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.3},transition:{duration:.6,ease:"easeOut"},className:"flex flex-col gap-6 w-full",children:[b.jsxs("h1",{className:"font-[900] text-5xl sm:text-6xl",children:["Seu atendimento no WhatsApp",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"elevado ao próximo nível"})]}),b.jsx("p",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 leading-relaxed",children:"O VAZAP transforma a colaboração da sua equipe, agilizando respostas, mantendo controle total sobre conversas e facilitando o atendimento de ponta a ponta."}),b.jsx(mt,{className:"p-7 text-xl w-fit rounded-full",children:"Quero melhorar meu atendimento"})]}),b.jsx(hi.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:{hidden:{},visible:{transition:{staggerChildren:.1}}},className:"w-full",children:b.jsx(xl,{className:"shadow-2xl",children:b.jsx(El,{className:"flex flex-col gap-4",children:n.map((e,t)=>b.jsxs(hi.div,{className:"flex items-center gap-3",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5,delay:t*.05,ease:"easeOut"},children:[b.jsx(hi.div,{whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},className:"w-12 h-12 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 shadow-lg flex items-center justify-center",children:b.jsx(e.icon,{size:24,color:"white"})}),b.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.description})]},t))})})})]})}function URe(){return b.jsxs(hi.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative overflow-hidden flex flex-col items-center justify-center min-h-screen gap-6 px-5 py-16 bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[b.jsx(hi.div,{animate:{x:[0,50,-50,0],y:[0,30,-30,0]},transition:{repeat:1/0,duration:20,ease:"easeInOut"},className:"absolute -top-20 -left-20 w-[400px] h-[400px] bg-green-500/20 rounded-full blur-3xl opacity-70"}),b.jsx(hi.div,{animate:{x:[0,-40,40,0],y:[0,-20,20,0]},transition:{repeat:1/0,duration:25,ease:"easeInOut"},className:"absolute bottom-[-150px] right-[-100px] w-[500px] h-[500px] bg-emerald-600/20 rounded-full blur-3xl opacity-60"}),b.jsx(hi.div,{animate:{scale:[1,1.05,1]},transition:{repeat:1/0,duration:8,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-tr from-green-500/5 via-emerald-500/5 to-transparent opacity-30 blur-2xl pointer-events-none"}),b.jsxs("h1",{className:"text-center text-5xl md:text-6xl font-[900] z-10",children:["Tenha"," ",b.jsx(hi.span,{whileHover:{rotate:360},transition:{duration:1,ease:"easeInOut"},className:"inline-flex",children:b.jsx(Fte,{className:"text-green-500 animate-pulse translate-y-[15px]",strokeWidth:3,size:75})})," ","dispositivos",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"conectados ao mesmo"}),b.jsx("br",{}),"número de WhatsApp"]}),b.jsx(hi.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"max-w-xl text-gray-600 dark:text-gray-300 text-xl text-center font-medium leading-relaxed z-10",children:"Conecte sua equipe ao mesmo número com mensagens sincronizadas, atendimento rápido e sem complicações."}),b.jsx(hi.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8,duration:.6},className:"z-10",children:b.jsxs(mt,{className:"py-3 px-5 md:px-7 text-lg md:text-xl rounded-full whitespace-normal h-auto",children:["Comece agora"," ",b.jsx("span",{className:"block sm:hidden",children:"mesmo 🚀"}),b.jsx("span",{className:"hidden sm:block",children:"e transforme seu atendimento"})]})})]})}function HRe(){const n=["Conexões simultâneas ilimitadas com o mesmo número","Funciona com números WhatsApp normal e Business","Sincronização de mensagens mesmo offline","Histórico completo para todos os atendentes","Conexão rápida via QR Code","Interface otimizada e responsiva","Suporte prioritário via chat e WhatsApp","Compatível com desktop e mobile","Segurança de dados criptografada","Atualizações frequentes incluídas","Suporte para múltiplas lojas","Backup automático das conversas","Relatórios de atendimento detalhados","Integração com ferramentas existentes"];return b.jsxs("div",{className:"px-10 py-16",id:"pricing",children:[b.jsxs(hi.h1,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},className:"text-5xl sm:text-6xl font-[900] text-center mb-10",children:["Plano único",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"simples e completo"})]}),b.jsx(hi.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.2},transition:{duration:.6,ease:"easeOut"},children:b.jsx(xl,{className:"max-w-[700px] mx-auto shadow-2xl",children:b.jsxs(El,{className:"flex flex-col gap-6",children:[b.jsxs(hi.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5,delay:.2},className:"text-center",children:[b.jsx("span",{className:"text-5xl sm:text-6xl font-[900]",children:"R$180"}),b.jsx("span",{className:"text-2xl text-gray-600 dark:text-gray-400 font-bold",children:"/mês por loja"})]}),b.jsx(hi.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},variants:{hidden:{},visible:{transition:{staggerChildren:.05}}},className:"grid grid-flow-row grid-cols-2 gap-4",children:n.map((e,t)=>b.jsxs(hi.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:t*.03},className:"text-gray-800 dark:text-gray-200 font-medium leading-relaxed flex items-center gap-2",children:[b.jsx("span",{children:b.jsx(rte,{className:"flex-shrink-0 w-6 h-6 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full p-1 text-white"})})," ",e]},t))}),b.jsx(hi.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.6,duration:.5},children:b.jsx(mt,{className:"p-7 text-xl rounded-xl w-full transition-transform hover:scale-[1.02]",children:"Quero começar agora"})})]})})})]})}function $Re({card:n,index:e}){return b.jsx(hi.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{delay:e*.1,duration:.6,ease:"easeOut"},whileHover:{scale:1.03},className:"transition-transform duration-300",children:b.jsx(xl,{className:"rounded-3xl shadow-lg",children:b.jsxs(El,{className:"flex flex-col gap-3",children:[b.jsx(hi.div,{whileHover:{rotate:10},transition:{type:"spring",stiffness:300},className:`w-16 h-16 rounded-2xl bg-gradient-to-r ${n.gradient} p-4 shadow-2xl flex items-center justify-center`,children:b.jsx(n.icon,{size:30,color:"white"})}),b.jsx("h3",{className:"font-bold text-xl",children:n.title}),b.jsx("p",{children:n.description})]})})})}const qRe=[{icon:t0,title:"Atendimento em equipe",description:"Múltiplos atendentes no mesmo número sem precisar compartilhar o celular",gradient:"from-blue-500 to-blue-600"},{icon:Wte,title:"Histórico sincronizado",description:"Conversas sincronizadas em tempo real com todos os membros da equipe",gradient:"from-green-500 to-emerald-600"},{icon:hN,title:"Múltiplas lojas",description:"Integração leve e rápida para gerenciar várias unidades",gradient:"from-purple-500 to-purple-600"},{icon:dN,title:"Interface moderna",description:"Experiência rápida e intuitiva construída com tecnologia de ponta",gradient:"from-orange-500 to-red-500"},{icon:zU,title:"Segurança total",description:"Dados protegidos com criptografia de ponta-a-ponta",gradient:"from-indigo-500 to-indigo-600"},{icon:PU,title:"Disponível 24/7",description:"Sistema confiável que funciona sempre que você precisa usar ",gradient:"from-teal-500 to-cyan-600"}];function GRe(){return b.jsxs("div",{className:"px-10 py-16",id:"solutions",children:[b.jsxs("h1",{className:"text-5xl sm:text-6xl font-[900] text-center mb-10",children:["Feito sob medida para",b.jsx("br",{}),b.jsx("span",{className:"bg-gradient-to-r from-green-500 via-emerald-500 to-green-600 bg-clip-text text-transparent",children:"equipes de atendimento"})]}),b.jsx("div",{className:"grid grid-flow-row grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:qRe.map((n,e)=>b.jsx($Re,{card:n,index:e},e))})]})}function WRe(){return b.jsxs("div",{style:{fontFamily:"Segoe UI"},className:"min-h-screen",children:[b.jsx(FRe,{}),b.jsx(URe,{}),b.jsx(GRe,{}),b.jsx(zRe,{}),b.jsx(BRe,{}),b.jsx(HRe,{}),b.jsx(VRe,{}),b.jsx(jRe,{})]})}function KRe(){return b.jsx("div",{className:"bg-background text-foreground",children:b.jsxs(mH,{children:[b.jsx(jC,{}),b.jsx(KG,{})]})})}const YRe=See([{path:"*",element:b.jsx(KRe,{}),children:[{index:!0,element:b.jsx(WRe,{})},{path:"connect",element:b.jsx(Q5,{children:b.jsx(t1e,{})})},{path:"conversations",element:b.jsx(Q5,{children:b.jsx(JAe,{})})}]},{path:"/",element:b.jsx(Sbe,{}),children:[{path:"auth",element:b.jsx(Cbe,{}),children:[{index:!0,element:b.jsx(kbe,{})},{path:"signin",element:b.jsx(Pbe,{})}]},{path:"admin",element:b.jsx(Zpe,{}),children:[{index:!0,element:b.jsx(tee,{to:"stores"})},{path:"stores",element:b.jsx(bbe,{})}]},{path:"*",element:b.jsx("div",{children:"Not found"})}]}]);function ZRe(){return b.jsx(Fee,{router:YRe})}MQ.createRoot(document.getElementById("root")).render(b.jsx(ZRe,{}));
